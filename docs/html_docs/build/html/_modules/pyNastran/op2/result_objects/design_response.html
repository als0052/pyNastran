

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>pyNastran.op2.result_objects.design_response &mdash; pyNastran 1.4-dev 1.4-dev documentation</title>
  

  
  <link rel="stylesheet" href="../../../../_static/css/my_theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/css/my_theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/graphviz.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../index.html" class="icon icon-home"> pyNastran 1.4-dev
          

          
            
            <img src="../../../../_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.4-dev
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../installation/index.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../quick_start/index.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../how_to/index.html">How To: pyNastran</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../reference/pyNastran.html">pyNastran Package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../manual/index.html">pyNastran Manual</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">pyNastran 1.4-dev</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../../index.html">Module code</a> &raquo;</li>
        
      <li>pyNastran.op2.result_objects.design_response</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for pyNastran.op2.result_objects.design_response</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">warnings</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<div class="viewcode-block" id="Responses"><a class="viewcode-back" href="../../../../reference/op2/result_objects/pyNastran.op2.result_objects2.html#pyNastran.op2.result_objects.design_response.Responses">[docs]</a><span class="k">class</span> <span class="nc">Responses</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Defines SOL 200 responses&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">convergence_data</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">desvars</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dscmcol</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">weight_response</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">displacement_response</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stress_response</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">strain_response</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">force_response</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">composite_stress_response</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">composite_strain_response</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flutter_response</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fractional_mass_response</span> <span class="o">=</span> <span class="kc">None</span>

<div class="viewcode-block" id="Responses.get_stats"><a class="viewcode-back" href="../../../../reference/op2/result_objects/pyNastran.op2.result_objects2.html#pyNastran.op2.result_objects.design_response.Responses.get_stats">[docs]</a>    <span class="k">def</span> <span class="nf">get_stats</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">short</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">objects</span> <span class="o">=</span> <span class="p">[</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">convergence_data</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">desvars</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dscmcol</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">displacement_response</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">weight_response</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">stress_response</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">strain_response</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">force_response</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">composite_stress_response</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">composite_strain_response</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">flutter_response</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fractional_mass_response</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">objects</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">obj</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">+=</span> <span class="n">obj</span><span class="o">.</span><span class="n">get_stats</span><span class="p">(</span><span class="n">short</span><span class="o">=</span><span class="n">short</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="k">return</span> <span class="n">msg</span></div>

<div class="viewcode-block" id="Responses.get_table_types"><a class="viewcode-back" href="../../../../reference/op2/result_objects/pyNastran.op2.result_objects2.html#pyNastran.op2.result_objects.design_response.Responses.get_table_types">[docs]</a>    <span class="k">def</span> <span class="nf">get_table_types</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">tables</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">&#39;convergence_data&#39;</span><span class="p">,</span> <span class="s1">&#39;desvars&#39;</span><span class="p">,</span> <span class="s1">&#39;dscmcol&#39;</span><span class="p">,</span>
            <span class="s1">&#39;displacement_response&#39;</span><span class="p">,</span> <span class="s1">&#39;weight_response&#39;</span><span class="p">,</span>
            <span class="s1">&#39;stress_response&#39;</span><span class="p">,</span> <span class="s1">&#39;strain_response&#39;</span><span class="p">,</span> <span class="s1">&#39;force_response&#39;</span><span class="p">,</span>
            <span class="s1">&#39;composite_stress_response&#39;</span><span class="p">,</span> <span class="s1">&#39;composite_strain_response&#39;</span><span class="p">,</span> <span class="s1">&#39;flutter_response&#39;</span><span class="p">,</span>
            <span class="s1">&#39;fractional_mass_response&#39;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="k">return</span> <span class="p">[</span><span class="s1">&#39;responses.&#39;</span> <span class="o">+</span> <span class="n">table</span> <span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">tables</span>
                <span class="c1">#if getattr(self, table) is not None</span>
                <span class="p">]</span></div></div>

<div class="viewcode-block" id="WeightResponse"><a class="viewcode-back" href="../../../../reference/op2/result_objects/pyNastran.op2.result_objects2.html#pyNastran.op2.result_objects.design_response.WeightResponse">[docs]</a><span class="k">class</span> <span class="nc">WeightResponse</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">n</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_n</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_itable</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_built</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">internal_id</span> <span class="o">=</span> <span class="p">[]</span>

<div class="viewcode-block" id="WeightResponse.add_from_op2"><a class="viewcode-back" href="../../../../reference/op2/result_objects/pyNastran.op2.result_objects2.html#pyNastran.op2.result_objects.design_response.WeightResponse.add_from_op2">[docs]</a>    <span class="k">def</span> <span class="nf">add_from_op2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">out</span><span class="p">,</span> <span class="n">log</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Weight Response</span>

<span class="sd">        1 IRID         I Internal response identification number</span>
<span class="sd">        2 RID          I External response identification number</span>
<span class="sd">        3 TYPE(C)      I Response type</span>
<span class="sd">        4 LABEL(2) CHAR4 Label</span>
<span class="sd">        6 REGION       I Region identifier</span>
<span class="sd">        7 SCID         I Subcase identification number</span>
<span class="sd">        8 UNDEF(2)     I Not used</span>
<span class="sd">        10 SEID        I Superelement identification number or ALL</span>
<span class="sd">        11 UNDEF(2)    I Not used</span>

<span class="sd">        13 UNDEF       I Not used</span>
<span class="sd">        14 TYFLG       I Flag to indicate how response is referenced</span>
<span class="sd">        15 SEID        I Superelement identificaiton number</span>

<span class="sd">        ---&gt; 3i 8s 7i 3i</span>

<span class="sd">        #                             -----  WEIGHT RESPONSE  -----</span>
<span class="sd">        # ---------------------------------------------------------------------------------</span>
<span class="sd">        #  INTERNAL  DRESP1  RESPONSE  ROW  COLUMN  LOWER     INPUT      OUTPUT     UPPER</span>
<span class="sd">        #     ID       ID     LABEL     ID    ID    BOUND     VALUE       VALUE     BOUND</span>
<span class="sd">        # ---------------------------------------------------------------------------------</span>
<span class="sd">        #       1       1    WEIGHT     3     3       N/A   2.9861E+05  2.9852E+05   N/A</span>

<span class="sd">        # ?  ?     ?  LABEL?      ?  ?     ROW_ID? COL_ID? ?  ?  ?          ?          ?  ?</span>
<span class="sd">        #(1, 1,    1, &#39;WEIGHT  &#39;, 0, 1011, 3,      3,      0, 0, 0,         0,         0, 0)</span>
<span class="sd">        #(1, 1000, 1, &#39;W       &#39;, 0, 1,    3,      3,      0, 0, 0,         0,         0, 0)</span>
<span class="sd">        #</span>
<span class="sd">        # per dev forum; 538976288 is probably just &#39;    &#39;</span>
<span class="sd">        #(1, 1,    1, &#39;WEIGHT  &#39;, 0, 1,    3,      3,      0, 0, 538976288, 538976288, 0, 0)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># F:\work\pyNastran\examples\Dropbox\move_tpl\mbcgen.op2</span>
        <span class="c1"># (1,  15, 1, &#39;W       &#39;, -1,    1, 3, 3, 0, 0, 0, 0, 0, 10)</span>

        <span class="c1"># F:\work\pyNastran\examples\Dropbox\move_tpl\i2002.op2</span>
        <span class="c1"># (20, 15, 1, &#39;W       &#39;, -1,    1, 3, 3, 0, 0, 0, 0, 0, 20)</span>

        <span class="c1"># F:\work\pyNastran\examples\Dropbox\move_tpl\edr2n.op2</span>
        <span class="c1"># (1, 201, 1, &#39;WEIGHT  &#39;, -1,    0, 3, 3, 0, 0, 0, 0, 0, 100)</span>

        <span class="c1"># F:\work\pyNastran\examples\Dropbox\move_tpl\ss200m2.op2</span>
        <span class="c1"># (1,   1, 1, &#39;W       &#39;, 0, 30001, 3, 3, 0, 0, 0, 0, 0, 300)</span>

        <span class="c1"># F:\work\pyNastran\examples\Dropbox\move_tpl\mcso43.op2</span>
        <span class="c1"># (1,  10, 1, &#39;W       &#39;, 0,     1, 3, 3, 0, 0, 0, 0, 1, 0)</span>
        <span class="c1">#--------------------------</span>
        <span class="c1"># common</span>
        <span class="c1">#</span>
        <span class="c1"># per the R1TAB DMAP page:</span>
        <span class="c1">#   all indicies are downshift by 1</span>
        <span class="c1">#   indices above out[3] are off by +2 because of the 2 field response_label</span>
        <span class="n">internal_id</span> <span class="o">=</span> <span class="n">out</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">dresp_id</span> <span class="o">=</span> <span class="n">out</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">response_type</span> <span class="o">=</span> <span class="n">out</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">response_label</span> <span class="o">=</span> <span class="n">out</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="c1"># -1 for 2 field wide response_label</span>
        <span class="n">region</span> <span class="o">=</span> <span class="n">out</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
        <span class="n">subcase</span> <span class="o">=</span> <span class="n">out</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
        <span class="n">type_flag</span> <span class="o">=</span> <span class="n">out</span><span class="p">[</span><span class="mi">12</span><span class="p">]</span>  <span class="c1"># no meaning per MSC DMAP 2005</span>
        <span class="n">seid</span> <span class="o">=</span> <span class="n">out</span><span class="p">[</span><span class="mi">13</span><span class="p">]</span>

        <span class="c1">#--------------------------------------------------</span>
        <span class="c1">#row_id = out[4]</span>

        <span class="c1"># these should be blank?</span>
        <span class="n">row_id</span> <span class="o">=</span> <span class="n">out</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span>
        <span class="n">column_id</span> <span class="o">=</span> <span class="n">out</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span>
        <span class="n">seid_weight</span> <span class="o">=</span> <span class="n">out</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">out</span><span class="p">[</span><span class="mi">8</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">!=</span> <span class="mf">0.0</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;WEIGHT response sum error; out=</span><span class="si">%s</span><span class="s1"> 8=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">out</span><span class="p">,</span> <span class="n">out</span><span class="p">[</span><span class="mi">8</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
            <span class="n">log</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">seid</span> <span class="o">==</span> <span class="n">out</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="c1">#assert out[-1] in [0, 1, 2, 3, 4, 5, 10, 20, 100, 200, 300], out</span>
        <span class="c1">#dunno_8 = out[8]</span>
        <span class="c1">#dunno_9 = out[9]</span>
        <span class="c1">#dunno_10 = out[10]</span>
        <span class="c1">#dunno_11 = out[11]</span>
        <span class="c1">#dunno_12 = out[12]</span>
        <span class="c1">#msg = (&#39;WEIGHT - response_type=%r response_label=%r row_id=%r column_id=%r &#39;</span>
            <span class="c1">#&#39;6=%r 7=%r 8=%r 9=%r 10=%r 11=%r 12=%r seid=%r&#39; % (</span>
            <span class="c1">#response_type, response_label, row_id, column_id,</span>
            <span class="c1">#dunno_6, dunno_7, dunno_8, dunno_9, dunno_10, dunno_11, dunno_12, seid))</span>
        <span class="c1">#out = unpack(self._endian + b&#39;iii 8s iiff f fffff&#39;, data)</span>
        <span class="c1">#msg = &#39;WEIGHT - label=%r region=%s subcase=%s row_id=%r column_id=%r&#39; % (</span>
            <span class="c1">#response_label, region, subcase, row_id, column_id)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">internal_id</span><span class="p">,</span> <span class="n">dresp_id</span><span class="p">,</span> <span class="n">response_label</span><span class="p">,</span> <span class="n">region</span><span class="p">,</span>
                    <span class="n">subcase</span><span class="p">,</span> <span class="n">type_flag</span><span class="p">,</span> <span class="n">seid</span><span class="p">,</span>
                    <span class="n">row_id</span><span class="p">,</span> <span class="n">column_id</span><span class="p">)</span></div>
        <span class="c1">#print(msg)</span>
        <span class="c1">#self.log.debug(msg)</span>

<div class="viewcode-block" id="WeightResponse.append"><a class="viewcode-back" href="../../../../reference/op2/result_objects/pyNastran.op2.result_objects2.html#pyNastran.op2.result_objects.design_response.WeightResponse.append">[docs]</a>    <span class="k">def</span> <span class="nf">append</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">internal_id</span><span class="p">,</span> <span class="n">dresp_id</span><span class="p">,</span> <span class="n">response_label</span><span class="p">,</span> <span class="n">region</span><span class="p">,</span>
               <span class="n">subcase</span><span class="p">,</span> <span class="n">type_flag</span><span class="p">,</span> <span class="n">seid</span><span class="p">,</span>
               <span class="n">row_id</span><span class="p">,</span> <span class="n">column_id</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">internal_id</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">internal_id</span><span class="p">)</span>
        <span class="c1">#self.response_label.append(response_label)</span>
        <span class="c1">#self.subcase.append(subcase)</span>
        <span class="c1">#self.mode.append(mode)</span>
        <span class="c1">#self.mach.append(mach)</span>
        <span class="c1">#self.velocity.append(velocity)</span>
        <span class="c1">#self.density.append(density)</span>
        <span class="c1">#self.flutter_id.append(flutter_id)</span>
        <span class="c1">#self.subcase.append(subcase)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_n</span> <span class="o">+=</span> <span class="mi">1</span></div>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;responses.WeightResponse()</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;  n=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">n</span>
        <span class="c1">#msg += &#39;  velocity=%s\n&#39; % (velocity)</span>
        <span class="k">return</span> <span class="n">msg</span>

<div class="viewcode-block" id="WeightResponse.get_stats"><a class="viewcode-back" href="../../../../reference/op2/result_objects/pyNastran.op2.result_objects2.html#pyNastran.op2.result_objects.design_response.WeightResponse.get_stats">[docs]</a>    <span class="k">def</span> <span class="nf">get_stats</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">short</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">short</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;responses.weight_response (</span><span class="si">%s</span><span class="s1">)</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">n</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span></div></div>


<div class="viewcode-block" id="PropertyResponse"><a class="viewcode-back" href="../../../../reference/op2/result_objects/pyNastran.op2.result_objects2.html#pyNastran.op2.result_objects.design_response.PropertyResponse">[docs]</a><span class="k">class</span> <span class="nc">PropertyResponse</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;common class for StressResponse, StrainResponse, and ForceResponse&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">n</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_n</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_itable</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_built</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">internal_id</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">response_label</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">subcase</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">item_code</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pid</span> <span class="o">=</span> <span class="p">[]</span>

<div class="viewcode-block" id="PropertyResponse.append"><a class="viewcode-back" href="../../../../reference/op2/result_objects/pyNastran.op2.result_objects2.html#pyNastran.op2.result_objects.design_response.PropertyResponse.append">[docs]</a>    <span class="k">def</span> <span class="nf">append</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">internal_id</span><span class="p">,</span> <span class="n">dresp_id</span><span class="p">,</span> <span class="n">response_label</span><span class="p">,</span> <span class="n">region</span><span class="p">,</span> <span class="n">subcase</span><span class="p">,</span> <span class="n">type_flag</span><span class="p">,</span> <span class="n">seid</span><span class="p">,</span>
               <span class="n">item_code</span><span class="p">,</span> <span class="n">pid</span><span class="p">):</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">response_label</span><span class="p">,</span> <span class="nb">str</span><span class="p">),</span> <span class="n">response_label</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">internal_id</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">internal_id</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">response_label</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">response_label</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">subcase</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">subcase</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">item_code</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item_code</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pid</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_n</span> <span class="o">+=</span> <span class="mi">1</span></div>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;responses.</span><span class="si">%s</span><span class="s1">()</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">name</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;  internal_id = </span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">internal_id</span><span class="p">)</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;  response_label = </span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">response_label</span><span class="p">)</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;  subcase = </span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">subcase</span><span class="p">)</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;  item_code = </span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item_code</span><span class="p">)</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;  pid = </span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">msg</span>

<div class="viewcode-block" id="PropertyResponse.get_stats"><a class="viewcode-back" href="../../../../reference/op2/result_objects/pyNastran.op2.result_objects2.html#pyNastran.op2.result_objects.design_response.PropertyResponse.get_stats">[docs]</a>    <span class="k">def</span> <span class="nf">get_stats</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">short</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">short</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;responses.</span><span class="si">%s</span><span class="s1">_response (</span><span class="si">%s</span><span class="s1">)</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">n</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span></div></div>

<div class="viewcode-block" id="FractionalMassResponse"><a class="viewcode-back" href="../../../../reference/op2/result_objects/pyNastran.op2.result_objects2.html#pyNastran.op2.result_objects.design_response.FractionalMassResponse">[docs]</a><span class="k">class</span> <span class="nc">FractionalMassResponse</span><span class="p">:</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;fractional_mass&#39;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">n</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_n</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_itable</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_built</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">internal_id</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dresp_id</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">response_label</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">subcase</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">type_flag</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">seid</span> <span class="o">=</span> <span class="p">[]</span>

<div class="viewcode-block" id="FractionalMassResponse.get_stats"><a class="viewcode-back" href="../../../../reference/op2/result_objects/pyNastran.op2.result_objects2.html#pyNastran.op2.result_objects.design_response.FractionalMassResponse.get_stats">[docs]</a>    <span class="k">def</span> <span class="nf">get_stats</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">short</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">short</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;responses.</span><span class="si">%s</span><span class="s1">_response (</span><span class="si">%s</span><span class="s1">)</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">n</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span></div>

<div class="viewcode-block" id="FractionalMassResponse.append"><a class="viewcode-back" href="../../../../reference/op2/result_objects/pyNastran.op2.result_objects2.html#pyNastran.op2.result_objects.design_response.FractionalMassResponse.append">[docs]</a>    <span class="k">def</span> <span class="nf">append</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">internal_id</span><span class="p">,</span> <span class="n">dresp_id</span><span class="p">,</span> <span class="n">response_label</span><span class="p">,</span> <span class="n">region</span><span class="p">,</span>
               <span class="n">subcase</span><span class="p">,</span> <span class="n">type_flag</span><span class="p">,</span> <span class="n">seid</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">internal_id</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">internal_id</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dresp_id</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dresp_id</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">region</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">region</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">response_label</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">response_label</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">subcase</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">subcase</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">type_flag</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">type_flag</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">seid</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">seid</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_n</span> <span class="o">+=</span> <span class="mi">1</span></div>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;FractionalMassResponse()</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;  response_label=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">response_label</span><span class="p">)</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;  internal_id=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">internal_id</span><span class="p">)</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;  region=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">region</span><span class="p">)</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;  subcase=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">subcase</span><span class="p">)</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;  type_flag=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type_flag</span><span class="p">)</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;  seid=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">seid</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">msg</span></div>


<div class="viewcode-block" id="DisplacementResponse"><a class="viewcode-back" href="../../../../reference/op2/result_objects/pyNastran.op2.result_objects2.html#pyNastran.op2.result_objects.design_response.DisplacementResponse">[docs]</a><span class="k">class</span> <span class="nc">DisplacementResponse</span><span class="p">:</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;displacement&#39;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">n</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_n</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_itable</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_built</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">internal_id</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dresp_id</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">response_label</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">subcase</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nid</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">component</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">type_flag</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">seid</span> <span class="o">=</span> <span class="p">[]</span>

<div class="viewcode-block" id="DisplacementResponse.append"><a class="viewcode-back" href="../../../../reference/op2/result_objects/pyNastran.op2.result_objects2.html#pyNastran.op2.result_objects.design_response.DisplacementResponse.append">[docs]</a>    <span class="k">def</span> <span class="nf">append</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">internal_id</span><span class="p">,</span> <span class="n">dresp_id</span><span class="p">,</span> <span class="n">response_label</span><span class="p">,</span> <span class="n">region</span><span class="p">,</span>
               <span class="n">subcase</span><span class="p">,</span> <span class="n">type_flag</span><span class="p">,</span> <span class="n">seid</span><span class="p">,</span>
               <span class="n">nid</span><span class="p">,</span> <span class="n">component</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">internal_id</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">internal_id</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dresp_id</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dresp_id</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">region</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">region</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">response_label</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">response_label</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">subcase</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">subcase</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nid</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">nid</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">component</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">component</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">type_flag</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">type_flag</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">seid</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">seid</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_n</span> <span class="o">+=</span> <span class="mi">1</span></div>

<div class="viewcode-block" id="DisplacementResponse.get_stats"><a class="viewcode-back" href="../../../../reference/op2/result_objects/pyNastran.op2.result_objects2.html#pyNastran.op2.result_objects.design_response.DisplacementResponse.get_stats">[docs]</a>    <span class="k">def</span> <span class="nf">get_stats</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">short</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">short</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;responses.</span><span class="si">%s</span><span class="s1">_response (</span><span class="si">%s</span><span class="s1">)</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">n</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span></div>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;DisplacementResponse()</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;  response_label=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">response_label</span><span class="p">)</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;  nid=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nid</span><span class="p">)</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;  component=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">component</span><span class="p">)</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;  internal_id=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">internal_id</span><span class="p">)</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;  subcase=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">subcase</span><span class="p">)</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;  type_flag=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type_flag</span><span class="p">)</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;  seid=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">seid</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">msg</span></div>

<div class="viewcode-block" id="ForceResponse"><a class="viewcode-back" href="../../../../reference/op2/result_objects/pyNastran.op2.result_objects2.html#pyNastran.op2.result_objects.design_response.ForceResponse">[docs]</a><span class="k">class</span> <span class="nc">ForceResponse</span><span class="p">(</span><span class="n">PropertyResponse</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;force&#39;</span></div>
<div class="viewcode-block" id="StressResponse"><a class="viewcode-back" href="../../../../reference/op2/result_objects/pyNastran.op2.result_objects2.html#pyNastran.op2.result_objects.design_response.StressResponse">[docs]</a><span class="k">class</span> <span class="nc">StressResponse</span><span class="p">(</span><span class="n">PropertyResponse</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;stress&#39;</span></div>
<div class="viewcode-block" id="StrainResponse"><a class="viewcode-back" href="../../../../reference/op2/result_objects/pyNastran.op2.result_objects2.html#pyNastran.op2.result_objects.design_response.StrainResponse">[docs]</a><span class="k">class</span> <span class="nc">StrainResponse</span><span class="p">(</span><span class="n">PropertyResponse</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;strain&#39;</span></div>

<div class="viewcode-block" id="FlutterResponse"><a class="viewcode-back" href="../../../../reference/op2/result_objects/pyNastran.op2.result_objects2.html#pyNastran.op2.result_objects.design_response.FlutterResponse">[docs]</a><span class="k">class</span> <span class="nc">FlutterResponse</span><span class="p">:</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;flutter&#39;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">n</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_n</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_itable</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_built</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">internal_id</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">response_label</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">subcase</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mach</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">velocity</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">density</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flutter_id</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">subcase</span> <span class="o">=</span> <span class="p">[]</span>

<div class="viewcode-block" id="FlutterResponse.append"><a class="viewcode-back" href="../../../../reference/op2/result_objects/pyNastran.op2.result_objects2.html#pyNastran.op2.result_objects.design_response.FlutterResponse.append">[docs]</a>    <span class="k">def</span> <span class="nf">append</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">internal_id</span><span class="p">,</span> <span class="n">dresp_id</span><span class="p">,</span> <span class="n">response_label</span><span class="p">,</span> <span class="n">region</span><span class="p">,</span> <span class="n">subcase</span><span class="p">,</span> <span class="n">type_flag</span><span class="p">,</span> <span class="n">seid</span><span class="p">,</span>
               <span class="n">mode</span><span class="p">,</span> <span class="n">mach</span><span class="p">,</span> <span class="n">velocity</span><span class="p">,</span> <span class="n">density</span><span class="p">,</span> <span class="n">flutter_id</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">internal_id</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">internal_id</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">response_label</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">response_label</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">subcase</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">subcase</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mode</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">mode</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mach</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">mach</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">velocity</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">velocity</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">density</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">density</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flutter_id</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">flutter_id</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_n</span> <span class="o">+=</span> <span class="mi">1</span></div>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;FlutterResponse()</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;  velocity=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">velocity</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">msg</span>

<div class="viewcode-block" id="FlutterResponse.get_stats"><a class="viewcode-back" href="../../../../reference/op2/result_objects/pyNastran.op2.result_objects2.html#pyNastran.op2.result_objects.design_response.FlutterResponse.get_stats">[docs]</a>    <span class="k">def</span> <span class="nf">get_stats</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">short</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">short</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;responses.</span><span class="si">%s</span><span class="s1">_response (</span><span class="si">%s</span><span class="s1">)</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">n</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span></div></div>


<div class="viewcode-block" id="DSCMCOL"><a class="viewcode-back" href="../../../../reference/op2/result_objects/pyNastran.op2.result_objects2.html#pyNastran.op2.result_objects.design_response.DSCMCOL">[docs]</a><span class="k">class</span> <span class="nc">DSCMCOL</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    &#39;                                   -----   IDENTIFICATION OF COLUMNS IN THE DESIGN SENSITIVITY  -----&#39;</span>
<span class="sd">    &#39;                                   -----     MATRIX THAT ARE ASSOCIATED WITH DRESP1  ENTRIES    -----&#39;</span>
<span class="sd">    &#39;&#39;</span>
<span class="sd">    &#39;&#39;</span>
<span class="sd">    &#39;             -----  WEIGHT/VOLUME RESPONSES  -----&#39;</span>
<span class="sd">    &#39;          ------------------------------------------&#39;</span>
<span class="sd">    &#39;            COLUMN         DRESP1         RESPONSE&#39;</span>
<span class="sd">    &#39;              NO.         ENTRY ID          TYPE  &#39;</span>
<span class="sd">    &#39;          ------------------------------------------&#39;</span>
<span class="sd">    &#39;                1               1        WEIGHT  &#39;</span>
<span class="sd">    &#39;&#39;</span>
<span class="sd">    &#39;&#39;</span>
<span class="sd">    &#39;             -----  STATICS RESPONSES  -----&#39;</span>
<span class="sd">    &#39;          ------------------------------------------------------------------------------------------------------------------------&#39;</span>
<span class="sd">    &#39;            COLUMN         DRESP1         RESPONSE        GRID/ELM          VIEW         COMPONENT           SUB             PLY  &#39;</span>
<span class="sd">    &#39;              NO.         ENTRY ID          TYPE             ID            ELM ID            NO.             CASE             NO. &#39;</span>
<span class="sd">    #&#39;            COLUMN         DRESP1         RESPONSE        GRID/ELM          VIEW         COMPONENT           SUB  &#39;</span>
<span class="sd">    #&#39;              NO.         ENTRY ID          TYPE             ID            ELM ID            NO.             CASE &#39;</span>
<span class="sd">    &#39;          ------------------------------------------------------------------------------------------------------------------------&#39;</span>
<span class="sd">    &#39;                2               2        STRESS                 1                               5               1&#39;</span>
<span class="sd">    &#39;                3               2        STRESS                 3                               5               1&#39;</span>
<span class="sd">    &#39;                4           10501        DISP                 100                               1               1&#39;</span>
<span class="sd">    &#39;&#39;</span>
<span class="sd">    &#39;&#39;</span>
<span class="sd">    #&#39;                                                 ---- RETAINED DRESP2 RESPONSES ----&#39;</span>
<span class="sd">    #&#39;&#39;</span>
<span class="sd">    #&#39;     ----------------------------------------------------------------------------------------------------------&#39;</span>
<span class="sd">    #&#39;         INTERNAL      DRESP2      RESPONSE     EQUATION         LOWER                             UPPER   &#39;</span>
<span class="sd">    #&#39;            ID           ID         LABEL          ID            BOUND            VALUE            BOUND   &#39;</span>
<span class="sd">    #&#39;     ----------------------------------------------------------------------------------------------------------&#39;</span>
<span class="sd">    #&#39;                3          105     DISPMAG             3      -1.0000E+20       9.4677E-05       2.5000E-04&#39;</span>
<span class="sd">    &#39;                                   -----   IDENTIFICATION OF COLUMNS IN THE DESIGN SENSITIVITY  -----&#39;</span>
<span class="sd">    &#39;                                   -----     MATRIX THAT ARE ASSOCIATED WITH DRESP2  ENTRIES    -----&#39;</span>
<span class="sd">    &#39;&#39;</span>
<span class="sd">    &#39;&#39;</span>
<span class="sd">    &#39;          ----------------------------------------------------------&#39;</span>
<span class="sd">    &#39;            COLUMN         DRESP2           SUB             FREQ/ &#39;</span>
<span class="sd">    &#39;              NO.         ENTRY ID          CASE            TIME  &#39;</span>
<span class="sd">    &#39;          ----------------------------------------------------------&#39;</span>
<span class="sd">    &#39;               96             103               0         0.00000&#39;</span>
<span class="sd">    &#39;               97             104               0         0.00000&#39;</span>
<span class="sd">    &#39;              100             105               1&#39;</span>


<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">responses</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;internal_response_id = iresponse + 1 = column in DSCM2&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">responses</span> <span class="o">=</span> <span class="n">responses</span>

    <span class="c1">#def write_f06(self):</span>
        <span class="c1">#msg = [</span>
            <span class="c1">#&#39;                                   -----   IDENTIFICATION OF COLUMNS IN THE DESIGN SENSITIVITY  -----&#39;</span>
            <span class="c1">#&#39;                                   -----     MATRIX THAT ARE ASSOCIATED WITH DRESP1  ENTRIES    -----&#39;</span>
            <span class="c1">#&#39;&#39;</span>
            <span class="c1">#&#39;&#39;</span>
            <span class="c1">#&#39;             -----  WEIGHT/VOLUME RESPONSES  -----&#39;</span>
            <span class="c1">#&#39;          ------------------------------------------&#39;</span>
            <span class="c1">#&#39;            COLUMN         DRESP1         RESPONSE&#39;</span>
            <span class="c1">#&#39;              NO.         ENTRY ID          TYPE  &#39;</span>
            <span class="c1">#&#39;          ------------------------------------------&#39;</span>
            <span class="c1">#&#39;                1               1        WEIGHT  &#39;</span>
            <span class="c1">#&#39;&#39;</span>
            <span class="c1">#&#39;&#39;</span>
            <span class="c1">#&#39;             -----  STATICS RESPONSES  -----&#39;</span>
            <span class="c1">#&#39;          ------------------------------------------------------------------------------------------------------------------------&#39;</span>
            <span class="c1">#&#39;            COLUMN         DRESP1         RESPONSE        GRID/ELM          VIEW         COMPONENT           SUB  &#39;</span>
            <span class="c1">#&#39;              NO.         ENTRY ID          TYPE             ID            ELM ID            NO.             CASE &#39;</span>
            <span class="c1">#&#39;          ------------------------------------------------------------------------------------------------------------------------&#39;</span>
            <span class="c1">#&#39;                2               2        STRESS                 1                               5               1&#39;</span>
            <span class="c1">#&#39;                3               2        STRESS                 3                               5               1&#39;</span>
            <span class="c1">#&#39;&#39;</span>
            <span class="c1">#&#39;&#39;</span>
            <span class="c1">#&#39;             -----  EIGENVALUE RESPONSES  -----&#39;</span>
            <span class="c1">#&#39;          --------------------------------------------------------------------------&#39;</span>
            <span class="c1">#&#39;            COLUMN         DRESP1         RESPONSE          MODE            SUB  &#39;</span>
            <span class="c1">#&#39;              NO.         ENTRY ID          TYPE             NO.            CASE &#39;</span>
            <span class="c1">#&#39;          --------------------------------------------------------------------------&#39;</span>
            <span class="c1">#&#39;                2               4        FREQ                   1               1&#39;</span>
        <span class="c1">#]</span>
        <span class="c1">#return msg</span>

<div class="viewcode-block" id="DSCMCOL.get_responses_by_group"><a class="viewcode-back" href="../../../../reference/op2/result_objects/pyNastran.op2.result_objects2.html#pyNastran.op2.result_objects.design_response.DSCMCOL.get_responses_by_group">[docs]</a>    <span class="k">def</span> <span class="nf">get_responses_by_group</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">response_groups_order</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">&#39;weight_volume&#39;</span><span class="p">,</span> <span class="s1">&#39;static&#39;</span><span class="p">,</span> <span class="s1">&#39;eigenvalue&#39;</span><span class="p">,</span>
            <span class="s1">&#39;???&#39;</span><span class="p">,</span> <span class="s1">&#39;psd&#39;</span><span class="p">,</span>
            <span class="s1">&#39;2&#39;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">responses_groups</span> <span class="o">=</span> <span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="p">[]</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">response_groups_order</span><span class="p">}</span>


        <span class="n">response_name_to_group</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;weight&#39;</span><span class="p">:</span> <span class="s1">&#39;weight_volume&#39;</span><span class="p">,</span>
            <span class="s1">&#39;volume&#39;</span><span class="p">:</span> <span class="s1">&#39;weight_volume&#39;</span><span class="p">,</span>

            <span class="s1">&#39;static stress&#39;</span><span class="p">:</span> <span class="s1">&#39;static&#39;</span><span class="p">,</span>
            <span class="s1">&#39;static displacement&#39;</span><span class="p">:</span> <span class="s1">&#39;static&#39;</span><span class="p">,</span>
            <span class="s1">&#39;static strain&#39;</span><span class="p">:</span> <span class="s1">&#39;static&#39;</span><span class="p">,</span>
            <span class="s1">&#39;composite failure&#39;</span><span class="p">:</span> <span class="s1">&#39;static&#39;</span><span class="p">,</span>
            <span class="s1">&#39;composite strain&#39;</span><span class="p">:</span> <span class="s1">&#39;static&#39;</span><span class="p">,</span>

            <span class="s1">&#39;psd displacement&#39;</span><span class="p">:</span> <span class="s1">&#39;psd&#39;</span><span class="p">,</span>
            <span class="s1">&#39;psd acceleration&#39;</span><span class="p">:</span> <span class="s1">&#39;psd&#39;</span><span class="p">,</span>

            <span class="s1">&#39;normal modes&#39;</span><span class="p">:</span> <span class="s1">&#39;eigenvalue&#39;</span><span class="p">,</span>

            <span class="s1">&#39;equivalent radiated power&#39;</span><span class="p">:</span> <span class="s1">&#39;???&#39;</span><span class="p">,</span>
            <span class="s1">&#39;frequency response displacement&#39;</span><span class="p">:</span> <span class="s1">&#39;???&#39;</span><span class="p">,</span>
            <span class="s1">&#39;frequency response stress?&#39;</span><span class="p">:</span> <span class="s1">&#39;???&#39;</span><span class="p">,</span>
            <span class="s1">&#39;ceig&#39;</span><span class="p">:</span> <span class="s1">&#39;???&#39;</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">response_name_to_f06_response_type</span> <span class="o">=</span> <span class="p">{</span>
            <span class="c1"># weight/volume</span>
            <span class="s1">&#39;weight&#39;</span> <span class="p">:</span> <span class="s1">&#39;WEIGHT&#39;</span><span class="p">,</span>
            <span class="s1">&#39;volume&#39;</span><span class="p">:</span> <span class="s1">&#39;VOLUME&#39;</span><span class="p">,</span>
            <span class="s1">&#39;normal modes&#39;</span><span class="p">:</span> <span class="s1">&#39;FREQ&#39;</span><span class="p">,</span>

            <span class="c1"># static</span>
            <span class="s1">&#39;static stress&#39;</span><span class="p">:</span> <span class="s1">&#39;STRESS&#39;</span><span class="p">,</span>
            <span class="s1">&#39;static strain&#39;</span><span class="p">:</span> <span class="s1">&#39;STRAIN&#39;</span><span class="p">,</span>
            <span class="s1">&#39;static displacement&#39;</span><span class="p">:</span> <span class="s1">&#39;DISP&#39;</span><span class="p">,</span>
            <span class="s1">&#39;composite failure&#39;</span><span class="p">:</span> <span class="s1">&#39;CFAILURE&#39;</span><span class="p">,</span>
            <span class="s1">&#39;composite strain&#39;</span><span class="p">:</span> <span class="s1">&#39;CSTRAIN&#39;</span><span class="p">,</span>

            <span class="c1"># psd</span>
            <span class="s1">&#39;psd displacement&#39;</span><span class="p">:</span> <span class="s1">&#39;DISP&#39;</span><span class="p">,</span>
            <span class="s1">&#39;psd acceleration&#39;</span><span class="p">:</span> <span class="s1">&#39;ACCE&#39;</span><span class="p">,</span>

            <span class="c1"># ???</span>
            <span class="s1">&#39;frequency response displacement&#39;</span><span class="p">:</span> <span class="s1">&#39;???&#39;</span><span class="p">,</span>
            <span class="s1">&#39;frequency response stress?&#39;</span><span class="p">:</span> <span class="s1">&#39;???&#39;</span><span class="p">,</span>
            <span class="s1">&#39;ceig&#39;</span><span class="p">:</span> <span class="s1">&#39;???&#39;</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">respi</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">responses</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">response_number</span> <span class="o">=</span> <span class="n">respi</span><span class="p">[</span><span class="s1">&#39;response_number&#39;</span><span class="p">]</span>
            <span class="k">if</span> <span class="s1">&#39;name&#39;</span> <span class="ow">in</span> <span class="n">respi</span><span class="p">:</span>
                <span class="n">name</span> <span class="o">=</span> <span class="n">respi</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
                <span class="n">group</span> <span class="o">=</span> <span class="n">response_name_to_group</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
                <span class="n">responses_groups</span><span class="p">[</span><span class="n">group</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
                <span class="k">assert</span> <span class="n">response_number</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span> <span class="n">respi</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">assert</span> <span class="n">response_number</span> <span class="o">==</span> <span class="mi">2</span><span class="p">,</span> <span class="n">respi</span>
                <span class="n">responses_groups</span><span class="p">[</span><span class="s1">&#39;2&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="c1">#print(f&#39;responses_groups = {responses_groups}&#39;)</span>

        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="c1">#&#39;                                   -----   IDENTIFICATION OF COLUMNS IN THE DESIGN SENSITIVITY  -----&#39;</span>
        <span class="c1">#&#39;                                   -----     MATRIX THAT ARE ASSOCIATED WITH DRESP1  ENTRIES    -----&#39;</span>
        <span class="c1">#&#39;&#39;</span>
        <span class="c1">#&#39;&#39;</span>
        <span class="n">missing_keys</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">responses_groups</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="n">response_groups_order</span><span class="p">)</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">missing_keys</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="n">missing_keys</span>
        <span class="k">for</span> <span class="n">group_name</span> <span class="ow">in</span> <span class="n">response_groups_order</span><span class="p">:</span>
            <span class="n">ids</span> <span class="o">=</span> <span class="n">responses_groups</span><span class="p">[</span><span class="n">group_name</span><span class="p">]</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">ids</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">continue</span>

            <span class="k">if</span> <span class="n">group_name</span> <span class="o">==</span> <span class="s1">&#39;weight_volume&#39;</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">+=</span> <span class="p">(</span>
                    <span class="s1">&#39;             -----  WEIGHT/VOLUME RESPONSES  -----</span><span class="se">\n</span><span class="s1">&#39;</span>
                    <span class="s1">&#39;          ------------------------------------------</span><span class="se">\n</span><span class="s1">&#39;</span>
                    <span class="s1">&#39;            COLUMN         DRESP1         RESPONSE</span><span class="se">\n</span><span class="s1">&#39;</span>
                    <span class="s1">&#39;              NO.         ENTRY ID          TYPE  </span><span class="se">\n</span><span class="s1">&#39;</span>
                    <span class="s1">&#39;          ------------------------------------------</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">ids</span><span class="p">:</span>
                    <span class="n">respi</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">responses</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                    <span class="n">external_id</span> <span class="o">=</span> <span class="n">respi</span><span class="p">[</span><span class="s1">&#39;external_response_id&#39;</span><span class="p">]</span>
                    <span class="n">name</span> <span class="o">=</span> <span class="n">respi</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
                    <span class="n">response_type</span> <span class="o">=</span> <span class="n">response_name_to_f06_response_type</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
                    <span class="n">msg</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;         </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">:</span><span class="s1">8d</span><span class="si">}</span><span class="s1">        </span><span class="si">{</span><span class="n">external_id</span><span class="si">:</span><span class="s1">8d</span><span class="si">}</span><span class="s1">        </span><span class="si">{</span><span class="n">response_type</span><span class="si">:</span><span class="s1">8s</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span>
            <span class="k">elif</span> <span class="n">group_name</span> <span class="o">==</span> <span class="s1">&#39;static&#39;</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_write_static</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span> <span class="n">response_name_to_f06_response_type</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">group_name</span> <span class="o">==</span> <span class="s1">&#39;eigenvalue&#39;</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">+=</span> <span class="p">(</span>
                    <span class="s1">&#39;             -----  EIGENVALUE RESPONSES  -----</span><span class="se">\n</span><span class="s1">&#39;</span>
                    <span class="s1">&#39;          --------------------------------------------------------------------------</span><span class="se">\n</span><span class="s1">&#39;</span>
                    <span class="s1">&#39;            COLUMN         DRESP1         RESPONSE          MODE            SUB  </span><span class="se">\n</span><span class="s1">&#39;</span>
                    <span class="s1">&#39;              NO.         ENTRY ID          TYPE             NO.            CASE </span><span class="se">\n</span><span class="s1">&#39;</span>
                    <span class="s1">&#39;          --------------------------------------------------------------------------</span><span class="se">\n</span><span class="s1">&#39;</span>
                <span class="p">)</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">ids</span><span class="p">:</span>
                    <span class="n">respi</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">responses</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                    <span class="n">external_id</span> <span class="o">=</span> <span class="n">respi</span><span class="p">[</span><span class="s1">&#39;external_response_id&#39;</span><span class="p">]</span>
                    <span class="n">name</span> <span class="o">=</span> <span class="n">respi</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
                    <span class="n">mode_num</span> <span class="o">=</span> <span class="n">respi</span><span class="p">[</span><span class="s1">&#39;mode_num&#39;</span><span class="p">]</span>
                    <span class="n">subcase</span> <span class="o">=</span> <span class="n">respi</span><span class="p">[</span><span class="s1">&#39;subcase&#39;</span><span class="p">]</span>
                    <span class="n">response_type</span> <span class="o">=</span> <span class="n">response_name_to_f06_response_type</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
                    <span class="n">msg</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;         </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">:</span><span class="s1">8d</span><span class="si">}</span><span class="s1">        </span><span class="si">{</span><span class="n">external_id</span><span class="si">:</span><span class="s1">8d</span><span class="si">}</span><span class="s1">    </span><span class="si">{</span><span class="n">response_type</span><span class="si">:</span><span class="s1">8s</span><span class="si">}</span><span class="s1">            </span><span class="si">{</span><span class="n">mode_num</span><span class="si">:</span><span class="s1">8d</span><span class="si">}</span><span class="s1">        </span><span class="si">{</span><span class="n">subcase</span><span class="si">:</span><span class="s1">8d</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span>
            <span class="k">elif</span> <span class="n">group_name</span> <span class="o">==</span> <span class="s1">&#39;psd&#39;</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_write_psd</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span> <span class="n">response_name_to_f06_response_type</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">group_name</span> <span class="o">==</span> <span class="s1">&#39;2&#39;</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_write_dresp2</span><span class="p">(</span><span class="n">ids</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;skipping DSCMCOL group_name=</span><span class="si">{</span><span class="n">group_name</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">ids</span><span class="p">:</span>
                    <span class="n">respi</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">responses</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">respi</span><span class="p">))</span>
                <span class="k">continue</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span>
        <span class="nb">str</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">_write_static</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ids</span><span class="p">,</span> <span class="n">response_name_to_f06_response_type</span><span class="p">):</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="n">is_composite</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">ids</span><span class="p">:</span>
            <span class="n">respi</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">responses</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">respi</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;composite failure&#39;</span><span class="p">,</span> <span class="s1">&#39;composite strain&#39;</span><span class="p">]:</span>
                <span class="n">is_composite</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="k">break</span>

        <span class="n">msg</span> <span class="o">+=</span> <span class="p">(</span>
            <span class="s1">&#39;             -----  STATICS RESPONSES  -----</span><span class="se">\n</span><span class="s1">&#39;</span>
            <span class="s1">&#39;          ------------------------------------------------------------------------------------------------------------------------</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">is_composite</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="p">(</span>
                <span class="s1">&#39;            COLUMN         DRESP1         RESPONSE        GRID/ELM          VIEW         COMPONENT           SUB             PLY  </span><span class="se">\n</span><span class="s1">&#39;</span>
                <span class="s1">&#39;              NO.         ENTRY ID          TYPE             ID            ELM ID            NO.             CASE             NO. </span><span class="se">\n</span><span class="s1">&#39;</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="p">(</span>
                <span class="s1">&#39;            COLUMN         DRESP1         RESPONSE        GRID/ELM          VIEW         COMPONENT           SUB  </span><span class="se">\n</span><span class="s1">&#39;</span>
                <span class="s1">&#39;              NO.         ENTRY ID          TYPE             ID            ELM ID            NO.             CASE </span><span class="se">\n</span><span class="s1">&#39;</span>
                <span class="c1">#&#39;          ------------------------------------------------------------------------------------------------------------------------\n&#39;</span>
                <span class="c1">#&#39;                2               2        STRESS                 1                               5               1&#39;</span>
            <span class="p">)</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;          ------------------------------------------------------------------------------------------------------------------------</span><span class="se">\n</span><span class="s1">&#39;</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">ids</span><span class="p">:</span>
            <span class="n">respi</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">responses</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">external_id</span> <span class="o">=</span> <span class="n">respi</span><span class="p">[</span><span class="s1">&#39;external_response_id&#39;</span><span class="p">]</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">respi</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
            <span class="n">subcase</span> <span class="o">=</span> <span class="n">respi</span><span class="p">[</span><span class="s1">&#39;subcase&#39;</span><span class="p">]</span>
            <span class="n">comp</span> <span class="o">=</span> <span class="n">respi</span><span class="p">[</span><span class="s1">&#39;component&#39;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;static stress&#39;</span><span class="p">,</span> <span class="s1">&#39;static strain&#39;</span><span class="p">]:</span>
                <span class="n">eid</span> <span class="o">=</span> <span class="n">respi</span><span class="p">[</span><span class="s1">&#39;eid&#39;</span><span class="p">]</span>
                <span class="n">response_type</span> <span class="o">=</span> <span class="n">response_name_to_f06_response_type</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
                <span class="n">msg</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;         </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">:</span><span class="s1">8d</span><span class="si">}</span><span class="s1">        </span><span class="si">{</span><span class="n">external_id</span><span class="si">:</span><span class="s1">8d</span><span class="si">}</span><span class="s1">        </span><span class="si">{</span><span class="n">response_type</span><span class="si">:</span><span class="s1">8s</span><span class="si">}</span><span class="s1">        </span><span class="si">{</span><span class="n">eid</span><span class="si">:</span><span class="s1">8d</span><span class="si">}</span><span class="s1">                        </span><span class="si">{</span><span class="n">comp</span><span class="si">:</span><span class="s1">8d</span><span class="si">}</span><span class="s1">        </span><span class="si">{</span><span class="n">subcase</span><span class="si">:</span><span class="s1">8d</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span>
            <span class="k">elif</span> <span class="n">name</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;static displacement&#39;</span><span class="p">]:</span>
                <span class="n">grid</span> <span class="o">=</span> <span class="n">respi</span><span class="p">[</span><span class="s1">&#39;grid&#39;</span><span class="p">]</span>
                <span class="n">response_type</span> <span class="o">=</span> <span class="n">response_name_to_f06_response_type</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
                <span class="n">msg</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;         </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">:</span><span class="s1">8d</span><span class="si">}</span><span class="s1">        </span><span class="si">{</span><span class="n">external_id</span><span class="si">:</span><span class="s1">8d</span><span class="si">}</span><span class="s1">        </span><span class="si">{</span><span class="n">response_type</span><span class="si">:</span><span class="s1">8s</span><span class="si">}</span><span class="s1">        </span><span class="si">{</span><span class="n">grid</span><span class="si">:</span><span class="s1">8d</span><span class="si">}</span><span class="s1">                        </span><span class="si">{</span><span class="n">comp</span><span class="si">:</span><span class="s1">8d</span><span class="si">}</span><span class="s1">        </span><span class="si">{</span><span class="n">subcase</span><span class="si">:</span><span class="s1">8d</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span>
            <span class="k">elif</span> <span class="n">name</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;composite failure&#39;</span><span class="p">,</span> <span class="s1">&#39;composite strain&#39;</span><span class="p">]:</span>
                <span class="n">eid</span> <span class="o">=</span> <span class="n">respi</span><span class="p">[</span><span class="s1">&#39;eid&#39;</span><span class="p">]</span>
                <span class="n">ply</span> <span class="o">=</span> <span class="n">respi</span><span class="p">[</span><span class="s1">&#39;ply&#39;</span><span class="p">]</span>
                <span class="n">response_type</span> <span class="o">=</span> <span class="n">response_name_to_f06_response_type</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
                <span class="n">msg</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;         </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">:</span><span class="s1">8d</span><span class="si">}</span><span class="s1">        </span><span class="si">{</span><span class="n">external_id</span><span class="si">:</span><span class="s1">8d</span><span class="si">}</span><span class="s1">        </span><span class="si">{</span><span class="n">response_type</span><span class="si">:</span><span class="s1">8s</span><span class="si">}</span><span class="s1">        </span><span class="si">{</span><span class="n">eid</span><span class="si">:</span><span class="s1">8d</span><span class="si">}</span><span class="s1">                0       </span><span class="si">{</span><span class="n">comp</span><span class="si">:</span><span class="s1">8d</span><span class="si">}</span><span class="s1">        </span><span class="si">{</span><span class="n">subcase</span><span class="si">:</span><span class="s1">8d</span><span class="si">}</span><span class="s1">        </span><span class="si">{</span><span class="n">ply</span><span class="si">:</span><span class="s1">8d</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span>
                <span class="c1">#msg += f&#39;         {i+1:8d}        {external_id:8d}      {response_type:8s}          {eid:8d}                        {comp:8d}        {subcase:8d}\n&#39;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="n">respi</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">msg</span>

    <span class="k">def</span> <span class="nf">_write_psd</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ids</span><span class="p">,</span> <span class="n">response_name_to_f06_response_type</span><span class="p">):</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="c1">#is_composite = False</span>
        <span class="c1">#for i in ids:</span>
            <span class="c1">#respi = self.responses[i]</span>
            <span class="c1">#name = respi[&#39;name&#39;]</span>
            <span class="c1">#if name in [&#39;composite failure&#39;, &#39;composite strain&#39;]:</span>
                <span class="c1">#is_composite = True</span>
                <span class="c1">#break</span>

        <span class="n">msg</span> <span class="o">+=</span> <span class="p">(</span>
            <span class="s1">&#39;             -----  PSD RESPONSES  -----</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="p">)</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="p">(</span>
            <span class="s1">&#39;          ------------------------------------------------------------------------------------------------------------------------</span><span class="se">\n</span><span class="s1">&#39;</span>
            <span class="s1">&#39;            COLUMN         DRESP1         RESPONSE        GRID/ELM        RANDPS         COMPONENT           SUB             PLY  </span><span class="se">\n</span><span class="s1">&#39;</span>
            <span class="s1">&#39;              NO.         ENTRY ID          TYPE             ID            ID                NO.             CASE             NO. </span><span class="se">\n</span><span class="s1">&#39;</span>
            <span class="s1">&#39;          ------------------------------------------------------------------------------------------------------------------------</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="p">)</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">ids</span><span class="p">:</span>
            <span class="n">respi</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">responses</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">external_id</span> <span class="o">=</span> <span class="n">respi</span><span class="p">[</span><span class="s1">&#39;external_response_id&#39;</span><span class="p">]</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">respi</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
            <span class="n">subcase</span> <span class="o">=</span> <span class="n">respi</span><span class="p">[</span><span class="s1">&#39;subcase&#39;</span><span class="p">]</span>
            <span class="n">comp</span> <span class="o">=</span> <span class="n">respi</span><span class="p">[</span><span class="s1">&#39;component&#39;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;psd displacement&#39;</span><span class="p">,</span> <span class="s1">&#39;psd acceleration&#39;</span><span class="p">]:</span>
                <span class="n">grid</span> <span class="o">=</span> <span class="n">respi</span><span class="p">[</span><span class="s1">&#39;grid&#39;</span><span class="p">]</span>
                <span class="n">randps</span> <span class="o">=</span> <span class="n">respi</span><span class="p">[</span><span class="s1">&#39;randps&#39;</span><span class="p">]</span>
                <span class="n">response_type</span> <span class="o">=</span> <span class="n">response_name_to_f06_response_type</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
                <span class="n">msg</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;         </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">:</span><span class="s1">8d</span><span class="si">}</span><span class="s1">        </span><span class="si">{</span><span class="n">external_id</span><span class="si">:</span><span class="s1">8d</span><span class="si">}</span><span class="s1">        </span><span class="si">{</span><span class="n">response_type</span><span class="si">:</span><span class="s1">8s</span><span class="si">}</span><span class="s1">        </span><span class="si">{</span><span class="n">grid</span><span class="si">:</span><span class="s1">8d</span><span class="si">}</span><span class="s1">        </span><span class="si">{</span><span class="n">randps</span><span class="si">:</span><span class="s1">8d</span><span class="si">}</span><span class="s1">        </span><span class="si">{</span><span class="n">comp</span><span class="si">:</span><span class="s1">8d</span><span class="si">}</span><span class="s1">        </span><span class="si">{</span><span class="n">subcase</span><span class="si">:</span><span class="s1">8d</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="n">respi</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">msg</span>

    <span class="k">def</span> <span class="nf">_write_dresp2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ids</span><span class="p">):</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
            <span class="s1">&#39;                                   -----   IDENTIFICATION OF COLUMNS IN THE DESIGN SENSITIVITY  -----</span><span class="se">\n</span><span class="s1">&#39;</span>
            <span class="s1">&#39;                                   -----     MATRIX THAT ARE ASSOCIATED WITH DRESP2  ENTRIES    -----</span><span class="se">\n</span><span class="s1">&#39;</span>
            <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
            <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
            <span class="s1">&#39;          ----------------------------------------------------------</span><span class="se">\n</span><span class="s1">&#39;</span>
            <span class="s1">&#39;            COLUMN         DRESP2           SUB             FREQ/ </span><span class="se">\n</span><span class="s1">&#39;</span>
            <span class="s1">&#39;              NO.         ENTRY ID          CASE            TIME  </span><span class="se">\n</span><span class="s1">&#39;</span>
            <span class="s1">&#39;          ----------------------------------------------------------</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="p">)</span>
        <span class="c1">#&#39;               96             103               0         0.00000&#39;</span>
        <span class="c1">#&#39;               97             104               0         0.00000&#39;</span>
        <span class="c1">#&#39;              100             105               1&#39;</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">ids</span><span class="p">:</span>
            <span class="c1">#{&#39;iresponse&#39;: 95, &#39;response_number&#39;: 2, &#39;internal_response_id&#39;: 1, &#39;external_response_id&#39;: 103,</span>
             <span class="c1">#&#39;subcase&#39;: 0, &#39;dflag&#39;: 0, &#39;freq&#39;: 0.0, &#39;seid&#39;: 0}</span>
            <span class="n">respi</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">responses</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">external_id</span> <span class="o">=</span> <span class="n">respi</span><span class="p">[</span><span class="s1">&#39;external_response_id&#39;</span><span class="p">]</span>
            <span class="n">freq</span> <span class="o">=</span> <span class="n">respi</span><span class="p">[</span><span class="s1">&#39;freq&#39;</span><span class="p">]</span>
            <span class="n">subcase</span> <span class="o">=</span> <span class="n">respi</span><span class="p">[</span><span class="s1">&#39;subcase&#39;</span><span class="p">]</span>
            <span class="n">dflag</span> <span class="o">=</span> <span class="n">respi</span><span class="p">[</span><span class="s1">&#39;dflag&#39;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">dflag</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;         </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">:</span><span class="s1">8d</span><span class="si">}</span><span class="s1">        </span><span class="si">{</span><span class="n">external_id</span><span class="si">:</span><span class="s1">8d</span><span class="si">}</span><span class="s1">        </span><span class="si">{</span><span class="n">subcase</span><span class="si">:</span><span class="s1">8d</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;         </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">:</span><span class="s1">8d</span><span class="si">}</span><span class="s1">        </span><span class="si">{</span><span class="n">external_id</span><span class="si">:</span><span class="s1">8d</span><span class="si">}</span><span class="s1">        </span><span class="si">{</span><span class="n">subcase</span><span class="si">:</span><span class="s1">8d</span><span class="si">}</span><span class="s1">        </span><span class="si">{</span><span class="n">freq</span><span class="si">:</span><span class="s1">8f</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="k">return</span> <span class="n">msg</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">get_responses_by_group</span><span class="p">()</span>
        <span class="n">nresponses</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">responses</span><span class="p">)</span>
        <span class="n">internal_ids</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">nresponses</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;int32&#39;</span><span class="p">)</span>
        <span class="n">external_ids</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">nresponses</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;int32&#39;</span><span class="p">)</span>
        <span class="n">response_types</span> <span class="o">=</span> <span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">(</span><span class="n">nresponses</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;int32&#39;</span><span class="p">)</span>
        <span class="n">names_per_response</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="c1">#internal_ids = [resp[&#39;internal_id&#39;] for resp in self.responses.values()]</span>
        <span class="c1">#external_ids = [resp[&#39;external_id&#39;] for resp in self.responses.values()]</span>
        <span class="c1">#response_types = [resp[&#39;response_type&#39;] for resp in self.responses.values()]</span>
        <span class="n">is_dresp2</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">respi</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">responses</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">internal_ids</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">respi</span><span class="p">[</span><span class="s1">&#39;internal_response_id&#39;</span><span class="p">]</span>
            <span class="n">external_ids</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">respi</span><span class="p">[</span><span class="s1">&#39;external_response_id&#39;</span><span class="p">]</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">response_type</span> <span class="o">=</span> <span class="n">respi</span><span class="p">[</span><span class="s1">&#39;response_type&#39;</span><span class="p">]</span>
                <span class="n">response_types</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">response_type</span>
                <span class="n">name</span> <span class="o">=</span> <span class="n">respi</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">response_type</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">names_per_response</span><span class="p">:</span>
                    <span class="n">names_per_response</span><span class="p">[(</span><span class="n">response_type</span><span class="p">,</span> <span class="n">name</span><span class="p">)]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">respi</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="n">is_dresp2</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;DSCMCOL()</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;  nresponses: </span><span class="si">{</span><span class="n">nresponses</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;  internal_ids: </span><span class="si">{</span><span class="n">internal_ids</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;  external_ids: </span><span class="si">{</span><span class="n">external_ids</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;  response_types: </span><span class="si">{</span><span class="n">response_types</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="k">if</span> <span class="n">names_per_response</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;  response_type names:</span><span class="se">\n</span><span class="s1">&#39;</span>
            <span class="k">for</span> <span class="p">(</span><span class="n">response_type</span><span class="p">,</span> <span class="n">name</span><span class="p">),</span> <span class="n">names</span> <span class="ow">in</span> <span class="n">names_per_response</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">names</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;internal_response_id&#39;</span><span class="p">)</span>
                <span class="n">names</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;external_response_id&#39;</span><span class="p">)</span>
                <span class="n">names2</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">names</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;&#39;&quot;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
                <span class="n">msg</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;    </span><span class="si">{</span><span class="n">response_type</span><span class="si">:</span><span class="s1">2d</span><span class="si">}</span><span class="s1">: name=</span><span class="si">{</span><span class="n">name</span><span class="si">!r}</span><span class="s1">; names=</span><span class="si">{</span><span class="n">names2</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="k">return</span> <span class="n">msg</span>

<div class="viewcode-block" id="DSCMCOL.get_stats"><a class="viewcode-back" href="../../../../reference/op2/result_objects/pyNastran.op2.result_objects2.html#pyNastran.op2.result_objects.design_response.DSCMCOL.get_stats">[docs]</a>    <span class="k">def</span> <span class="nf">get_stats</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">short</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">short</span><span class="p">:</span>
            <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;responses.dscmcol (</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">responses</span><span class="p">)</span><span class="si">}</span><span class="s1">)</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span></div></div>


<div class="viewcode-block" id="Desvars"><a class="viewcode-back" href="../../../../reference/op2/result_objects/pyNastran.op2.result_objects2.html#pyNastran.op2.result_objects.design_response.Desvars">[docs]</a><span class="k">class</span> <span class="nc">Desvars</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">desvars</span><span class="p">):</span>
        <span class="c1">#internal_id, desvar_id, label, lower, upper, delxv, dunno = desvar</span>
        <span class="n">ndesvars</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">desvars</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">internal_id</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">ndesvars</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;int32&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">desvar_id</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">ndesvars</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;int32&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">ndesvars</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;|U8&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lower</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">ndesvars</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;float32&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">upper</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">ndesvars</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;float32&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delxv</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">ndesvars</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;float32&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dunno</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">ndesvars</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;float32&#39;</span><span class="p">)</span>

        <span class="n">encoding</span> <span class="o">=</span> <span class="s1">&#39;ascii&#39;</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">internal_id</span><span class="p">,</span> <span class="n">desvar_id</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="n">lower</span><span class="p">,</span> <span class="n">upper</span><span class="p">,</span> <span class="n">delxv</span><span class="p">,</span> <span class="n">dunno</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">desvars</span><span class="p">):</span>
            <span class="c1">#print((internal_id, desvar_id, label, lower, upper, delxv, dunno))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">internal_id</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">internal_id</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">desvar_id</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">desvar_id</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">label</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">label</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">lower</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">lower</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">upper</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">upper</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">delxv</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">delxv</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dunno</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">dunno</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;Desvars()</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="c1">#msg += &#39;  shape=(%s, %s)\n&#39; % (self.n, self.ndesign_variables)</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;  internal_id = </span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">internal_id</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;  desvar_id = </span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">desvar_id</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;  label = </span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">label</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;  lower = </span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">lower</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;  upper = </span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">upper</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;  delxv = </span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">delxv</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;  dunno = </span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">dunno</span>
        <span class="k">return</span> <span class="n">msg</span>

<div class="viewcode-block" id="Desvars.get_stats"><a class="viewcode-back" href="../../../../reference/op2/result_objects/pyNastran.op2.result_objects2.html#pyNastran.op2.result_objects.design_response.Desvars.get_stats">[docs]</a>    <span class="k">def</span> <span class="nf">get_stats</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">short</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">short</span><span class="p">:</span>
            <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;responses.desvars (</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">internal_id</span><span class="p">)</span><span class="si">}</span><span class="s1">)</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span></div></div>


<div class="viewcode-block" id="Convergence"><a class="viewcode-back" href="../../../../reference/op2/result_objects/pyNastran.op2.result_objects2.html#pyNastran.op2.result_objects.design_response.Convergence">[docs]</a><span class="k">class</span> <span class="nc">Convergence</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ndesign_variables</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">n</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_n</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_built</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ndesign_variables</span> <span class="o">=</span> <span class="n">ndesign_variables</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">design_iter</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">iconvergence</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1">#       1-soft, 2-hard</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">conv_result</span> <span class="o">=</span> <span class="p">[]</span>   <span class="c1"># 0-no, 1-soft, 2-hard</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">obj_initial</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">obj_final</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">constraint_max</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">row_constraint_max</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">desvar_values</span> <span class="o">=</span> <span class="p">[]</span>

<div class="viewcode-block" id="Convergence.get_convergence"><a class="viewcode-back" href="../../../../reference/op2/result_objects/pyNastran.op2.result_objects2.html#pyNastran.op2.result_objects.design_response.Convergence.get_convergence">[docs]</a>    <span class="k">def</span> <span class="nf">get_convergence</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">iconvergence</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">iconvergence</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="c1"># hard, soft (2)</span>
        <span class="n">conv_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">conv_result</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="c1"># no, hard, soft (3)</span>
        <span class="c1"># 2*3 = 6</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">conv_result</span><span class="p">,</span> <span class="n">iconvergence</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span><span class="s1">&#39;hard&#39;</span><span class="p">,</span> <span class="s1">&#39;hard&#39;</span><span class="p">):</span>  <span class="c1"># sure about this</span>
            <span class="n">convergence</span> <span class="o">=</span> <span class="s1">&#39;HARD&#39;</span>
        <span class="k">elif</span> <span class="p">(</span><span class="n">conv_result</span><span class="p">,</span> <span class="n">iconvergence</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span><span class="s1">&#39;no&#39;</span><span class="p">,</span> <span class="s1">&#39;hard&#39;</span><span class="p">):</span>  <span class="c1"># pretty sure about this...</span>
            <span class="n">convergence</span> <span class="o">=</span> <span class="s1">&#39;MAX DESIGN CYCLES&#39;</span>
        <span class="k">elif</span> <span class="p">(</span><span class="n">conv_result</span><span class="p">,</span> <span class="n">iconvergence</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span><span class="s1">&#39;no&#39;</span><span class="p">,</span> <span class="s1">&#39;soft&#39;</span><span class="p">):</span>  <span class="c1"># is this possible???</span>
            <span class="n">convergence</span> <span class="o">=</span> <span class="s1">&#39;MAX DESIGN CYCLES&#39;</span>

        <span class="c1"># are these possible???</span>
        <span class="c1"># we&#39;ll just assume SOFT convergence</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">conv_result</span><span class="p">,</span> <span class="n">iconvergence</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span><span class="s1">&#39;hard&#39;</span><span class="p">,</span> <span class="s1">&#39;soft&#39;</span><span class="p">):</span>  <span class="c1"># pretty sure about this...</span>
            <span class="n">convergence</span> <span class="o">=</span> <span class="s1">&#39;SOFT&#39;</span>
        <span class="k">elif</span> <span class="p">(</span><span class="n">conv_result</span><span class="p">,</span> <span class="n">iconvergence</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span><span class="s1">&#39;soft&#39;</span><span class="p">,</span> <span class="s1">&#39;hard&#39;</span><span class="p">):</span> <span class="c1"># is this possible???</span>
            <span class="n">convergence</span> <span class="o">=</span> <span class="s1">&#39;SOFT&#39;</span>
        <span class="k">elif</span> <span class="p">(</span><span class="n">conv_result</span><span class="p">,</span> <span class="n">iconvergence</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span><span class="s1">&#39;soft&#39;</span><span class="p">,</span> <span class="s1">&#39;soft&#39;</span><span class="p">):</span> <span class="c1"># is this possible???</span>
            <span class="n">convergence</span> <span class="o">=</span> <span class="s1">&#39;SOFT&#39;</span>
        <span class="k">else</span><span class="p">:</span>  <span class="c1"># pragma: no cover</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;conv_result=</span><span class="si">%r</span><span class="s1"> iconvergence=</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">conv_result</span><span class="p">,</span> <span class="n">iconvergence</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">convergence</span><span class="p">,</span> <span class="p">(</span><span class="n">conv_result</span><span class="p">,</span> <span class="n">iconvergence</span><span class="p">)</span></div>

<div class="viewcode-block" id="Convergence.append"><a class="viewcode-back" href="../../../../reference/op2/result_objects/pyNastran.op2.result_objects2.html#pyNastran.op2.result_objects.design_response.Convergence.append">[docs]</a>    <span class="k">def</span> <span class="nf">append</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">design_iter</span><span class="p">,</span> <span class="n">iconvergence</span><span class="p">,</span> <span class="n">conv_result</span><span class="p">,</span> <span class="n">obj_initial</span><span class="p">,</span> <span class="n">obj_final</span><span class="p">,</span>
               <span class="n">constraint_max</span><span class="p">,</span> <span class="n">row_constraint_max</span><span class="p">,</span> <span class="n">desvar_values</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_built</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">design_iter</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">n</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;int32&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">iconvergence</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">n</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">conv_result</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">n</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">obj_initial</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">n</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;float32&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">obj_final</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">n</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;float32&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">constraint_max</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">n</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;float32&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">row_constraint_max</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">n</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;int32&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">desvar_values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">n</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ndesign_variables</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;float32&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">is_built</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="n">n</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_n</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">design_iter</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">=</span> <span class="n">design_iter</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">iconvergence</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">=</span> <span class="n">iconvergence</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">conv_result</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">=</span> <span class="n">conv_result</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">obj_initial</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">=</span> <span class="n">obj_initial</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">obj_final</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">=</span> <span class="n">obj_final</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">constraint_max</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">=</span> <span class="n">constraint_max</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">row_constraint_max</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">=</span> <span class="n">row_constraint_max</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">desvar_values</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:]</span> <span class="o">=</span> <span class="n">desvar_values</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_n</span> <span class="o">+=</span> <span class="mi">1</span></div>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;Convergence()</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;  design_iter = </span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">design_iter</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;  icovergence = </span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">iconvergence</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;  conv_result = </span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">conv_result</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;  obj_initial = </span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">obj_initial</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;  obj_final = </span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">obj_final</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;  constraint_max = </span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">constraint_max</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;  row_constraint_max = </span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">row_constraint_max</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;  desvar_values; shape=(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">n</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ndesign_variables</span><span class="si">}</span><span class="s1">):</span><span class="se">\n</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">desvar_values</span><span class="si">}</span><span class="s1">&#39;</span>
        <span class="k">return</span> <span class="n">msg</span>

<div class="viewcode-block" id="Convergence.get_stats"><a class="viewcode-back" href="../../../../reference/op2/result_objects/pyNastran.op2.result_objects2.html#pyNastran.op2.result_objects.design_response.Convergence.get_stats">[docs]</a>    <span class="k">def</span> <span class="nf">get_stats</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">short</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">short</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;responses.convergence_data (</span><span class="si">%s</span><span class="s1">, </span><span class="si">%s</span><span class="s1">)</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">n</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ndesign_variables</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span></div></div>
</pre></div>

           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Steven Doyle.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>