

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>pyNastran.op2.tables.geom.geom2 &mdash; pyNastran 1.4-dev 1.4-dev documentation</title>
  

  
  <link rel="stylesheet" href="../../../../../_static/css/my_theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/css/my_theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/graphviz.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../../" src="../../../../../_static/documentation_options.js"></script>
        <script data-url_root="../../../../../" id="documentation_options" src="../../../../../_static/documentation_options.js"></script>
        <script src="../../../../../_static/jquery.js"></script>
        <script src="../../../../../_static/underscore.js"></script>
        <script src="../../../../../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="../../../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../../index.html" class="icon icon-home"> pyNastran 1.4-dev
          

          
            
            <img src="../../../../../_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.4-dev
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../installation/index.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../quick_start/index.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../how_to/index.html">How To: pyNastran</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../reference/pyNastran.html">pyNastran Package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../manual/index.html">pyNastran Manual</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">pyNastran 1.4-dev</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../../../index.html">Module code</a> &raquo;</li>
        
      <li>pyNastran.op2.tables.geom.geom2</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for pyNastran.op2.tables.geom.geom2</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">defines readers for BDF objects in the OP2 GEOM2/GEOM2S table</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="c1"># pylint: disable=C0103</span>
<span class="kn">from</span> <span class="nn">struct</span> <span class="kn">import</span> <span class="n">Struct</span>
<span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">partial</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Tuple</span><span class="p">,</span> <span class="n">List</span><span class="p">,</span> <span class="n">Union</span><span class="p">,</span> <span class="n">Any</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="kn">from</span> <span class="nn">pyNastran.bdf.cards.elements.elements</span> <span class="kn">import</span> <span class="n">CGAP</span><span class="p">,</span> <span class="n">PLOTEL</span>
<span class="kn">from</span> <span class="nn">pyNastran.bdf.cards.elements.damper</span> <span class="kn">import</span> <span class="p">(</span><span class="n">CDAMP1</span><span class="p">,</span> <span class="n">CDAMP2</span><span class="p">,</span> <span class="n">CDAMP3</span><span class="p">,</span>
                                                 <span class="n">CDAMP4</span><span class="p">,</span> <span class="n">CDAMP5</span><span class="p">,</span> <span class="n">CVISC</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">pyNastran.bdf.cards.elements.springs</span> <span class="kn">import</span> <span class="n">CELAS1</span><span class="p">,</span> <span class="n">CELAS2</span><span class="p">,</span> <span class="n">CELAS3</span><span class="p">,</span> <span class="n">CELAS4</span>
<span class="kn">from</span> <span class="nn">pyNastran.bdf.cards.elements.axisymmetric_shells</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">CQUADX</span><span class="p">,</span> <span class="n">CTRIAX6</span><span class="p">,</span> <span class="n">CTRAX3</span><span class="p">,</span> <span class="n">CTRAX6</span><span class="p">,</span> <span class="n">CQUADX8</span><span class="p">,</span> <span class="n">CTRIAX</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">pyNastran.bdf.cards.elements.shell</span> <span class="kn">import</span> <span class="p">(</span><span class="n">CTRIA3</span><span class="p">,</span> <span class="n">CQUAD4</span><span class="p">,</span> <span class="n">CTRIA6</span><span class="p">,</span>
                                                <span class="n">CQUADR</span><span class="p">,</span> <span class="n">CTRIAR</span><span class="p">,</span>
                                                <span class="n">CQUAD8</span><span class="p">,</span> <span class="n">CQUAD</span><span class="p">,</span>
                                                <span class="n">CSHEAR</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">pyNastran.bdf.cards.elements.rods</span> <span class="kn">import</span> <span class="n">CROD</span><span class="p">,</span> <span class="n">CTUBE</span><span class="p">,</span> <span class="n">CONROD</span>
<span class="kn">from</span> <span class="nn">pyNastran.bdf.cards.elements.bars</span> <span class="kn">import</span> <span class="n">CBAR</span><span class="p">,</span> <span class="n">CBEND</span>
<span class="kn">from</span> <span class="nn">pyNastran.bdf.cards.elements.beam</span> <span class="kn">import</span> <span class="n">CBEAM</span>
<span class="kn">from</span> <span class="nn">pyNastran.bdf.cards.elements.mass</span> <span class="kn">import</span> <span class="p">(</span><span class="n">CONM1</span><span class="p">,</span> <span class="n">CONM2</span><span class="p">,</span> <span class="n">CMASS1</span><span class="p">,</span> <span class="n">CMASS2</span><span class="p">,</span>
                                               <span class="n">CMASS3</span><span class="p">,</span> <span class="n">CMASS4</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">pyNastran.bdf.cards.elements.solid</span> <span class="kn">import</span> <span class="p">(</span><span class="n">CTETRA4</span><span class="p">,</span> <span class="n">CPYRAM5</span><span class="p">,</span> <span class="n">CPENTA6</span><span class="p">,</span> <span class="n">CHEXA8</span><span class="p">,</span>
                                                <span class="n">CTETRA10</span><span class="p">,</span> <span class="n">CPYRAM13</span><span class="p">,</span> <span class="n">CPENTA15</span><span class="p">,</span> <span class="n">CHEXA20</span><span class="p">,)</span>
<span class="kn">from</span> <span class="nn">pyNastran.bdf.cards.thermal.thermal</span> <span class="kn">import</span> <span class="n">CHBDYG</span><span class="p">,</span> <span class="n">CONV</span><span class="p">,</span> <span class="n">CHBDYP</span><span class="p">,</span> <span class="n">CHBDYE</span><span class="p">,</span> <span class="n">CONVM</span>
<span class="kn">from</span> <span class="nn">pyNastran.bdf.cards.thermal.radiation</span> <span class="kn">import</span> <span class="n">RADBC</span> <span class="c1"># , RADM, RADCAV, RADLST, RADMTX, VIEW, VIEW3D</span>
<span class="kn">from</span> <span class="nn">pyNastran.bdf.cards.nodes</span> <span class="kn">import</span> <span class="n">SPOINTs</span>
<span class="kn">from</span> <span class="nn">pyNastran.bdf.cards.elements.bush</span> <span class="kn">import</span> <span class="n">CBUSH</span>
<span class="kn">from</span> <span class="nn">pyNastran.bdf.cards.parametric.geometry</span> <span class="kn">import</span> <span class="n">FEEDGE</span>
<span class="kn">from</span> <span class="nn">pyNastran.bdf.cards.elements.acoustic</span> <span class="kn">import</span> <span class="n">CHACAB</span><span class="p">,</span> <span class="n">CHACBR</span><span class="p">,</span> <span class="n">CAABSF</span>
<span class="kn">from</span> <span class="nn">pyNastran.op2.errors</span> <span class="kn">import</span> <span class="n">MixedVersionCard</span>
<span class="kn">from</span> <span class="nn">pyNastran.op2.tables.geom.geom_common</span> <span class="kn">import</span> <span class="n">GeomCommon</span>
<span class="kn">from</span> <span class="nn">pyNastran.op2.op2_interface.op2_reader</span> <span class="kn">import</span> <span class="n">mapfmt</span> <span class="c1"># , reshape_bytes_block</span>


<div class="viewcode-block" id="GEOM2"><a class="viewcode-back" href="../../../../../reference/op2/tables/geom/pyNastran.op2.tables.geom.geom2.html#pyNastran.op2.tables.geom.geom2.GEOM2">[docs]</a><span class="k">class</span> <span class="nc">GEOM2</span><span class="p">(</span><span class="n">GeomCommon</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;defines methods for reading op2 elements&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">_read_geom2_4</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">ndata</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_geom_4</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_geom2_map</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">ndata</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">GeomCommon</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_geom2_map</span> <span class="o">=</span> <span class="p">{</span>
            <span class="c1"># per dmap-nx-10.pdf or nx12.pdf</span>
            <span class="p">(</span><span class="mi">15200</span><span class="p">,</span> <span class="mi">152</span><span class="p">,</span> <span class="mi">9912</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;ACFACE3&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">15500</span><span class="p">,</span> <span class="mi">155</span><span class="p">,</span> <span class="mi">9913</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;ACFACE4&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">15600</span><span class="p">,</span> <span class="mi">156</span><span class="p">,</span> <span class="mi">9914</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;ACFACE6&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">15700</span><span class="p">,</span> <span class="mi">157</span><span class="p">,</span> <span class="mi">9915</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;ACFACE8&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">2601</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;BEAMAERO&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">2708</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="mi">59</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CAABSF&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_caabsf</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">2108</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">224</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CAXIF2&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">2208</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">225</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CAXIF3&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">2308</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">226</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CAXIF4&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>

            <span class="p">(</span><span class="mi">2408</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">180</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CBAR&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cbar</span><span class="p">],</span>         <span class="c1"># record 8</span>
            <span class="p">(</span><span class="mi">4001</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">275</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CBARAO&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cbarao</span><span class="p">],</span>     <span class="c1"># record 9  - not done</span>
            <span class="p">(</span><span class="mi">5408</span><span class="p">,</span> <span class="mi">54</span><span class="p">,</span> <span class="mi">261</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CBEAM&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cbeam</span><span class="p">],</span>       <span class="c1"># record 10</span>
            <span class="p">(</span><span class="mi">11401</span><span class="p">,</span> <span class="mi">114</span><span class="p">,</span> <span class="mi">9016</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CBEAMP&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cbeamp</span><span class="p">],</span>  <span class="c1"># record 11 - not done</span>
            <span class="p">(</span><span class="mi">4601</span><span class="p">,</span> <span class="mi">46</span><span class="p">,</span> <span class="mi">298</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CBEND&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cbend</span><span class="p">],</span>     <span class="c1"># record 12 - not done</span>
            <span class="p">(</span><span class="mi">2608</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">60</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CBUSH&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cbush</span><span class="p">],</span>      <span class="c1"># record 13</span>
            <span class="p">(</span><span class="mi">5608</span><span class="p">,</span> <span class="mi">56</span><span class="p">,</span> <span class="mi">218</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CBUSH1D&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cbush1d</span><span class="p">],</span> <span class="c1"># record 14 - not done</span>
            <span class="p">(</span><span class="mi">5609</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">9899</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CBUSH1DNL&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">14801</span><span class="p">,</span> <span class="mi">148</span><span class="p">,</span> <span class="mi">956</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CCHOCK3&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">14901</span><span class="p">,</span> <span class="mi">149</span><span class="p">,</span> <span class="mi">957</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CCHOCK4&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">15001</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">958</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CCHOCK6&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">15101</span><span class="p">,</span> <span class="mi">151</span><span class="p">,</span> <span class="mi">959</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CCHOCK8&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">2315</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">146</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CCONE-10&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_ccone</span><span class="p">],</span>  <span class="c1"># nx10</span>
            <span class="p">(</span><span class="mi">2315</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CCONE-12&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>     <span class="c1"># nx12</span>
            <span class="p">(</span><span class="mi">201</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">69</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CDAMP1&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cdamp1</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">301</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">70</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CDAMP2&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cdamp2</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">401</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">71</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CDAMP3&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cdamp3</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">501</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">72</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CDAMP4&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cdamp4</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">10608</span><span class="p">,</span> <span class="mi">106</span><span class="p">,</span> <span class="mi">404</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CDAMPS&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cdamp5</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">6208</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">108</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CDUM2&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">6308</span><span class="p">,</span> <span class="mi">63</span><span class="p">,</span> <span class="mi">109</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CDUM3&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">6408</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">110</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CDUM4&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">6508</span><span class="p">,</span> <span class="mi">65</span><span class="p">,</span> <span class="mi">111</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CDUM5&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">6608</span><span class="p">,</span> <span class="mi">66</span><span class="p">,</span> <span class="mi">112</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CDUM6&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">6708</span><span class="p">,</span> <span class="mi">67</span><span class="p">,</span> <span class="mi">113</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CDUM7&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">6808</span><span class="p">,</span> <span class="mi">68</span><span class="p">,</span> <span class="mi">114</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CDUM8&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cdum8</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">6908</span><span class="p">,</span> <span class="mi">69</span><span class="p">,</span> <span class="mi">115</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CDUM9&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cdum9</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">601</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">73</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CELAS1&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_celas1</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">6010</span><span class="p">,</span> <span class="mi">53</span><span class="p">,</span> <span class="mi">9900</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CELAS1NL&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">701</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">74</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CELAS2&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_celas2</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">7010</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">9898</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CELAS2NL&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">801</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">75</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CELAS3&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_celas3</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">901</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">76</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CELAS4&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_celas4</span><span class="p">],</span>

            <span class="p">(</span><span class="mi">9801</span><span class="p">,</span> <span class="mi">98</span><span class="p">,</span> <span class="mi">506</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CFAST-nx10&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cfast</span><span class="p">],</span>  <span class="c1"># nx10</span>
            <span class="p">(</span><span class="mi">13801</span><span class="p">,</span> <span class="mi">138</span><span class="p">,</span> <span class="mi">566</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CFAST-nx12&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cfast</span><span class="p">],</span> <span class="c1"># nx12</span>

            <span class="p">(</span><span class="mi">8515</span><span class="p">,</span> <span class="mi">85</span><span class="p">,</span> <span class="mi">209</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CFLUID2-nx10&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cfluid2</span><span class="p">],</span>  <span class="c1"># nx10</span>
            <span class="p">(</span><span class="mi">8615</span><span class="p">,</span> <span class="mi">86</span><span class="p">,</span> <span class="mi">210</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CFLUID3-nx10&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cfluid3</span><span class="p">],</span>  <span class="c1"># nx10</span>
            <span class="p">(</span><span class="mi">8715</span><span class="p">,</span> <span class="mi">87</span><span class="p">,</span> <span class="mi">211</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CFLUID4-nx10&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cfluid4</span><span class="p">],</span>  <span class="c1"># nx10</span>
            <span class="p">(</span><span class="mi">8515</span><span class="p">,</span> <span class="mi">85</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CFLUID2-nx12&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cfluid2</span><span class="p">],</span> <span class="c1"># nx12</span>
            <span class="p">(</span><span class="mi">8615</span><span class="p">,</span> <span class="mi">86</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CFLUID3-nx12&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cfluid3</span><span class="p">],</span> <span class="c1"># nx12</span>
            <span class="p">(</span><span class="mi">8715</span><span class="p">,</span> <span class="mi">87</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CFLUID4-nx12&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cfluid4</span><span class="p">],</span> <span class="c1"># nx12</span>

            <span class="p">(</span><span class="mi">1908</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">104</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CGAP&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cgap</span><span class="p">],</span>
            <span class="c1">#(13101, 131, 9901): [&#39;CGPLSTN3&#39;, self._read_fake],</span>
            <span class="c1">#(13401, 134, 9904): [&#39;CGPLSTN8&#39;, self._read_fake],</span>
            <span class="c1">#(13301, 133, 9903): [&#39;CGPLSTN6&#39;, self._read_fake],</span>
            <span class="c1">#(13201, 132, 9902): [&#39;CGPLSTN4&#39;, self._read_fake],</span>
            <span class="p">(</span><span class="mi">8308</span><span class="p">,</span> <span class="mi">83</span><span class="p">,</span> <span class="mi">405</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CHBDYE&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_chbdye</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">10808</span><span class="p">,</span> <span class="mi">108</span><span class="p">,</span> <span class="mi">406</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CHBDYG&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_chbdyg</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">10908</span><span class="p">,</span> <span class="mi">109</span><span class="p">,</span> <span class="mi">407</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CHBDYP&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_chbdyp</span><span class="p">],</span>
            <span class="c1">#(7308, 73, 253): [&#39;CHEXA&#39;, self._read_fake],</span>
            <span class="c1">#(16300, 163, 9989): [&#39;CHEXA20F&#39;, self._read_fake],</span>
            <span class="c1">#(14100, 141, 9990): [&#39;CHEXAF&#39;, self._read_fake],</span>
            <span class="c1">#(14000, 140, 9990): [&#39;CHEXAFD&#39;, self._read_fake],</span>
            <span class="c1">#(7708, 77, 9944): [&#39;CHEXAL&#39;, self._read_fake],</span>
            <span class="c1">#(11801, 118, 907): [&#39;CHEXCZ&#39;, self._read_fake],</span>
            <span class="c1">#(12001, 120, 9011): [&#39;CHEXP&#39;, self._read_fake],</span>
            <span class="c1">#(7409, 74, 9991): [&#39;CHEXPR&#39;, self._read_fake],</span>
            <span class="p">(</span><span class="mi">1001</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">65</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CMASS1&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cmass1</span><span class="p">],</span>    <span class="c1"># record 52</span>
            <span class="p">(</span><span class="mi">1101</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">66</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CMASS2&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cmass2</span><span class="p">],</span>    <span class="c1"># record 53</span>
            <span class="p">(</span><span class="mi">1201</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">67</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CMASS3&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cmass3</span><span class="p">],</span>    <span class="c1"># record 54</span>
            <span class="p">(</span><span class="mi">1301</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">68</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CMASS4&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cmass4</span><span class="p">],</span>    <span class="c1"># record 55</span>
            <span class="p">(</span><span class="mi">2508</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CMFREE&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cmfree</span><span class="p">],</span>     <span class="c1"># record 56 - not done</span>
            <span class="p">(</span><span class="mi">1401</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">63</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CONM1&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_conm1</span><span class="p">],</span>      <span class="c1"># record 57</span>
            <span class="p">(</span><span class="mi">1501</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">64</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CONM2&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_conm2</span><span class="p">],</span>      <span class="c1"># record 58</span>
            <span class="p">(</span><span class="mi">1601</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">47</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CONROD&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_conrod</span><span class="p">],</span>    <span class="c1"># record 59</span>
            <span class="p">(</span><span class="mi">12701</span><span class="p">,</span> <span class="mi">127</span><span class="p">,</span> <span class="mi">408</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CONV&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_conv</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">8908</span><span class="p">,</span> <span class="mi">89</span><span class="p">,</span> <span class="mi">422</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CONVM&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_convm</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">12101</span><span class="p">,</span> <span class="mi">121</span><span class="p">,</span> <span class="mi">9012</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CPENP&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">4108</span><span class="p">,</span> <span class="mi">41</span><span class="p">,</span> <span class="mi">280</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CPENTA&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cpenta</span><span class="p">],</span>
            <span class="c1">#(14200, 142, 9906): [&#39;CPENTAF&#39;, self._read_fake],</span>
            <span class="c1">#(7108, 71, 9943): [&#39;CPENTAL&#39;, self._read_fake],</span>
            <span class="p">(</span><span class="mi">7509</span><span class="p">,</span> <span class="mi">75</span><span class="p">,</span> <span class="mi">9992</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CPENPR&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>
            <span class="c1">#(16500, 165, 9987): [&#39;CPENT15F&#39;, self._read_fake],</span>
            <span class="c1">#(16000, 160, 9988): [&#39;CPENT6FD&#39;, self._read_fake],</span>
            <span class="c1">#(11901, 119, 908): [&#39;CPENTCZ&#39;, self._read_fake],</span>
            <span class="p">(</span><span class="mi">1701</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">980</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CPLSTN3&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake_nx</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">5701</span><span class="p">,</span> <span class="mi">57</span><span class="p">,</span> <span class="mi">981</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CPLSTN4&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake_nx</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">5801</span><span class="p">,</span> <span class="mi">58</span><span class="p">,</span> <span class="mi">982</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CPLSTN6&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake_nx</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">7201</span><span class="p">,</span> <span class="mi">72</span><span class="p">,</span> <span class="mi">983</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CPLSTN8&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake_nx</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">8801</span><span class="p">,</span> <span class="mi">88</span><span class="p">,</span> <span class="mi">984</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CPLSTS3&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake_nx</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">8401</span><span class="p">,</span> <span class="mi">84</span><span class="p">,</span> <span class="mi">985</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CPLSTS4&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake_nx</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">1801</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">986</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CPLSTS6&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake_nx</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">3601</span><span class="p">,</span> <span class="mi">36</span><span class="p">,</span> <span class="mi">987</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CPLSTS8&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake_nx</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">17200</span><span class="p">,</span> <span class="mi">172</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span> <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;CPYRAM&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cpyram</span><span class="p">],</span> <span class="c1"># nx-specific</span>
            <span class="c1">#(14400, 144, 9908): [&#39;CPYRAMF&#39;, self._read_fake], # nx-specific</span>
            <span class="p">(</span><span class="mi">25700</span><span class="p">,</span> <span class="mi">257</span><span class="p">,</span> <span class="mi">9948</span><span class="p">)</span> <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;CPYRA5FD&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cpyram</span><span class="p">],</span> <span class="c1"># nx-specific</span>
            <span class="p">(</span><span class="mi">25800</span><span class="p">,</span> <span class="mi">258</span><span class="p">,</span> <span class="mi">9947</span><span class="p">)</span> <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;CPYRA13F&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cpyram</span><span class="p">],</span> <span class="c1"># nx-specific</span>
            <span class="p">(</span><span class="mi">7909</span><span class="p">,</span> <span class="mi">79</span><span class="p">,</span> <span class="mi">9946</span><span class="p">)</span> <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;CPYRAMPR&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cpyram</span><span class="p">],</span> <span class="c1"># nx-specific</span>
            <span class="p">(</span><span class="mi">17000</span><span class="p">,</span> <span class="mi">170</span><span class="p">,</span> <span class="mi">9980</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CQDX4FD&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cquad</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">17100</span><span class="p">,</span> <span class="mi">171</span><span class="p">,</span> <span class="mi">9979</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CQDX9FD&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cquadx</span><span class="p">],</span>
            <span class="c1">#(25110, 170, 9951): [&#39;CQDX4FDN&#39;, self._read_fake],</span>
            <span class="c1">#(25310, 171, 9949): [&#39;CQDX8FDN&#39;, self._read_fake],</span>
            <span class="p">(</span><span class="mi">9108</span><span class="p">,</span> <span class="mi">91</span><span class="p">,</span> <span class="mi">507</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CQUAD&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cquad</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">2958</span><span class="p">,</span> <span class="mi">51</span><span class="p">,</span> <span class="mi">177</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CQUAD4&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cquad4</span><span class="p">],</span>
            <span class="c1">#(14600, 146, 9910): [&#39;CQUADF&#39;, self._read_fake],</span>
            <span class="p">(</span><span class="mi">13900</span><span class="p">,</span> <span class="mi">139</span><span class="p">,</span> <span class="mi">9984</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CQUAD4FD&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cquad</span><span class="p">],</span>
            <span class="c1">#(4701, 47, 326): [&#39;CQUAD8&#39;, self._read_fake],</span>
            <span class="c1">#(3302, 33, 1694): [&#39;CQUAD8L&#39;, self._read_fake],</span>
            <span class="c1">#(15901, 159, 9956): [&#39;CQUAD8N&#39;, self._read_fake],</span>
            <span class="p">(</span><span class="mi">16400</span><span class="p">,</span> <span class="mi">164</span><span class="p">,</span> <span class="mi">9983</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CQUAD9FD&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cquad</span><span class="p">],</span>
            <span class="c1">#(11101, 111, 9014): [&#39;CQUADP&#39;, self._read_fake],</span>
            <span class="c1">#(8009, 80, 367): [&#39;CQUADR&#39;, self._read_fake],</span>
            <span class="c1">#(13002, 130, 1692): [&#39;CQUADRL&#39;, self._read_fake],</span>
            <span class="c1">#(15401, 154, 9954): [&#39;CQUADRN&#39;, self._read_fake],</span>
            <span class="c1">#(9008, 90, 508): [&#39;CQUADX&#39;, self._read_fake],</span>
            <span class="p">(</span><span class="mi">6112</span><span class="p">,</span> <span class="mi">61</span><span class="p">,</span> <span class="mi">997</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CQUADX4&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">6114</span><span class="p">,</span> <span class="mi">61</span><span class="p">,</span> <span class="mi">999</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CQUADX8&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cquadx8</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">3001</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">48</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CROD&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_crod</span><span class="p">],</span>         <span class="c1"># record 81</span>
            <span class="c1">#(14500, 145, 9909): [&#39;CRODF&#39;, self._read_fake],</span>
            <span class="p">(</span><span class="mi">3501</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CSBOLT&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">3101</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">61</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CSHEAR&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cshear</span><span class="p">],</span>     <span class="c1"># record 84</span>
            <span class="p">(</span><span class="mi">4408</span><span class="p">,</span> <span class="mi">44</span><span class="p">,</span> <span class="mi">227</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CSLOT3&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">4508</span><span class="p">,</span> <span class="mi">45</span><span class="p">,</span> <span class="mi">228</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CSLOT4&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>
            <span class="c1">#(12201, 122, 9013): [&#39;CTETP&#39;, self._read_fake],</span>
            <span class="c1">#(5508, 55, 217): [&#39;CTETRA&#39;, self._read_fake],</span>
            <span class="c1">#(14300, 143, 9907): [&#39;CTETRAF&#39;, self._read_fake],</span>
            <span class="c1">#(7609, 76, 9993): [&#39;CTETPR&#39;, self._read_fake],</span>
            <span class="c1">#(16600, 166, 9985): [&#39;CTETR10F&#39;, self._read_fake],</span>
            <span class="c1">#(16100, 161, 9986): [&#39;CTETR4FD&#39;, self._read_fake],</span>
            <span class="c1">#(25010, 168, 9952): [&#39;CTRAX3FDN&#39;, self._read_fake],</span>
            <span class="c1">#(25210, 169, 9950): [&#39;CTRAX6FDN&#39;, self._read_fake],</span>
            <span class="c1">#(5959, 59, 282): [&#39;CTRIA3&#39;, self._read_fake],</span>
            <span class="c1">#(14700, 147, 9911): [&#39;CTRIAF&#39;, self._read_fake],</span>
            <span class="c1">#(16200, 162, 9982): [&#39;CTRIA3FD&#39;, self._read_fake],</span>
            <span class="c1">#(4801, 48, 327): [&#39;CTRIA6&#39;, self._read_fake],</span>
            <span class="c1">#(16700, 167, 9981): [&#39;CTRIA6FD&#39;, self._read_fake],</span>
            <span class="c1">#(3202, 32, 1693): [&#39;CTRIA6L&#39;, self._read_fake],</span>
            <span class="c1">#(15801, 158, 9955): [&#39;CTRIA6N&#39;, self._read_fake],</span>
            <span class="c1">#(11301, 113, 9015): [&#39;CTRIAP&#39;, self._read_fake],</span>
            <span class="c1">#(9200, 92, 385): [&#39;CTRIAR&#39;, self._read_fake],</span>
            <span class="c1">#(12902, 129, 1691): [&#39;CTRIARL&#39;, self._read_fake],</span>
            <span class="c1">#(15301, 153, 9953): [&#39;CTRIARN&#39;, self._read_fake],</span>
            <span class="c1">#(10108, 101, 512): [&#39;CTRIAX&#39;, self._read_fake],</span>
            <span class="c1">#(6108, 61, 107): [&#39;CTRIAX6&#39;, self._read_fake],</span>
            <span class="p">(</span><span class="mi">6111</span><span class="p">,</span> <span class="mi">61</span><span class="p">,</span> <span class="mi">996</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CTRAX3&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_ctrax3</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">6113</span><span class="p">,</span> <span class="mi">61</span><span class="p">,</span> <span class="mi">998</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CTRAX6&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_ctrax6</span><span class="p">],</span>
            <span class="c1">#(16800, 168, 9978): [&#39;CTRIX3FD&#39;, self._read_fake],</span>
            <span class="c1">#(16900, 169, 9977): [&#39;CTRIX6FD&#39;, self._read_fake],</span>
            <span class="p">(</span><span class="mi">3701</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">49</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CTUBE&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_ctube</span><span class="p">],</span> <span class="c1"># record 104</span>
            <span class="p">(</span><span class="mi">3901</span><span class="p">,</span> <span class="mi">39</span><span class="p">,</span> <span class="mi">50</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CVISC&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cvisc</span><span class="p">],</span> <span class="c1"># record 105</span>
            <span class="c1">#(11701, 117, 559): [&#39;CWELD&#39;, self._read_fake],</span>
            <span class="c1">#(13501, 135, 564): [&#39;CWELDC&#39;, self._read_fake],</span>
            <span class="p">(</span><span class="mi">13701</span><span class="p">,</span> <span class="mi">137</span><span class="p">,</span> <span class="mi">565</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CWELDP&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>
            <span class="c1">#(13601, 136, 562): [&#39;CWELDG&#39;, self._read_fake], # This record is no longer used</span>
            <span class="p">(</span><span class="mi">4301</span><span class="p">,</span> <span class="mi">43</span><span class="p">,</span> <span class="mi">28</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;GENEL&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_genel</span><span class="p">],</span>
            <span class="c1">#(3201, 32, 478): [&#39;GMBNDC&#39;, self._read_fake],</span>
            <span class="p">(</span><span class="mi">12901</span><span class="p">,</span> <span class="mi">129</span><span class="p">,</span> <span class="mi">482</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;GMBNDS&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_gmbnds</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">3301</span><span class="p">,</span> <span class="mi">33</span><span class="p">,</span> <span class="mi">479</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;GMINTC&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">13001</span><span class="p">,</span> <span class="mi">130</span><span class="p">,</span> <span class="mi">483</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;GMINTS&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>
            <span class="c1">#(2801, 28, 630): [&#39;MICPNT&#39;, self._read_fake],</span>
            <span class="p">(</span><span class="mi">5201</span><span class="p">,</span> <span class="mi">52</span><span class="p">,</span> <span class="mi">11</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;PLOTEL&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_plotel</span><span class="p">],</span>
            <span class="c1">#(5202, 52, 669): [&#39;PLOTEL3&#39;, self._read_fake],</span>
            <span class="c1">#(5203, 52, 670): [&#39;PLOTEL4&#39;, self._read_fake],</span>
            <span class="c1">#(5204, 52, 671): [&#39;PLOTEL6&#39;, self._read_fake],</span>
            <span class="c1">#(5205, 52, 672): [&#39;PLOTEL8&#39;, self._read_fake],</span>
            <span class="c1">#(5206, 52, 673): [&#39;PLOTHEX&#39;, self._read_fake],</span>
            <span class="c1">#(5208, 52, 675): [&#39;PLOTPEN&#39;, self._read_fake],</span>
            <span class="c1">#(5209, 52, 676): [&#39;PLOTPYR&#39;, self._read_fake],</span>
            <span class="c1">#(5207, 52, 674): [&#39;PLOTTET&#39;, self._read_fake],</span>
            <span class="c1">#(3002, 46, 0): [&#39;Q4AERO&#39;, self._read_fake],</span>
            <span class="p">(</span><span class="mi">12801</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="mi">417</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;RADBC&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_radbc</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">7801</span><span class="p">,</span> <span class="mi">78</span><span class="p">,</span> <span class="mi">8883</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;SINT&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_sint</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">5551</span><span class="p">,</span> <span class="mi">49</span><span class="p">,</span> <span class="mi">105</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;SPOINT&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_spoint</span><span class="p">],</span> <span class="c1"># record 119</span>
            <span class="c1">#(2701, 27, 0): [&#39;T3AERO&#39;, self._read_fake],</span>
            <span class="c1">#(11601, 116, 9942): [&#39;VUBEAM&#39;, self._read_fake],</span>
            <span class="c1">#(12301, 123, 145): [&#39;VUHEXA&#39;, self._read_fake],</span>
            <span class="c1">#(12401, 124, 146): [&#39;VUPENTA&#39;, self._read_fake],</span>
            <span class="c1">#(11201, 112, 9940): [&#39;VUQUAD4&#39;, self._read_fake],</span>
            <span class="c1">#(12501, 125, 147): [&#39;VUTETRA&#39;, self._read_fake],</span>
            <span class="c1">#(11501, 115, 9941): [&#39;VUTRIA3&#39;, self._read_fake],</span>
            <span class="c1">#(65535, 65535, 65535): [&#39;EODB&#39;, self._read_fake],</span>


            <span class="c1">#------------------------------------------------------------------------------</span>
            <span class="c1"># MSC - DMAP 2016.1</span>
            <span class="p">(</span><span class="mi">2002</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;AEROQ4&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span> <span class="c1"># 2</span>
            <span class="p">(</span><span class="mi">1801</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;AEROT3&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span> <span class="c1"># 3</span>
            <span class="p">(</span><span class="mi">1701</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;BEAMAERO&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span> <span class="c1"># 4</span>
            <span class="p">(</span><span class="mi">2708</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="mi">59</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CAABSF&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_caabsf</span><span class="p">],</span> <span class="c1"># 5</span>
            <span class="p">(</span><span class="mi">2108</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">224</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CAXIF2&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span> <span class="c1"># 6</span>
            <span class="p">(</span><span class="mi">2208</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">225</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CAXIF3&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span> <span class="c1"># 7</span>
            <span class="p">(</span><span class="mi">2308</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">226</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CAXIF4&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span> <span class="c1"># 8</span>
            <span class="c1">#(2408, 24, 180): [&#39;CBAR&#39;, self._read_fake], # record 9</span>

            <span class="c1">#(4001, 40, 275): [&#39;CBARAO&#39;, self._read_fake],    # record 10</span>
            <span class="c1">#(5408, 54, 261): [&#39;CBEAM&#39;, self._read_fake],     # record 11</span>
            <span class="c1">#(11401, 114, 9016): [&#39;CBEAMP&#39;, self._read_fake], # record 12</span>
            <span class="c1">#(4601, 46, 298): [&#39;CBEND&#39;, self._read_fake],   # record 13</span>
            <span class="c1">#(2608, 26, 60): [&#39;CBUSH&#39;, self._read_fake],    # record 14</span>
            <span class="c1">#(5608, 56, 218): [&#39;CBUSH1D&#39;, self._read_fake], # record 15</span>
            <span class="p">(</span><span class="mi">2315</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CCONE-msc&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>  <span class="c1"># record 16</span>
            <span class="c1">#(201, 2, 69): [&#39;CDAMP1&#39;, self._read_cdamp1], # record 17</span>
            <span class="c1">#(301, 3, 70): [&#39;CDAMP2&#39;, self._read_cdamp2], # record 18</span>
            <span class="c1">#(401, 4, 71): [&#39;CDAMP3&#39;, self._read_cdamp3], # record 19</span>
            <span class="c1">#(501, 5, 72): [&#39;CDAMP4&#39;, self._read_cdamp4],      # record 20</span>
            <span class="c1">#(10608, 106, 404): [&#39;CDAMP5&#39;, self._read_cdamp5], # record 21</span>
            <span class="c1">#(6208, 62, 108): [&#39;CDUM2&#39;, self._read_fake], # 22</span>
            <span class="c1">#(6308, 63, 109): [&#39;CDUM3&#39;, self._read_fake], # 23</span>
            <span class="c1">#(6408, 64, 110): [&#39;CDUM4&#39;, self._read_fake], # 24</span>
            <span class="c1">#(6508, 65, 111): [&#39;CDUM5&#39;, self._read_fake], # 25</span>
            <span class="c1">#(6608, 66, 112): [&#39;CDUM6&#39;, self._read_fake], # 26</span>
            <span class="c1">#(6708, 67, 113): [&#39;CDUM7&#39;, self._read_fake], # 27</span>
            <span class="c1">#(6808, 68, 114): [&#39;CDUM8&#39;, self._read_cdum8], # 28</span>
            <span class="c1">#(6908, 69, 115): [&#39;CDUM9&#39;, self._read_cdum9], # 29</span>

            <span class="c1">#(601, 6, 73): [&#39;CELAS1&#39;, self._read_fake], # record 30</span>
            <span class="c1">#(701, 7, 74): [&#39;CELAS2&#39;, self._read_fake], # record 31</span>
            <span class="c1">#(801, 8, 75): [&#39;CELAS3&#39;, self._read_fake], # record 32</span>
            <span class="c1">#(901, 9, 76): [&#39;CELAS4&#39;, self._read_fake], # record 33</span>
            <span class="c1">#(9801, 98, 506): [&#39;CFAST&#39;, self._read_fake], # record 34</span>
            <span class="p">(</span><span class="mi">9301</span><span class="p">,</span> <span class="mi">93</span><span class="p">,</span> <span class="mi">607</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CFASTP&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>    <span class="c1"># 35</span>
            <span class="c1">#(8515, 85, 0): [&#39;CFLUID2&#39;, self._read_cfluid2],  # record 36 - not done</span>
            <span class="c1">#(8615, 86, 0): [&#39;CFLUID3&#39;, self._read_cfluid3],  # record 37 - not done</span>
            <span class="c1">#(8715, 87, 0): [&#39;CFLUID4&#39;, self._read_cfluid4],  # record 38 - not done</span>
            <span class="p">(</span><span class="mi">7701</span><span class="p">,</span> <span class="mi">77</span><span class="p">,</span> <span class="mi">8881</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CINT&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cint</span><span class="p">],</span>      <span class="c1"># record 39 - not done</span>

            <span class="c1">#(1908, 19, 104): [&#39;CGAP&#39;, self._read_cgap],      # record 40 - buggy</span>
            <span class="p">(</span><span class="mi">8100</span><span class="p">,</span> <span class="mi">81</span><span class="p">,</span> <span class="mi">381</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CHACAB&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_chacab</span><span class="p">],</span>    <span class="c1"># 41</span>
            <span class="p">(</span><span class="mi">8200</span><span class="p">,</span> <span class="mi">82</span><span class="p">,</span> <span class="mi">383</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CHACBR&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_chacbr</span><span class="p">],</span>    <span class="c1"># 42 - not done</span>
            <span class="c1">#(8308, 83, 405): [&#39;CHBDYE&#39;, self._read_chbdye],  # record 43</span>
            <span class="c1">#(10808, 108, 406): [&#39;CHBDYG&#39;, self._read_fake],  # 44</span>
            <span class="c1">#(10908, 109, 407): [&#39;CHBDYP&#39;, self._read_fake],  # 45</span>
            <span class="p">(</span><span class="mi">7308</span><span class="p">,</span> <span class="mi">73</span><span class="p">,</span> <span class="mi">253</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CHEXA&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_chexa</span><span class="p">],</span>    <span class="c1"># record 46</span>
            <span class="p">(</span><span class="mi">16300</span><span class="p">,</span> <span class="mi">163</span><span class="p">,</span> <span class="mi">9999</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CHEXA20F&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span> <span class="c1"># 47</span>
            <span class="p">(</span><span class="mi">14000</span><span class="p">,</span> <span class="mi">140</span><span class="p">,</span> <span class="mi">9990</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CHEXAFD&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_chexa</span><span class="p">],</span> <span class="c1"># record 48</span>
            <span class="p">(</span><span class="mi">7908</span><span class="p">,</span> <span class="mi">79</span><span class="p">,</span> <span class="mi">369</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CHEXAL&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>     <span class="c1"># 49</span>

            <span class="p">(</span><span class="mi">12001</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="mi">9011</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CHEXP&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>  <span class="c1"># record 50</span>
            <span class="p">(</span><span class="mi">7409</span><span class="p">,</span> <span class="mi">74</span><span class="p">,</span> <span class="mi">9991</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CHEXPR&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_chexpr</span><span class="p">],</span>  <span class="c1"># record 51</span>
            <span class="c1">#(1001, 10, 65): [&#39;CMASS1&#39;, self._read_cmass1],   # record 52</span>
            <span class="c1">#(1101, 11, 66): [&#39;CMASS2&#39;, self._read_cmass2],   # record 53</span>
            <span class="c1">#(1201, 12, 67): [&#39;CMASS3&#39;, self._read_cmass3],   # record 54</span>
            <span class="c1">#(1301, 13, 68): [&#39;CMASS4&#39;, self._read_cmass4],   # record 55</span>
            <span class="c1">#(2508, 25, 0): [&#39;CMFREE&#39;, self._read_cmfree],    # record 56 - not done</span>
            <span class="c1">#(1401, 14, 63): [&#39;CONM1&#39;, self._read_conm1],     # record 57</span>
            <span class="c1">#(1501, 15, 64): [&#39;CONM2&#39;, self._read_conm2],     # record 58</span>
            <span class="c1">#(1601, 16, 47): [&#39;CONROD&#39;, self._read_conrod],   # record 59</span>

            <span class="c1">#(12701, 127, 408): [&#39;CONV&#39;, self._read_conv],     # record 60 - not tested</span>
            <span class="c1">#(8908, 89, 422): [&#39;CONVM&#39;, self._read_convm],     # record 61 - not tested</span>
            <span class="c1">#(12101, 121, 9012): [&#39;CPENP&#39;, self._read_fake],   # 62</span>
            <span class="c1">#(4108, 41, 280): [&#39;CPENTA&#39;, self._read_cpenta],   # record 63</span>
            <span class="c1">#(7509, 75, 9992): [&#39;CPENPR&#39;, self._read_fake],    # 64</span>
            <span class="p">(</span><span class="mi">16500</span><span class="p">,</span> <span class="mi">165</span><span class="p">,</span> <span class="mi">9999</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CPENT15F&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span> <span class="c1"># 65</span>
            <span class="p">(</span><span class="mi">16000</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span> <span class="mi">9999</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CPENT6FD&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span> <span class="c1"># 66</span>
            <span class="p">(</span><span class="mi">17000</span><span class="p">,</span> <span class="mi">170</span><span class="p">,</span> <span class="mi">9999</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CQDX4FD&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>  <span class="c1"># 67</span>
            <span class="p">(</span><span class="mi">17100</span><span class="p">,</span> <span class="mi">171</span><span class="p">,</span> <span class="mi">9999</span><span class="p">)</span> <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;CQDX9FD&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cquadx</span><span class="p">],</span>  <span class="c1"># record 68</span>
            <span class="c1">#(9108, 91, 507): [&#39;CQUAD&#39;, self._read_cquad],        # record 69 - not tested</span>

            <span class="c1">#(2958, 51, 177): [&#39;CQUAD4&#39;, self._read_cquad4],     # record 70</span>
            <span class="p">(</span><span class="mi">13900</span><span class="p">,</span> <span class="mi">139</span><span class="p">,</span> <span class="mi">9989</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CQUAD4FD&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cquad4</span><span class="p">],</span> <span class="c1"># record 71</span>
            <span class="p">(</span><span class="mi">4701</span><span class="p">,</span> <span class="mi">47</span><span class="p">,</span> <span class="mi">326</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CQUAD8&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cquad8</span><span class="p">],</span> <span class="c1"># record 72</span>
            <span class="p">(</span><span class="mi">16400</span><span class="p">,</span> <span class="mi">164</span><span class="p">,</span> <span class="mi">9999</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CQUAD9FD&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span> <span class="c1"># 73</span>
            <span class="p">(</span><span class="mi">11101</span><span class="p">,</span> <span class="mi">111</span><span class="p">,</span> <span class="mi">9014</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CQUADP&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span> <span class="c1"># 74</span>
            <span class="p">(</span><span class="mi">8009</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">367</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CQUADR&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cquadr</span><span class="p">],</span> <span class="c1"># record 75</span>
            <span class="p">(</span><span class="mi">9008</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">508</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CQUADX&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cquadx</span><span class="p">],</span> <span class="c1"># record 76</span>
            <span class="p">(</span><span class="mi">14700</span><span class="p">,</span> <span class="mi">147</span><span class="p">,</span> <span class="mi">6662</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CRBAR&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_crbar</span><span class="p">],</span> <span class="c1"># 77</span>
            <span class="p">(</span><span class="mi">17300</span><span class="p">,</span> <span class="mi">173</span><span class="p">,</span> <span class="mi">6664</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CRBE1&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_crbe1</span><span class="p">],</span> <span class="c1"># 78</span>
            <span class="p">(</span><span class="mi">17200</span><span class="p">,</span> <span class="mi">172</span><span class="p">,</span> <span class="mi">6663</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CRBE3&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_crbe3</span><span class="p">],</span> <span class="c1"># 79</span>

            <span class="p">(</span><span class="mi">11000</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span> <span class="mi">6667</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CRJOINT&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_crjoint</span><span class="p">],</span>  <span class="c1"># 80</span>
            <span class="c1">#(3001, 30, 48): [&#39;CROD&#39;, self._read_crod],         # record 81</span>
            <span class="p">(</span><span class="mi">12600</span><span class="p">,</span> <span class="mi">126</span><span class="p">,</span> <span class="mi">6661</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CRROD&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_crrod</span><span class="p">],</span>    <span class="c1"># 82</span>
            <span class="p">(</span><span class="mi">13801</span><span class="p">,</span> <span class="mi">138</span><span class="p">,</span> <span class="mi">570</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CSEAM&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>     <span class="c1"># 83</span>
            <span class="c1">#(3101, 31, 61): [&#39;CSHEAR&#39;, self._read_cshear],     # record 84</span>
            <span class="c1">#(4408, 44, 227): [&#39;CSLOT3&#39;, self._read_fake],      # 85</span>
            <span class="c1">#(4508, 45, 228): [&#39;CSLOT4&#39;, self._read_fake],      # 86</span>
            <span class="p">(</span><span class="mi">12201</span><span class="p">,</span> <span class="mi">122</span><span class="p">,</span> <span class="mi">9013</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CTETP&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_ctetrap</span><span class="p">],</span> <span class="c1"># record 87</span>
            <span class="p">(</span><span class="mi">5508</span><span class="p">,</span> <span class="mi">55</span><span class="p">,</span> <span class="mi">217</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CTETRA&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_ctetra</span><span class="p">],</span>    <span class="c1"># record 88</span>
            <span class="p">(</span><span class="mi">7609</span><span class="p">,</span> <span class="mi">76</span><span class="p">,</span> <span class="mi">9993</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CTETPR&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_ctetra</span><span class="p">],</span>   <span class="c1"># record 89</span>

            <span class="p">(</span><span class="mi">16600</span><span class="p">,</span> <span class="mi">166</span><span class="p">,</span> <span class="mi">9999</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CTETR10F&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_ctetra</span><span class="p">],</span> <span class="c1"># record 90</span>
            <span class="p">(</span><span class="mi">16100</span><span class="p">,</span> <span class="mi">161</span><span class="p">,</span> <span class="mi">9999</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CTETR4FD&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_ctetra</span><span class="p">],</span> <span class="c1"># record 91</span>
            <span class="p">(</span><span class="mi">14801</span><span class="p">,</span> <span class="mi">148</span><span class="p">,</span> <span class="mi">643</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CTQUAD&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span> <span class="c1"># 92</span>
            <span class="p">(</span><span class="mi">14901</span><span class="p">,</span> <span class="mi">149</span><span class="p">,</span> <span class="mi">644</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CTTRIA&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span> <span class="c1"># 93</span>
            <span class="p">(</span><span class="mi">5959</span><span class="p">,</span> <span class="mi">59</span><span class="p">,</span> <span class="mi">282</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CTRIA3&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_ctria3</span><span class="p">],</span> <span class="c1"># record 94</span>
            <span class="p">(</span><span class="mi">16200</span><span class="p">,</span> <span class="mi">162</span><span class="p">,</span> <span class="mi">9999</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CTRIA3FD&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span> <span class="c1"># 95</span>
            <span class="p">(</span><span class="mi">4801</span><span class="p">,</span> <span class="mi">48</span><span class="p">,</span> <span class="mi">327</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CTRIA6&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_ctria6</span><span class="p">],</span> <span class="c1"># record 96 - buggy</span>
            <span class="p">(</span><span class="mi">16700</span><span class="p">,</span> <span class="mi">167</span><span class="p">,</span> <span class="mi">9999</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CTRIA6FD&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_ctria6</span><span class="p">],</span> <span class="c1"># 97</span>
            <span class="p">(</span><span class="mi">11301</span><span class="p">,</span> <span class="mi">113</span><span class="p">,</span> <span class="mi">9015</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CTRIAP&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span> <span class="c1"># 98</span>
            <span class="p">(</span><span class="mi">9200</span><span class="p">,</span> <span class="mi">92</span><span class="p">,</span> <span class="mi">385</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CTRIAR&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_ctriar</span><span class="p">],</span> <span class="c1"># record 99</span>

            <span class="p">(</span><span class="mi">6108</span><span class="p">,</span> <span class="mi">61</span><span class="p">,</span> <span class="mi">107</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CTRIAX6&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_ctriax6</span><span class="p">],</span> <span class="c1"># 101</span>
            <span class="p">(</span><span class="mi">16800</span><span class="p">,</span> <span class="mi">168</span><span class="p">,</span> <span class="mi">9978</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CTRIX3FD&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span> <span class="c1"># 102</span>
            <span class="p">(</span><span class="mi">16900</span><span class="p">,</span> <span class="mi">169</span><span class="p">,</span> <span class="mi">9977</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CTRIX6FD&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span> <span class="c1"># 103</span>
            <span class="c1">#(3701, 37, 49): [&#39;CTUBE&#39;, self._read_ctube], # record 104</span>
            <span class="c1">#(3901, 39, 50): [&#39;CVISC&#39;, self._read_cvisc], # record 105</span>
            <span class="p">(</span><span class="mi">11701</span><span class="p">,</span> <span class="mi">117</span><span class="p">,</span> <span class="mi">559</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CWELD&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span> <span class="c1"># 106; same as cfast</span>
            <span class="p">(</span><span class="mi">13501</span><span class="p">,</span> <span class="mi">135</span><span class="p">,</span> <span class="mi">564</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CWELDC&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span> <span class="c1"># 107</span>
            <span class="p">(</span><span class="mi">13601</span><span class="p">,</span> <span class="mi">136</span><span class="p">,</span> <span class="mi">562</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CWELDG&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span> <span class="c1"># 108</span>
            <span class="p">(</span><span class="mi">14600</span><span class="p">,</span> <span class="mi">146</span><span class="p">,</span> <span class="mi">630</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CWSEAM&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span> <span class="c1"># 109</span>

            <span class="c1">#(4301, 43, 28): [&#39;GENEL&#39;, self._read_genel],     # 110</span>
            <span class="p">(</span><span class="mi">3201</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">478</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;GMBNDC&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_gmbndc</span><span class="p">],</span>   <span class="c1"># 111</span>
            <span class="c1">#(12901, 129, 482): [&#39;GMBNDS&#39;, self.read_gmbnds], # 112</span>
            <span class="c1">#(3301, 33, 479): [&#39;GMINTC&#39;, self._read_fake],   # 113</span>
            <span class="c1">#(13001, 130, 483): [&#39;GMINTS&#39;, self._read_fake], # 114</span>
            <span class="c1">#(5201, 52, 11): [&#39;PLOTEL&#39;, self._read_plotel],  # record 115</span>
            <span class="c1">#(12801, 128, 417): [&#39;RADBC&#39;, self._read_radbc], # record 116</span>
            <span class="p">(</span><span class="mi">15501</span><span class="p">,</span> <span class="mi">155</span><span class="p">,</span> <span class="mi">634</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;RADINT&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span> <span class="c1"># 117</span>
            <span class="c1">#(7801, 78, 8883): [&#39;SINT&#39;, self._read_fake],    # 118</span>
            <span class="c1">#(5551, 49, 105): [&#39;SPOINT&#39;, self._read_spoint], # record 119</span>

            <span class="p">(</span><span class="mi">11601</span><span class="p">,</span> <span class="mi">116</span><span class="p">,</span> <span class="mi">9942</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;VUBEAM&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_vubeam</span><span class="p">],</span> <span class="c1"># record 120</span>
            <span class="p">(</span><span class="mi">12301</span><span class="p">,</span> <span class="mi">123</span><span class="p">,</span> <span class="mi">145</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;VUHEXA&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>    <span class="c1"># 121</span>
            <span class="p">(</span><span class="mi">11201</span><span class="p">,</span> <span class="mi">112</span><span class="p">,</span> <span class="mi">9940</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;VUQUAD4&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_vuquad4</span><span class="p">],</span>  <span class="c1"># 122</span>
            <span class="p">(</span><span class="mi">12401</span><span class="p">,</span> <span class="mi">124</span><span class="p">,</span> <span class="mi">146</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;VUPENTA&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>   <span class="c1"># 123</span>
            <span class="p">(</span><span class="mi">12501</span><span class="p">,</span> <span class="mi">125</span><span class="p">,</span> <span class="mi">147</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;VUTETRA&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>   <span class="c1"># 124</span>
            <span class="p">(</span><span class="mi">11501</span><span class="p">,</span> <span class="mi">115</span><span class="p">,</span> <span class="mi">9941</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;VUTRIA3&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_vutria3</span><span class="p">],</span>  <span class="c1"># 125</span>
            <span class="p">(</span><span class="mi">13701</span><span class="p">,</span> <span class="mi">137</span><span class="p">,</span> <span class="mi">569</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;WELDP&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>     <span class="c1"># 126; same as CFASTP</span>

            <span class="c1">#----------------------------------------------</span>

            <span class="c1"># unorganized</span>
            <span class="p">(</span><span class="mi">6113</span><span class="p">,</span> <span class="mi">61</span><span class="p">,</span> <span class="mi">998</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CTRAX6&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_ctrax6</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">10108</span><span class="p">,</span> <span class="mi">101</span><span class="p">,</span> <span class="mi">512</span><span class="p">)</span> <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;CTRIAX&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_ctriax</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">2108</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">224</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CAXIF2&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">5601</span><span class="p">,</span> <span class="mi">56</span><span class="p">,</span> <span class="mi">296</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;SESET&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">7509</span><span class="p">,</span> <span class="mi">75</span><span class="p">,</span> <span class="mi">9992</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CPENPR&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cpenta</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">16000</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span> <span class="mi">9988</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CPENTA6FD&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cpenta</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">16100</span><span class="p">,</span> <span class="mi">161</span><span class="p">,</span> <span class="mi">9986</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CTETRAFD&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_ctetra</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">16300</span><span class="p">,</span> <span class="mi">163</span><span class="p">,</span> <span class="mi">9989</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CHEXA20F&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_chexa</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">16700</span><span class="p">,</span> <span class="mi">167</span><span class="p">,</span> <span class="mi">9981</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CTRI6FD&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_ctria6fd</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">16800</span><span class="p">,</span> <span class="mi">168</span><span class="p">,</span> <span class="mi">9978</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CTRIAX3FD&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_ctrix3fd</span><span class="p">],</span>  <span class="c1"># same as ctria6fd</span>
            <span class="p">(</span><span class="mi">16500</span><span class="p">,</span> <span class="mi">165</span><span class="p">,</span> <span class="mi">9987</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CPENT15F&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cpenta</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">5008</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">258</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CNGRET&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cngret</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">12301</span><span class="p">,</span> <span class="mi">123</span><span class="p">,</span> <span class="mi">9921</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;ADAPT card&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_adapt</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">12401</span><span class="p">,</span> <span class="mi">124</span><span class="p">,</span> <span class="mi">9922</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;FEFACE/PVAL?&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_feface_pval</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">7309</span><span class="p">,</span> <span class="mi">73</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;CaseControl SET?&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>
            <span class="p">(</span><span class="mi">12501</span><span class="p">,</span> <span class="mi">125</span><span class="p">,</span> <span class="mi">9923</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;ADAPT card 2&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_adapt</span><span class="p">],</span>    <span class="c1"># record</span>
            <span class="p">(</span><span class="mi">3401</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">9600</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;GMCONV?&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>    <span class="c1"># record</span>
            <span class="p">(</span><span class="mi">2901</span><span class="p">,</span> <span class="mi">29</span><span class="p">,</span> <span class="mi">9601</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;FEEDGE&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_feedge2</span><span class="p">],</span>  <span class="c1"># record</span>
            <span class="p">(</span><span class="mi">16600</span><span class="p">,</span> <span class="mi">166</span><span class="p">,</span> <span class="mi">9985</span><span class="p">)</span> <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;CTETRA?&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_ctetra</span><span class="p">],</span>  <span class="c1"># record</span>
            <span class="p">(</span><span class="mi">16200</span><span class="p">,</span> <span class="mi">162</span><span class="p">,</span> <span class="mi">9982</span><span class="p">)</span> <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;CTRIA3&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_ctria3fd</span><span class="p">],</span>  <span class="c1"># record</span>
            <span class="p">(</span><span class="mi">16900</span><span class="p">,</span> <span class="mi">169</span><span class="p">,</span> <span class="mi">9977</span><span class="p">)</span> <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;CTRIAX&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_ctriax</span><span class="p">],</span>  <span class="c1"># record</span>
            <span class="p">(</span><span class="mi">23500</span><span class="p">,</span> <span class="mi">235</span><span class="p">,</span> <span class="mi">6662</span><span class="p">)</span> <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>  <span class="c1"># record</span>
            <span class="p">(</span><span class="mi">23800</span><span class="p">,</span> <span class="mi">238</span><span class="p">,</span> <span class="mi">6665</span><span class="p">)</span> <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>  <span class="c1"># record</span>
            <span class="p">(</span><span class="mi">23900</span><span class="p">,</span> <span class="mi">239</span><span class="p">,</span> <span class="mi">6666</span><span class="p">)</span> <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>  <span class="c1"># record</span>

            <span class="p">(</span><span class="mi">1976</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1996</span><span class="p">)</span> <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>  <span class="c1"># record</span>
            <span class="p">(</span><span class="mi">6120</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">60434</span><span class="p">)</span> <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>  <span class="c1"># record</span>
            <span class="p">(</span><span class="mi">2024</span><span class="p">,</span> <span class="mi">1001</span><span class="p">,</span> <span class="mi">2024</span><span class="p">)</span> <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>  <span class="c1"># record</span>
            <span class="p">(</span><span class="mi">801</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">572</span><span class="p">)</span> <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>  <span class="c1"># record</span>

            <span class="p">(</span><span class="mi">1001</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">10000</span><span class="p">)</span> <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>  <span class="c1"># record</span>
            <span class="p">(</span><span class="mi">1118</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1874</span><span class="p">)</span> <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_fake</span><span class="p">],</span>  <span class="c1"># record</span>
        <span class="p">}</span>

<div class="viewcode-block" id="GEOM2.add_op2_element"><a class="viewcode-back" href="../../../../../reference/op2/tables/geom/pyNastran.op2.tables.geom.geom2.html#pyNastran.op2.tables.geom.geom2.GEOM2.add_op2_element">[docs]</a>    <span class="k">def</span> <span class="nf">add_op2_element</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;checks that eids are positive and that -1 node ids become None&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">elem</span><span class="o">.</span><span class="n">eid</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">elem</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="c1">#return</span>

        <span class="c1">#if elem.eid &gt; 100000000:</span>
            <span class="c1">#raise RuntimeError(&#39;bad parsing...elem:\n%s&#39; % elem)</span>

        <span class="k">if</span> <span class="n">elem</span><span class="o">.</span><span class="n">type</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;CTRIA6&#39;</span><span class="p">,</span> <span class="s1">&#39;CQUAD8&#39;</span><span class="p">]:</span>
            <span class="k">for</span> <span class="n">nid</span> <span class="ow">in</span> <span class="n">elem</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">nid</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                    <span class="n">nid</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">nid</span> <span class="ow">in</span> <span class="n">elem</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">nid</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                    <span class="k">assert</span> <span class="n">nid</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="n">elem</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_add_element_object</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span> <span class="n">allow_overwrites</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></div>
        <span class="c1">#print(str(elem)[:-1])</span>

<span class="c1"># 1-AEROQ4 (???)</span>
<span class="c1"># AEROT3   (???)</span>
<span class="c1"># 1-BEAMAERO (1701,17,0)</span>
    <span class="k">def</span> <span class="nf">_read_caabsf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;2-CAABSF (2708,27,59)</span>

<span class="sd">        Word Name Type Description</span>
<span class="sd">        1 EID I Element identification number</span>
<span class="sd">        2 PID I Property identification number</span>
<span class="sd">        3 G1  I Grid point 1 identification number</span>
<span class="sd">        4 G2  I Grid point 2 identification number</span>
<span class="sd">        5 G3  I Grid point 3 identification number</span>
<span class="sd">        6 G4  I Grid point 4 identification number</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_run_4nodes</span><span class="p">(</span><span class="n">CAABSF</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

<span class="c1"># 3-CAXIF2 (2108,21,224)</span>
<span class="c1"># 4-CAXIF3 (2208,22,225)</span>
<span class="c1"># 5-CAXIF4 (2308,23,226)</span>

    <span class="k">def</span> <span class="nf">_read_cbar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CBAR(2408,24,180) - the marker for Record 8</span>

<span class="sd">        MSC/NX</span>
<span class="sd">        Word Name Type Description</span>
<span class="sd">        1 EID    I  Element identification number</span>
<span class="sd">        2 PID    I  Property identification number</span>
<span class="sd">        3 GA     I  Grid point identification number at end A</span>
<span class="sd">        4 GB     I  Grid point identification number at end B</span>

<span class="sd">        F=0* XYZ option -- basic coordinate system</span>
<span class="sd">           5 X1 RS  T1 component of orientation vector from GA</span>
<span class="sd">           6 X2 RS  T2 component of orientation vector from GA</span>
<span class="sd">           7 X3 RS  T3 component of orientation vector from GA</span>
<span class="sd">           8 FE  I  Orientation vector flag (encoded)</span>
<span class="sd">        F=1* XYZ option -- global coordinate system</span>
<span class="sd">           5 X1 RS  T1 component of orientation vector from GA</span>
<span class="sd">           6 X2 RS  T2 component of orientation vector from GA</span>
<span class="sd">           7 X3 RS  T3 component of orientation vector from GA</span>
<span class="sd">           8 FE  I   Orientation vector flag (encoded)</span>
<span class="sd">        F=2* Grid option</span>
<span class="sd">           5 GO I Grid point identification number at end of orientation vector</span>
<span class="sd">           6 UNDEF(2) none Not used</span>
<span class="sd">           8 FE I Orientation vector flag (encoded)</span>
<span class="sd">        *F = FE bit-wise AND with 3</span>
<span class="sd">        End F</span>

<span class="sd">        9  PA   I Pin flags for end A</span>
<span class="sd">        10 PB   I Pin flags for end B</span>
<span class="sd">        11 W1A RS T1 component of offset vector from GA</span>
<span class="sd">        12 W2A RS T2 component of offset vector from GA</span>
<span class="sd">        13 W3A RS T3 component of offset vector from GA</span>
<span class="sd">        14 W1B RS T1 component of offset vector from GB</span>
<span class="sd">        15 W2B RS T2 component of offset vector from GB</span>
<span class="sd">        16 W3B RS T3 component of offset vector from GB</span>
<span class="sd">        F:\work\pyNastran\pyNastran\master2\pyNastran\bdf\test\nx_spike\out_sebload1.op2</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ntotal</span> <span class="o">=</span> <span class="mi">64</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">factor</span> <span class="c1"># 16*4</span>
        <span class="n">fe1</span> <span class="o">=</span> <span class="mi">28</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">factor</span>
        <span class="n">fe2</span> <span class="o">=</span> <span class="mi">32</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">factor</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="n">ntotal</span>
        <span class="n">struct_i</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">struct_i</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">4</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">struct_q</span>
        <span class="n">s1</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="n">mapfmt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;4i3f3i6f&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span>
        <span class="c1">#s2 = Struct(self._endian + b&#39;4i3f3i6f&#39;)</span>
        <span class="n">s2</span> <span class="o">=</span> <span class="n">s1</span>
        <span class="n">s3</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="n">mapfmt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;7ii2i6f&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span> <span class="o">+</span> <span class="n">ntotal</span><span class="p">]</span>
            <span class="c1"># we need this flag before we can figure out how to read f</span>
            <span class="c1"># per DMAP: F = FE bit-wise AND with 3</span>
            <span class="n">fe</span><span class="p">,</span> <span class="o">=</span> <span class="n">struct_i</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">[</span><span class="n">fe1</span><span class="p">:</span><span class="n">fe2</span><span class="p">])</span>
            <span class="n">f</span> <span class="o">=</span> <span class="n">fe</span> <span class="o">&amp;</span> <span class="mi">3</span>

            <span class="k">if</span> <span class="n">f</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="c1"># nodes defined in cid=0</span>
                <span class="c1"># XYZ option -- basic coordinate system</span>
                <span class="n">out</span> <span class="o">=</span> <span class="n">s1</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
                <span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">ga</span><span class="p">,</span> <span class="n">gb</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">x3</span><span class="p">,</span> <span class="n">_f</span><span class="p">,</span> <span class="n">pa</span><span class="p">,</span> <span class="n">pb</span><span class="p">,</span>
                 <span class="n">w1a</span><span class="p">,</span> <span class="n">w2a</span><span class="p">,</span> <span class="n">w3a</span><span class="p">,</span> <span class="n">w1b</span><span class="p">,</span> <span class="n">w2b</span><span class="p">,</span> <span class="n">w3b</span><span class="p">)</span> <span class="o">=</span> <span class="n">out</span>
                <span class="n">data_in</span> <span class="o">=</span> <span class="p">[[</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">ga</span><span class="p">,</span> <span class="n">gb</span><span class="p">,</span> <span class="n">pa</span><span class="p">,</span> <span class="n">pb</span><span class="p">,</span> <span class="n">w1a</span><span class="p">,</span> <span class="n">w2a</span><span class="p">,</span> <span class="n">w3a</span><span class="p">,</span> <span class="n">w1b</span><span class="p">,</span> <span class="n">w2b</span><span class="p">,</span> <span class="n">w3b</span><span class="p">],</span>
                           <span class="p">[</span><span class="n">f</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">x3</span><span class="p">]]</span>
                <span class="c1">#print(f&#39;eid={eid} fe,f={fe},{f} x=[{x1},{x2},{x3}]&#39;)</span>
            <span class="k">elif</span> <span class="n">f</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="c1"># nodes defined in a coordinate system</span>
                <span class="c1">#XYZ option -- global coordinate system</span>
                <span class="n">out</span> <span class="o">=</span> <span class="n">s2</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
                <span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">ga</span><span class="p">,</span> <span class="n">gb</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">x3</span><span class="p">,</span> <span class="n">_f</span><span class="p">,</span> <span class="n">pa</span><span class="p">,</span> <span class="n">pb</span><span class="p">,</span>
                 <span class="n">w1a</span><span class="p">,</span> <span class="n">w2a</span><span class="p">,</span> <span class="n">w3a</span><span class="p">,</span> <span class="n">w1b</span><span class="p">,</span> <span class="n">w2b</span><span class="p">,</span> <span class="n">w3b</span><span class="p">)</span> <span class="o">=</span> <span class="n">out</span>
                <span class="n">data_in</span> <span class="o">=</span> <span class="p">[[</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">ga</span><span class="p">,</span> <span class="n">gb</span><span class="p">,</span> <span class="n">pa</span><span class="p">,</span> <span class="n">pb</span><span class="p">,</span> <span class="n">w1a</span><span class="p">,</span> <span class="n">w2a</span><span class="p">,</span> <span class="n">w3a</span><span class="p">,</span> <span class="n">w1b</span><span class="p">,</span> <span class="n">w2b</span><span class="p">,</span> <span class="n">w3b</span><span class="p">],</span>
                           <span class="p">[</span><span class="n">f</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">x3</span><span class="p">]]</span>
                <span class="c1">#print(f&#39;eid={eid} fe,f={fe},{f} x=[{x1},{x2},{x3}]&#39;)</span>
            <span class="k">elif</span> <span class="n">f</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                <span class="c1"># Grid option</span>
                <span class="n">out</span> <span class="o">=</span> <span class="n">s3</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
                <span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">ga</span><span class="p">,</span> <span class="n">gb</span><span class="p">,</span> <span class="n">g0</span><span class="p">,</span> <span class="n">unused_junk1</span><span class="p">,</span> <span class="n">unused_junk2</span><span class="p">,</span> <span class="n">_f</span><span class="p">,</span> <span class="n">pa</span><span class="p">,</span>
                 <span class="n">pb</span><span class="p">,</span> <span class="n">w1a</span><span class="p">,</span> <span class="n">w2a</span><span class="p">,</span> <span class="n">w3a</span><span class="p">,</span> <span class="n">w1b</span><span class="p">,</span> <span class="n">w2b</span><span class="p">,</span> <span class="n">w3b</span><span class="p">)</span> <span class="o">=</span> <span class="n">out</span>
                <span class="n">data_in</span> <span class="o">=</span> <span class="p">[[</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">ga</span><span class="p">,</span> <span class="n">gb</span><span class="p">,</span> <span class="n">pa</span><span class="p">,</span> <span class="n">pb</span><span class="p">,</span> <span class="n">w1a</span><span class="p">,</span>
                            <span class="n">w2a</span><span class="p">,</span> <span class="n">w3a</span><span class="p">,</span> <span class="n">w1b</span><span class="p">,</span> <span class="n">w2b</span><span class="p">,</span> <span class="n">w3b</span><span class="p">],</span> <span class="p">[</span><span class="n">f</span><span class="p">,</span> <span class="n">g0</span><span class="p">]]</span>
                <span class="c1">#print(f&#39;eid={eid} fe,f={fe},{f} g0={g0}&#39;)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s1">&#39;invalid f value...f=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">f</span><span class="p">))</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">CBAR</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">data_in</span><span class="p">)</span>
            <span class="k">assert</span> <span class="n">f</span> <span class="o">==</span> <span class="n">fe</span><span class="p">,</span> <span class="s1">&#39;f=</span><span class="si">%s</span><span class="s1"> type(f)=</span><span class="si">%s</span><span class="s1"> fe=</span><span class="si">%s</span><span class="se">\n</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">f</span><span class="p">),</span> <span class="n">fe</span><span class="p">,</span> <span class="n">elem</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">add_op2_element</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="n">ntotal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;CBAR&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_read_cbarao</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CBARAO(4001,40,275) - the marker for Record 9</span>

<span class="sd">        1 EID   I Element identification number</span>
<span class="sd">        2 SCALE I Scale of Xi values</span>
<span class="sd">        3 X1 RS 1st intermediate station for data recovery</span>
<span class="sd">        4 X2 RS 2nd intermediate station for data recovery</span>
<span class="sd">        5 X3 RS 3rd intermediate station for data recovery</span>
<span class="sd">        6 X4 RS 4th intermediate station for data recovery</span>
<span class="sd">        7 X5 RS 5th intermediate station for data recovery</span>
<span class="sd">        8 X6 RS 6th intermediate station for data recovery</span>
<span class="sd">        9 UNDEF none Not used</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="mi">36</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;2i7f&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span> <span class="o">+</span> <span class="mi">36</span><span class="p">]</span>  <span class="c1"># 9*4</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CBARAO=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
            <span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">scale</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">x3</span><span class="p">,</span> <span class="n">x4</span><span class="p">,</span> <span class="n">x5</span><span class="p">,</span> <span class="n">x6</span><span class="p">,</span> <span class="n">unused_null</span><span class="p">)</span> <span class="o">=</span> <span class="n">out</span>
            <span class="k">if</span> <span class="n">scale</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                <span class="n">scale</span> <span class="o">=</span> <span class="s1">&#39;FR&#39;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s1">&#39;CBARAO scale=</span><span class="si">%r</span><span class="s1">; 2=FR&#39;</span> <span class="o">%</span> <span class="n">scale</span><span class="p">)</span>
            <span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">x3</span><span class="p">,</span> <span class="n">x4</span><span class="p">,</span> <span class="n">x5</span><span class="p">,</span> <span class="n">x6</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_cbarao</span><span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">scale</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="mi">36</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;CBARAO&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_read_cbeam</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CBEAM(5408,54,261) - the marker for Record 10</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ntotal</span> <span class="o">=</span> <span class="mi">72</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">factor</span>  <span class="c1"># 18*4</span>
        <span class="n">fe1</span> <span class="o">=</span> <span class="mi">40</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">factor</span>
        <span class="n">fe2</span> <span class="o">=</span> <span class="mi">44</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">factor</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="n">ntotal</span>
        <span class="n">struct_i</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">struct_i</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">4</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">struct_q</span>
        <span class="n">s1</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="n">mapfmt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;6i3f3i6f&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span>
        <span class="n">s3</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="n">mapfmt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;12i6f&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span> <span class="o">+</span> <span class="n">ntotal</span><span class="p">]</span>
            <span class="n">fe</span><span class="p">,</span> <span class="o">=</span> <span class="n">struct_i</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">[</span><span class="n">fe1</span><span class="p">:</span><span class="n">fe2</span><span class="p">])</span>
            <span class="c1"># per DMAP: F = FE bit-wise AND with 3</span>
            <span class="n">f</span> <span class="o">=</span> <span class="n">fe</span> <span class="o">&amp;</span> <span class="mi">3</span>
            <span class="k">if</span> <span class="n">f</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1"># basic cid</span>
                <span class="n">out</span> <span class="o">=</span> <span class="n">s1</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
                <span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">ga</span><span class="p">,</span> <span class="n">gb</span><span class="p">,</span> <span class="n">sa</span><span class="p">,</span> <span class="n">sb</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">x3</span><span class="p">,</span> <span class="n">fe</span><span class="p">,</span>
                 <span class="n">pa</span><span class="p">,</span> <span class="n">pb</span><span class="p">,</span> <span class="n">w1a</span><span class="p">,</span> <span class="n">w2a</span><span class="p">,</span> <span class="n">w3a</span><span class="p">,</span> <span class="n">w1b</span><span class="p">,</span> <span class="n">w2b</span><span class="p">,</span> <span class="n">w3b</span><span class="p">)</span> <span class="o">=</span> <span class="n">out</span>
                <span class="c1">#self.log.info(&#39;CBEAM: eid=%s fe=%s f=%s; basic cid&#39; % (eid, fe, f))</span>

                <span class="n">data_in</span> <span class="o">=</span> <span class="p">[[</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">ga</span><span class="p">,</span> <span class="n">gb</span><span class="p">,</span> <span class="n">sa</span><span class="p">,</span> <span class="n">sb</span><span class="p">,</span> <span class="n">pa</span><span class="p">,</span> <span class="n">pb</span><span class="p">,</span> <span class="n">w1a</span><span class="p">,</span> <span class="n">w2a</span><span class="p">,</span> <span class="n">w3a</span><span class="p">,</span> <span class="n">w1b</span><span class="p">,</span> <span class="n">w2b</span><span class="p">,</span> <span class="n">w3b</span><span class="p">],</span>
                           <span class="p">[</span><span class="n">f</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">x3</span><span class="p">]]</span>
            <span class="k">elif</span> <span class="n">f</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1"># global cid</span>
                <span class="c1"># CBEAM    89616   5       384720  384521  0.      0.     -1.</span>
                <span class="n">out</span> <span class="o">=</span> <span class="n">s1</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
                <span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">ga</span><span class="p">,</span> <span class="n">gb</span><span class="p">,</span> <span class="n">sa</span><span class="p">,</span> <span class="n">sb</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">x3</span><span class="p">,</span> <span class="n">fe</span><span class="p">,</span>
                 <span class="n">pa</span><span class="p">,</span> <span class="n">pb</span><span class="p">,</span> <span class="n">w1a</span><span class="p">,</span> <span class="n">w2a</span><span class="p">,</span> <span class="n">w3a</span><span class="p">,</span> <span class="n">w1b</span><span class="p">,</span> <span class="n">w2b</span><span class="p">,</span> <span class="n">w3b</span><span class="p">)</span> <span class="o">=</span> <span class="n">out</span>
                <span class="c1">#self.log.info(&#39;CBEAM: eid=%s fe=%s f=%s; global cid&#39; % (eid, fe, f))</span>
                <span class="n">data_in</span> <span class="o">=</span> <span class="p">[[</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">ga</span><span class="p">,</span> <span class="n">gb</span><span class="p">,</span> <span class="n">sa</span><span class="p">,</span> <span class="n">sb</span><span class="p">,</span> <span class="n">pa</span><span class="p">,</span> <span class="n">pb</span><span class="p">,</span> <span class="n">w1a</span><span class="p">,</span> <span class="n">w2a</span><span class="p">,</span> <span class="n">w3a</span><span class="p">,</span> <span class="n">w1b</span><span class="p">,</span> <span class="n">w2b</span><span class="p">,</span> <span class="n">w3b</span><span class="p">],</span>
                           <span class="p">[</span><span class="n">f</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">x3</span><span class="p">]]</span>
            <span class="k">elif</span> <span class="n">f</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>  <span class="c1"># grid option</span>
                <span class="n">out</span> <span class="o">=</span> <span class="n">s3</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
                <span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">ga</span><span class="p">,</span> <span class="n">gb</span><span class="p">,</span> <span class="n">sa</span><span class="p">,</span> <span class="n">sb</span><span class="p">,</span> <span class="n">g0</span><span class="p">,</span> <span class="n">xxa</span><span class="p">,</span> <span class="n">xxb</span><span class="p">,</span> <span class="n">fe</span><span class="p">,</span>
                 <span class="n">pa</span><span class="p">,</span> <span class="n">pb</span><span class="p">,</span> <span class="n">w1a</span><span class="p">,</span> <span class="n">w2a</span><span class="p">,</span> <span class="n">w3a</span><span class="p">,</span> <span class="n">w1b</span><span class="p">,</span> <span class="n">w2b</span><span class="p">,</span> <span class="n">w3b</span><span class="p">)</span> <span class="o">=</span> <span class="n">out</span>
                <span class="c1">#self.log.info(&#39;CBEAM: eid=%s fe=%s f=%s; grid option &#39;</span>
                              <span class="c1">#&#39;(g0=%s xxa=%s xxb=%s)&#39; % (eid, fe, f, g0, xxa, xxb))</span>
                <span class="k">if</span> <span class="n">g0</span> <span class="o">&lt;=</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">g0</span> <span class="o">&gt;=</span> <span class="mi">100000000</span> <span class="ow">or</span> <span class="n">xxa</span> <span class="o">!=</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">xxb</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="c1"># Nastran set this wrong...MasterModelTaxi</span>
                    <span class="c1">#CBEAM    621614  2672    900380  900379 .197266 -.978394.0600586</span>
                    <span class="c1">#    6</span>


                    <span class="n">f</span> <span class="o">=</span> <span class="mi">1</span>
                    <span class="n">out</span> <span class="o">=</span> <span class="n">s1</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
                    <span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">ga</span><span class="p">,</span> <span class="n">gb</span><span class="p">,</span> <span class="n">sa</span><span class="p">,</span> <span class="n">sb</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">x3</span><span class="p">,</span> <span class="n">fe</span><span class="p">,</span> <span class="n">pa</span><span class="p">,</span>
                     <span class="n">pb</span><span class="p">,</span> <span class="n">w1a</span><span class="p">,</span> <span class="n">w2a</span><span class="p">,</span> <span class="n">w3a</span><span class="p">,</span> <span class="n">w1b</span><span class="p">,</span> <span class="n">w2b</span><span class="p">,</span> <span class="n">w3b</span><span class="p">)</span> <span class="o">=</span> <span class="n">out</span>
                    <span class="c1">#self.log.info(&#39;CBEAM: eid=%s fe=%s f=%s; global cid&#39; % (eid, fe, f))</span>
                    <span class="n">data_in</span> <span class="o">=</span> <span class="p">[[</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">ga</span><span class="p">,</span> <span class="n">gb</span><span class="p">,</span> <span class="n">sa</span><span class="p">,</span> <span class="n">sb</span><span class="p">,</span> <span class="n">pa</span><span class="p">,</span> <span class="n">pb</span><span class="p">,</span> <span class="n">w1a</span><span class="p">,</span> <span class="n">w2a</span><span class="p">,</span> <span class="n">w3a</span><span class="p">,</span> <span class="n">w1b</span><span class="p">,</span> <span class="n">w2b</span><span class="p">,</span> <span class="n">w3b</span><span class="p">],</span>
                               <span class="p">[</span><span class="n">f</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">x3</span><span class="p">]]</span>
                    <span class="c1">#self.log.info(&#39;   (x1=%s x2=%s x3=%s)&#39; % (x1, x2, x3))</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">data_in</span> <span class="o">=</span> <span class="p">[[</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">ga</span><span class="p">,</span> <span class="n">gb</span><span class="p">,</span> <span class="n">sa</span><span class="p">,</span> <span class="n">sb</span><span class="p">,</span> <span class="n">pa</span><span class="p">,</span> <span class="n">pb</span><span class="p">,</span> <span class="n">w1a</span><span class="p">,</span> <span class="n">w2a</span><span class="p">,</span> <span class="n">w3a</span><span class="p">,</span> <span class="n">w1b</span><span class="p">,</span> <span class="n">w2b</span><span class="p">,</span> <span class="n">w3b</span><span class="p">],</span>
                               <span class="p">[</span><span class="n">f</span><span class="p">,</span> <span class="n">g0</span><span class="p">]]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s1">&#39;invalid f value...f=</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">f</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CBEAM eid=</span><span class="si">%s</span><span class="s1"> f=</span><span class="si">%s</span><span class="s1"> fe=</span><span class="si">%s</span><span class="s1"> </span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span>
                    <span class="n">eid</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">fe</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">data_in</span><span class="p">)))</span>

            <span class="n">elem</span> <span class="o">=</span> <span class="n">CBEAM</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">data_in</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_op2_element</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="n">ntotal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;CBEAM&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_read_cbeamp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CBEAMP(11401,114,9016) - the marker for Record 11</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;skipping CBEAMP in GEOM2&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_read_cbend</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CBEND(4601,46,298) - the marker for Record 12</span>

<span class="sd">        1 EID I Element identification number</span>
<span class="sd">        2 PID I Property identification number</span>
<span class="sd">        3 GA  I Grid point End A identification number</span>
<span class="sd">        4 GB  I Grid point End B identification number</span>

<span class="sd">        F = 0 Z</span>
<span class="sd">          5 X1 RS T1 component of orientation vector from GA</span>
<span class="sd">          6 X2 RS T2 component of orientation vector from GA</span>
<span class="sd">          7 X3 RS T3 component of orientation vector from GA</span>
<span class="sd">        8 F    I     Orientation vector flag = 0</span>
<span class="sd">        F = 1 XYZ option - global cooridnate system</span>
<span class="sd">          5 X1 RS T1 component of orientation vector from GA</span>
<span class="sd">          6 X2 RS T2 component of orientation vector from GA</span>
<span class="sd">          7 X3 RS T3 component of orientation vector from GA</span>
<span class="sd">          8 F   I    Orientation vector flag = 1</span>
<span class="sd">        F = 2 Grid option</span>
<span class="sd">          5 GO       I Grid point ID at end of orientation vector</span>
<span class="sd">          6 UNDEF(2)    None</span>
<span class="sd">          8 F        I Orientation vector flag = 2</span>
<span class="sd">        End F</span>
<span class="sd">        9 UNDEF(4) None</span>
<span class="sd">        13 GEOM I Element geometry option</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ntotal</span> <span class="o">=</span> <span class="mi">52</span> <span class="c1"># 4*13</span>
        <span class="n">nentries</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="n">ntotal</span>
        <span class="n">fstruc</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;4i 3f 6i&#39;</span><span class="p">)</span>
        <span class="n">istruc</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;4i 3i 6i&#39;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nentries</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span> <span class="o">+</span> <span class="mi">52</span><span class="p">]</span>  <span class="c1"># 13*4</span>
            <span class="n">fe</span><span class="p">,</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">struct_i</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">[</span><span class="mi">28</span><span class="p">:</span><span class="mi">32</span><span class="p">])</span>
            <span class="c1"># per DMAP: F = FE bit-wise AND with 3</span>
            <span class="n">f</span> <span class="o">=</span> <span class="n">fe</span> <span class="o">&amp;</span> <span class="mi">3</span>
            <span class="k">if</span> <span class="n">f</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">out</span> <span class="o">=</span> <span class="n">fstruc</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
                <span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">ga</span><span class="p">,</span> <span class="n">gb</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">x3</span><span class="p">,</span> <span class="n">fe</span><span class="p">,</span>
                 <span class="n">unused_dunnoa</span><span class="p">,</span> <span class="n">unused_dunnob</span><span class="p">,</span> <span class="n">unused_dunnoc</span><span class="p">,</span> <span class="n">unused_dunnod</span><span class="p">,</span> <span class="n">geom</span><span class="p">)</span> <span class="o">=</span> <span class="n">out</span>
                <span class="n">data_in</span> <span class="o">=</span> <span class="p">[[</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">ga</span><span class="p">,</span> <span class="n">gb</span><span class="p">,</span> <span class="n">geom</span><span class="p">],</span>
                           <span class="p">[</span><span class="n">f</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">x3</span><span class="p">]]</span>
            <span class="k">elif</span> <span class="n">f</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">out</span> <span class="o">=</span> <span class="n">fstruc</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
                <span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">ga</span><span class="p">,</span> <span class="n">gb</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">x3</span><span class="p">,</span> <span class="n">fe</span><span class="p">,</span>
                 <span class="n">unused_dunnoa</span><span class="p">,</span> <span class="n">unused_dunnob</span><span class="p">,</span> <span class="n">unused_dunnoc</span><span class="p">,</span> <span class="n">unused_dunnod</span><span class="p">,</span> <span class="n">geom</span><span class="p">)</span> <span class="o">=</span> <span class="n">out</span>
                <span class="n">data_in</span> <span class="o">=</span> <span class="p">[[</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">ga</span><span class="p">,</span> <span class="n">gb</span><span class="p">,</span> <span class="n">geom</span><span class="p">],</span>
                           <span class="p">[</span><span class="n">f</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">x3</span><span class="p">]]</span>
            <span class="k">elif</span> <span class="n">f</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                <span class="n">out</span> <span class="o">=</span> <span class="n">istruc</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
                <span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">ga</span><span class="p">,</span> <span class="n">gb</span><span class="p">,</span> <span class="n">g0</span><span class="p">,</span> <span class="n">unused_junk1</span><span class="p">,</span> <span class="n">unused_junk2</span><span class="p">,</span> <span class="n">fe</span><span class="p">,</span>
                 <span class="n">unused_dunnoa</span><span class="p">,</span> <span class="n">unused_dunnob</span><span class="p">,</span> <span class="n">unused_dunnoc</span><span class="p">,</span> <span class="n">unused_dunnod</span><span class="p">,</span> <span class="n">geom</span><span class="p">)</span> <span class="o">=</span> <span class="n">out</span>
                <span class="n">data_in</span> <span class="o">=</span> <span class="p">[[</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">ga</span><span class="p">,</span> <span class="n">gb</span><span class="p">,</span> <span class="n">geom</span><span class="p">],</span>
                           <span class="p">[</span><span class="n">f</span><span class="p">,</span> <span class="n">g0</span><span class="p">]]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s1">&#39;invalid f value...f=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">f</span><span class="p">))</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">CBEND</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">data_in</span><span class="p">)</span>
            <span class="n">elem</span><span class="o">.</span><span class="n">validate</span><span class="p">()</span>
            <span class="k">assert</span> <span class="n">f</span> <span class="o">==</span> <span class="n">fe</span><span class="p">,</span> <span class="s1">&#39;f=</span><span class="si">%s</span><span class="s1"> type(f)=</span><span class="si">%s</span><span class="s1"> fe=</span><span class="si">%s</span><span class="se">\n</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">f</span><span class="p">),</span> <span class="n">fe</span><span class="p">,</span> <span class="n">elem</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">add_op2_element</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="mi">52</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">increase_card_count</span><span class="p">(</span><span class="s1">&#39;CBEND&#39;</span><span class="p">,</span> <span class="n">nentries</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_read_cbush</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CBUSH(2608,26,60) - the marker for Record 13</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ntotal</span> <span class="o">=</span> <span class="mi">56</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">factor</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="n">ntotal</span>
        <span class="n">struct_obj1</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="n">mapfmt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;4i iii i ifi3f&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span>
        <span class="n">struct_obj2</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="n">mapfmt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;4i fff i ifi3f&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span> <span class="o">+</span> <span class="n">ntotal</span><span class="p">]</span>  <span class="c1"># 14*4</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">struct_obj1</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">ga</span><span class="p">,</span> <span class="n">gb</span><span class="p">,</span> <span class="n">five</span><span class="p">,</span> <span class="n">unused_sixi</span><span class="p">,</span> <span class="n">unused_seven</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">cid</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">ocid</span><span class="p">,</span> <span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">,</span> <span class="n">s3</span> <span class="o">=</span> <span class="n">out</span>
            <span class="n">si</span> <span class="o">=</span> <span class="p">[</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">,</span> <span class="n">s3</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">f</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span> <span class="c1"># Use Element CID below for orientation</span>
                <span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span>
                <span class="n">g0</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">elif</span> <span class="n">f</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]:</span>
                <span class="c1"># 5, 6, 7, f</span>
                <span class="c1">#0:4 4:8 8:12 12:16 16:20 20:24 24:28 28:32 32:36</span>
                <span class="c1">#0   1   2    3     4     5     6     7     8</span>
                <span class="c1">#x1, x2, x3, f2 = unpack(&#39;3f i&#39;, edata[20:36])</span>
                <span class="n">out</span> <span class="o">=</span> <span class="n">struct_obj2</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
                <span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">ga</span><span class="p">,</span> <span class="n">gb</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">x3</span><span class="p">,</span> <span class="n">f2</span><span class="p">,</span> <span class="n">cid</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">ocid</span><span class="p">,</span> <span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">,</span> <span class="n">s3</span> <span class="o">=</span> <span class="n">out</span>

                <span class="k">assert</span> <span class="n">f</span> <span class="o">==</span> <span class="n">f2</span><span class="p">,</span> <span class="s1">&#39;f=</span><span class="si">%s</span><span class="s1"> f2=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">f2</span><span class="p">)</span>
                <span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">x3</span><span class="p">]</span>
                <span class="n">g0</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">elif</span> <span class="n">f</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                <span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span>
                <span class="n">g0</span> <span class="o">=</span> <span class="n">five</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s1">&#39;invalid f value...f=</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">f</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">cid</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="n">cid</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">data_in</span> <span class="o">=</span> <span class="p">[[</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">ga</span><span class="p">,</span> <span class="n">gb</span><span class="p">,</span> <span class="n">cid</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">ocid</span><span class="p">,</span> <span class="n">si</span><span class="p">],</span> <span class="n">x</span><span class="p">,</span> <span class="n">g0</span><span class="p">]</span>

            <span class="n">elem</span> <span class="o">=</span> <span class="n">CBUSH</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">data_in</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_op2_element</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="n">ntotal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;CBUSH&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_read_cbush1d</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CBUSH1D(5608,56,218) - the marker for Record 14</span>

<span class="sd">        1 EID  I Element identification number</span>
<span class="sd">        2 PID  I Property identification number</span>
<span class="sd">        3 G(2) I Grid point identification numbers</span>
<span class="sd">        5 CID  I Coordinate system identification number</span>
<span class="sd">        6 UNDEF(3) none</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ntotal</span> <span class="o">=</span> <span class="mi">32</span> <span class="o">*</span>  <span class="bp">self</span><span class="o">.</span><span class="n">factor</span> <span class="c1"># 4*8</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="n">ntotal</span>
        <span class="n">struct_6i</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="n">mapfmt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;8i&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span> <span class="o">+</span> <span class="n">ntotal</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">struct_6i</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CBUSH1D=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
            <span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">g1</span><span class="p">,</span> <span class="n">g2</span><span class="p">,</span> <span class="n">cid</span><span class="p">,</span> <span class="n">unused_a</span><span class="p">,</span> <span class="n">unused_b</span><span class="p">,</span> <span class="n">unused_c</span><span class="p">)</span> <span class="o">=</span> <span class="n">out</span>
            <span class="k">if</span> <span class="n">cid</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="n">cid</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_cbush1d</span><span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="p">[</span><span class="n">g1</span><span class="p">,</span> <span class="n">g2</span><span class="p">],</span> <span class="n">cid</span><span class="o">=</span><span class="n">cid</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="n">ntotal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;CBUSH1D&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_read_ccone</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CCONE(2315,23,0) - the marker for Record 15</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;skipping CCONE in GEOM2&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;skipping CCONE in GEOM2</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_read_cdamp1</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CDAMP1(201,2,69) - the marker for Record 16</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ntotal</span> <span class="o">=</span> <span class="mi">24</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">factor</span> <span class="c1"># 6*4</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="n">ntotal</span>
        <span class="n">struct_6i</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="n">mapfmt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;6i&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span> <span class="o">+</span> <span class="n">ntotal</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">struct_6i</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CDAMP1=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
            <span class="c1">#(eid, pid, g1, g2, c1, c2) = out</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">CDAMP1</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_op2_element</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="n">ntotal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;CDAMP1&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_read_cdamp2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CDAMP2(301,3,70) - the marker for Record 17</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ntotal</span> <span class="o">=</span> <span class="mi">24</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">factor</span> <span class="c1"># 6*4</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="n">ntotal</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="n">mapfmt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;if4i&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span> <span class="o">+</span> <span class="n">ntotal</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CDAMP2=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
            <span class="c1">#(eid, bdamp, g1, g2, c1, c2) = out</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">CDAMP2</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_op2_element</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="n">ntotal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;CDAMP2&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_read_cdamp3</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CDAMP3(401,4,71) - the marker for Record 18</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">struct_4i</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;4i&#39;</span><span class="p">)</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="mi">16</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span> <span class="o">+</span> <span class="mi">16</span><span class="p">]</span>  <span class="c1"># 4*4</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">struct_4i</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CDAMP3=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
            <span class="c1">#(eid, pid, s1, s2) = out</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">CDAMP3</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_op2_element</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="mi">16</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;CDAMP3&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_read_cdamp4</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CDAMP4(501,5,72) - the marker for Record 19</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;ifii&#39;</span><span class="p">)</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="mi">16</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span> <span class="o">+</span> <span class="mi">16</span><span class="p">]</span>  <span class="c1"># 4*4</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CDAMP4=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
            <span class="c1">#(eid, bdamp, s1, s2) = out</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">CDAMP4</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_op2_element</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="mi">16</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;CDAMP4&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_read_cdamp5</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CDAMP5(10608,106,404) - the marker for Record 20</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;4i&#39;</span><span class="p">)</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="mi">16</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span> <span class="o">+</span> <span class="mi">16</span><span class="p">]</span>  <span class="c1"># 4*4</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CDAMP5=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
            <span class="c1">#(eid, pid, s1, s2) = out</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">CDAMP5</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_op2_element</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="mi">16</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;CDAMP5&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

<span class="c1"># CDUM2</span>
<span class="c1"># CDUM3</span>
<span class="c1"># CDUM4</span>
<span class="c1"># CDUM5</span>
<span class="c1"># CDUM6</span>
<span class="c1"># CDUM7</span>

    <span class="k">def</span> <span class="nf">_read_cdum8</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;skipping CDUM9 in GEOM2&#39;</span><span class="p">)</span>
        <span class="c1">#ints = np.frombuffer(data[n:], dtype=&#39;int32&#39;).copy()</span>
        <span class="c1">#print(&#39;CDUM8&#39;, ints)</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_read_cdum9</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;skipping CDUM9 in GEOM2&#39;</span><span class="p">)</span>
        <span class="c1">#ints = np.frombuffer(data[n:], dtype=&#39;int32&#39;).copy()</span>
        <span class="c1">#print(&#39;CDUM9&#39;, ints)</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_read_celas1</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CELAS1(601,6,73) - the marker for Record 29</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ntotal</span> <span class="o">=</span> <span class="mi">24</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">factor</span>  <span class="c1"># 6*4</span>
        <span class="n">struct_4i</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="n">mapfmt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;6i&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="n">ntotal</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span><span class="o">+</span><span class="n">ntotal</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">struct_4i</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CELAS1=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
            <span class="c1">#(eid, pid, g1, g2, c1, c2) = out</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">CELAS1</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_op2_element</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="n">ntotal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;CELAS1&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_read_celas2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CELAS2(701,7,74) - the marker for Record 30</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">s1</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="n">mapfmt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;if4iff&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span>
        <span class="n">ntotal</span> <span class="o">=</span> <span class="mi">32</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">factor</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="n">ntotal</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span><span class="o">+</span><span class="n">ntotal</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">s1</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CELAS2=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
            <span class="c1">#(eid, k, g1, g2, c1, c2, ge, s) = out</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">CELAS2</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_op2_element</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="n">ntotal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;CELAS2&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_read_celas3</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CELAS3(801,8,75) - the marker for Record 31</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ntotal</span> <span class="o">=</span> <span class="mi">16</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">factor</span>  <span class="c1"># 4*4</span>
        <span class="n">struct_4i</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="n">mapfmt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;4i&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="n">ntotal</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span><span class="o">+</span><span class="n">ntotal</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">struct_4i</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CELAS3=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
            <span class="c1">#(eid, pid, s1, s2) = out</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">CELAS3</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_op2_element</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="n">ntotal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;CELAS3&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_read_celas4</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CELAS4(901,9,76) - the marker for Record 32</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ntotal</span> <span class="o">=</span> <span class="mi">16</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">factor</span>  <span class="c1"># 4*4</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="n">mapfmt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;ifii&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="n">ntotal</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span> <span class="o">+</span> <span class="n">ntotal</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CELAS4=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
            <span class="c1">#(eid, k, s1, s2) = out</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">CELAS4</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_op2_element</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="n">ntotal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;CELAS4&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_read_cfast</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CFAST(9801,98,506) - the marker for Record ???</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;skipping CFAST in GEOM2&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

<span class="c1"># CFASTP</span>

    <span class="k">def</span> <span class="nf">_read_cfluid2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CFLUID2(8515,85,209) - the marker for Record 35</span>

<span class="sd">        1 EID       I Element identification number</span>
<span class="sd">        2 IDF1      I RINGFL point 1 identification number</span>
<span class="sd">        3 IDF2      I RINGFL point 2 identification number</span>
<span class="sd">        4 RHO      RS Mass density</span>
<span class="sd">        5 B        RS Bulk modulus</span>
<span class="sd">        6 HARMINDX  I Harmonic index</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;3i2fi&#39;</span><span class="p">)</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="mi">24</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span> <span class="o">+</span> <span class="mi">24</span><span class="p">]</span>  <span class="c1"># 6*4</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CFLUID2=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
            <span class="n">eid</span><span class="p">,</span> <span class="n">idf1</span><span class="p">,</span> <span class="n">idf2</span><span class="p">,</span> <span class="n">rho</span><span class="p">,</span> <span class="n">bi</span><span class="p">,</span> <span class="n">harmonic</span> <span class="o">=</span> <span class="n">out</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_cfluid2</span><span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="p">[</span><span class="n">idf1</span><span class="p">,</span> <span class="n">idf2</span><span class="p">],</span> <span class="n">rho</span><span class="p">,</span> <span class="n">bi</span><span class="p">,</span> <span class="n">harmonic</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="mi">24</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;CFLUID2&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_read_cfluid3</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CFLUID3(8615,86,210) - the marker for Record 36</span>

<span class="sd">        1 EID       I Element identification number</span>
<span class="sd">        2 IDF1      I RINGFL point 1 identification number</span>
<span class="sd">        3 IDF2      I RINGFL point 2 identification number</span>
<span class="sd">        4 IDF3      I RINGFL point 3 identification number</span>
<span class="sd">        5 RHO      RS Mass density</span>
<span class="sd">        6 B        RS Bulk modulus</span>
<span class="sd">        7 HARMINDX  I Harmonic index</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;4i2fi&#39;</span><span class="p">)</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="mi">28</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span> <span class="o">+</span> <span class="mi">28</span><span class="p">]</span>  <span class="c1"># 7*4</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CFLUID3=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
            <span class="n">eid</span><span class="p">,</span> <span class="n">idf1</span><span class="p">,</span> <span class="n">idf2</span><span class="p">,</span> <span class="n">idf3</span><span class="p">,</span> <span class="n">rho</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">harmonic</span> <span class="o">=</span> <span class="n">out</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_cfluid3</span><span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="p">[</span><span class="n">idf1</span><span class="p">,</span> <span class="n">idf2</span><span class="p">,</span> <span class="n">idf3</span><span class="p">],</span> <span class="n">rho</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">harmonic</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="mi">28</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;CFLUID3&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_read_cfluid4</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CFLUID4(8715,87,211) - the marker for Record 37</span>

<span class="sd">        1 EID       I Element identification number</span>
<span class="sd">        2 IDF1      I RINGFL point 1 identification number</span>
<span class="sd">        3 IDF2      I RINGFL point 2 identification number</span>
<span class="sd">        4 IDF3      I RINGFL point 3 identification number</span>
<span class="sd">        5 IDF4      I RINGFL point 4 identification number</span>
<span class="sd">        6 RHO      RS Mass density</span>
<span class="sd">        7 B        RS Bulk modulus</span>
<span class="sd">        8 HARMINDX  I Harmonic index</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;5i2fi&#39;</span><span class="p">)</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="mi">32</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span> <span class="o">+</span> <span class="mi">32</span><span class="p">]</span>  <span class="c1"># 8*4</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CFLUID4=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
            <span class="n">eid</span><span class="p">,</span> <span class="n">idf1</span><span class="p">,</span> <span class="n">idf2</span><span class="p">,</span> <span class="n">idf3</span><span class="p">,</span> <span class="n">idf4</span><span class="p">,</span> <span class="n">rho</span><span class="p">,</span> <span class="n">bi</span><span class="p">,</span> <span class="n">harmonic</span> <span class="o">=</span> <span class="n">out</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_cfluid4</span><span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="p">[</span><span class="n">idf1</span><span class="p">,</span> <span class="n">idf2</span><span class="p">,</span> <span class="n">idf3</span><span class="p">,</span> <span class="n">idf4</span><span class="p">],</span> <span class="n">rho</span><span class="p">,</span> <span class="n">bi</span><span class="p">,</span> <span class="n">harmonic</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="mi">32</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;CFLUID4&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_read_cint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Word Name Type Description</span>
<span class="sd">        1 EID    I Element identification number</span>
<span class="sd">        2 PID    I Property identification number</span>
<span class="sd">        3 PTELC  I Pointer to element identification number</span>
<span class="sd">        4 NSEG   I Number of segments</span>
<span class="sd">        5 PTSGR  I Pointer to segment displacements</span>
<span class="sd">        6 NBOUND I Number of boundaries</span>
<span class="sd">        7 BID    I Boundary identification number</span>
<span class="sd">        8 NEDGE  I Number of edges</span>
<span class="sd">        9 PTBND  I Pointer to boundary identification number</span>
<span class="sd">        10 PTBGR I Pointer to boundary grid displacements</span>
<span class="sd">        11 PTBED I Pointer to boundary edge displacements</span>
<span class="sd">        12 PTBGL I Pointer to boundary grid Lagrange Multipliers</span>
<span class="sd">        13 PTBEL I Pointer to boundary edge Lagrange Multipliers</span>
<span class="sd">        Words 7 through 13 repeat 6 times</span>
<span class="sd">        14 UNDEF(2 ) none</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;skipping CINT in GEOM2&#39;</span><span class="p">)</span>
        <span class="c1"># C:\NASA\m4\formats\git\examples\move_tpl\ifcq12p.op2</span>
        <span class="c1"># doesn&#39;t seem to be a card, more of a general info on the geometry...</span>
        <span class="c1">#ints = np.frombuffer(data[n:], dtype=self.idtype).copy()</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_read_cgap</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CGAP(1908,19,104) - the marker for Record 39</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ntotal</span> <span class="o">=</span> <span class="mi">36</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">factor</span>  <span class="c1"># 9*4</span>
        <span class="n">s1</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="n">mapfmt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;4i3fii&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span>
        <span class="n">struct_i</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">struct_i</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">4</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">struct_q</span>
        <span class="n">f2a</span> <span class="o">=</span> <span class="mi">28</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">factor</span>
        <span class="n">f2b</span> <span class="o">=</span> <span class="mi">32</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">factor</span>
        <span class="n">g0a</span> <span class="o">=</span> <span class="mi">16</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">factor</span>
        <span class="n">g0b</span> <span class="o">=</span> <span class="mi">20</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">factor</span>

        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="n">ntotal</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span> <span class="o">+</span> <span class="n">ntotal</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">s1</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">ga</span><span class="p">,</span> <span class="n">gb</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">x3</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">cid</span><span class="p">)</span> <span class="o">=</span> <span class="n">out</span>  <span class="c1"># f=0,1</span>
            <span class="n">g0</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">f2</span><span class="p">,</span> <span class="o">=</span> <span class="n">struct_i</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">[</span><span class="n">f2a</span><span class="p">:</span><span class="n">f2b</span><span class="p">])</span>
            <span class="k">assert</span> <span class="n">f</span> <span class="o">==</span> <span class="n">f2</span><span class="p">,</span> <span class="s1">&#39;f=</span><span class="si">%s</span><span class="s1"> f2=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">f2</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">f</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                <span class="n">g0</span><span class="p">,</span> <span class="o">=</span> <span class="n">struct_i</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">[</span><span class="n">g0a</span><span class="p">:</span><span class="n">g0b</span><span class="p">])</span>
                <span class="n">x1</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="n">x2</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="n">x3</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">assert</span> <span class="n">f</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;CGAP - f=</span><span class="si">%r</span><span class="s1"> f2=</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">f2</span><span class="p">)</span>
                <span class="k">assert</span> <span class="n">f2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;CGAP - f=</span><span class="si">%r</span><span class="s1"> f2=</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">f2</span><span class="p">)</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CGAP eid=</span><span class="si">%s</span><span class="s1"> pid=</span><span class="si">%s</span><span class="s1"> gab0=[</span><span class="si">%s</span><span class="s1">,</span><span class="si">%s</span><span class="s1">,</span><span class="si">%s</span><span class="s1">] x123=[</span><span class="si">%s</span><span class="s1">,</span><span class="si">%s</span><span class="s1">,</span><span class="si">%s</span><span class="s1">] &#39;</span>
                                            <span class="s1">&#39;cid=</span><span class="si">%s</span><span class="s1"> f=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">ga</span><span class="p">,</span> <span class="n">gb</span><span class="p">,</span>
                                                               <span class="n">g0</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">x3</span><span class="p">,</span> <span class="n">cid</span><span class="p">,</span> <span class="n">f</span><span class="p">))</span>
                <span class="c1">#raise NotImplementedError(&#39;CGAP - f=%r f2=%r&#39; % (f, f2))</span>
            <span class="c1">#print(&#39;  CGAP eid=%s pid=%s gab0=[%s,%s,%s] x123=[%s,%s,%s] &#39;</span>
                  <span class="c1">#&#39;cid=%s f=%s\n&#39; % (eid, pid, ga, gb,</span>
                                     <span class="c1">#g0, x1, x2, x3, cid, f))</span>

            <span class="n">data_in</span> <span class="o">=</span> <span class="p">[</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">ga</span><span class="p">,</span> <span class="n">gb</span><span class="p">,</span> <span class="n">g0</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">x3</span><span class="p">,</span> <span class="n">cid</span><span class="p">]</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">CGAP</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">data_in</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_op2_element</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="n">ntotal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;CGAP&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_read_chacab</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;CHACAB(8100,81,381)&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_run_20nodes</span><span class="p">(</span><span class="n">CHACAB</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_read_chacbr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;CHACAB(8100,81,381)&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_run_20nodes</span><span class="p">(</span><span class="n">CHACBR</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_run_20nodes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">:</span> <span class="n">CHEXA20</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        common method for</span>
<span class="sd">        Word Name Type Description</span>
<span class="sd">        1 EID I Element identification number</span>
<span class="sd">        2 PID I Property identification number</span>
<span class="sd">        3 G(20) I Grid point identification numbers of connection points</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="mi">88</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;22i&#39;</span><span class="p">)</span>
        <span class="c1">#if self.is_debug_file:</span>
            <span class="c1">#self.binary_debug.write(&#39;ndata=%s\n&#39; % (nelements * 44))</span>

        <span class="c1">#if self.is_debug_file:</span>
            <span class="c1">#self.binary_debug.write(f&#39;  {element.type}=(eid, pid, [n1, n2]&#39;)</span>

        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span> <span class="o">+</span> <span class="mi">88</span><span class="p">]</span>  <span class="c1"># 22*4</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="o">*</span><span class="n">nodes</span><span class="p">)</span> <span class="o">=</span> <span class="n">out</span>
            <span class="n">nodes</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">nodes</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  </span><span class="si">{</span><span class="n">element</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s1">=(</span><span class="si">{</span><span class="n">eid</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">pid</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">nodes</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

            <span class="n">elem</span> <span class="o">=</span> <span class="n">element</span><span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">nodes</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_op2_element</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="mi">88</span>
        <span class="c1">#if stop:</span>
            <span class="c1">#raise RuntimeError(&#39;theta is too large...make the quad wrong&#39;)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="n">elem</span><span class="o">.</span><span class="n">type</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

<span class="c1"># CHACBR</span>

    <span class="k">def</span> <span class="nf">_read_chbdye</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CHBDYE(8308,83,405) - the marker for Record ???</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ntotal</span> <span class="o">=</span> <span class="mi">28</span>  <span class="c1"># 7*4</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;7i&#39;</span><span class="p">)</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="n">ntotal</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span><span class="o">+</span><span class="mi">28</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">eid2</span><span class="p">,</span> <span class="n">side</span><span class="p">,</span> <span class="n">iviewf</span><span class="p">,</span> <span class="n">iviewb</span><span class="p">,</span> <span class="n">radmidf</span><span class="p">,</span> <span class="n">radmidb</span><span class="p">)</span> <span class="o">=</span> <span class="n">out</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CHBDYE=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
            <span class="c1">#self.log.debug(&#39;  CHBDYE=%s&#39; % str(out))</span>
            <span class="n">data_in</span> <span class="o">=</span> <span class="p">[</span><span class="n">eid</span><span class="p">,</span> <span class="n">eid2</span><span class="p">,</span> <span class="n">side</span><span class="p">,</span> <span class="n">iviewf</span><span class="p">,</span> <span class="n">iviewb</span><span class="p">,</span> <span class="n">radmidf</span><span class="p">,</span> <span class="n">radmidb</span><span class="p">]</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">CHBDYE</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">data_in</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_add_thermal_element_object</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="n">ntotal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;CHBDYE&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_read_chbdyg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CHBDYG(10808,108,406) - the marker for Record 43</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ntotal</span> <span class="o">=</span> <span class="mi">64</span>  <span class="c1"># 16*4</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;16i&#39;</span><span class="p">)</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="n">ntotal</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span><span class="o">+</span><span class="mi">64</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">unused_blank</span><span class="p">,</span> <span class="n">Type</span><span class="p">,</span> <span class="n">iviewf</span><span class="p">,</span> <span class="n">iviewb</span><span class="p">,</span> <span class="n">radmidf</span><span class="p">,</span> <span class="n">radmidb</span><span class="p">,</span> <span class="n">unused_blank2</span><span class="p">,</span>
             <span class="n">g1</span><span class="p">,</span> <span class="n">g2</span><span class="p">,</span> <span class="n">g3</span><span class="p">,</span> <span class="n">g4</span><span class="p">,</span> <span class="n">g5</span><span class="p">,</span> <span class="n">g6</span><span class="p">,</span> <span class="n">g7</span><span class="p">,</span> <span class="n">g8</span><span class="p">)</span> <span class="o">=</span> <span class="n">out</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CHBDYG=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
            <span class="c1">#self.log.debug(&#39;  CHBDYG=%s&#39; % str(out))</span>
            <span class="n">data_in</span> <span class="o">=</span> <span class="p">[</span><span class="n">eid</span><span class="p">,</span> <span class="n">Type</span><span class="p">,</span> <span class="n">iviewf</span><span class="p">,</span> <span class="n">iviewb</span><span class="p">,</span> <span class="n">radmidf</span><span class="p">,</span> <span class="n">radmidb</span><span class="p">,</span>
                       <span class="n">g1</span><span class="p">,</span> <span class="n">g2</span><span class="p">,</span> <span class="n">g3</span><span class="p">,</span> <span class="n">g4</span><span class="p">,</span> <span class="n">g5</span><span class="p">,</span> <span class="n">g6</span><span class="p">,</span> <span class="n">g7</span><span class="p">,</span> <span class="n">g8</span><span class="p">]</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">CHBDYG</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">data_in</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_add_thermal_element_object</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="n">ntotal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;CHBDYG&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_read_chbdyp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CHBDYP(10908,109,407)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ntotal</span> <span class="o">=</span> <span class="mi">60</span>  <span class="c1"># 16*4</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;12i 3f&#39;</span><span class="p">)</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="n">ntotal</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span><span class="o">+</span><span class="mi">60</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">Type</span><span class="p">,</span> <span class="n">iviewf</span><span class="p">,</span> <span class="n">iviewb</span><span class="p">,</span> <span class="n">g1</span><span class="p">,</span> <span class="n">g2</span><span class="p">,</span> <span class="n">g0</span><span class="p">,</span> <span class="n">radmidf</span><span class="p">,</span> <span class="n">radmidb</span><span class="p">,</span>
             <span class="n">dislin</span><span class="p">,</span> <span class="n">ce</span><span class="p">,</span> <span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">,</span> <span class="n">e3</span><span class="p">)</span> <span class="o">=</span> <span class="n">out</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CHBDYP=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
            <span class="c1">#self.log.debug(&#39;  CHBDYP=%s&#39; % str(out))</span>
            <span class="n">data_in</span> <span class="o">=</span> <span class="p">[</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">Type</span><span class="p">,</span> <span class="n">iviewf</span><span class="p">,</span> <span class="n">iviewb</span><span class="p">,</span> <span class="n">g1</span><span class="p">,</span> <span class="n">g2</span><span class="p">,</span> <span class="n">g0</span><span class="p">,</span> <span class="n">radmidf</span><span class="p">,</span> <span class="n">radmidb</span><span class="p">,</span>
                       <span class="n">dislin</span><span class="p">,</span> <span class="n">ce</span><span class="p">,</span> <span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">,</span> <span class="n">e3</span><span class="p">]</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">CHBDYP</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">data_in</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_add_thermal_element_object_safe</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="n">ntotal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;CHBDYP&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_add_thermal_element_object_safe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">obj</span><span class="o">.</span><span class="n">eid</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">elements</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">reject_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">write_card</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">16</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_add_element_object</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
        <span class="c1">#raise RuntimeError(&#39;this should be overwritten by the BDF class&#39;)</span>

    <span class="k">def</span> <span class="nf">_read_chexa</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CHEXA(7308,73,253) - the marker for Record 45</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="n">mapfmt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;22i&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span>
        <span class="n">ntotal</span> <span class="o">=</span> <span class="mi">88</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">factor</span>  <span class="c1"># 22*4</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="n">ntotal</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span><span class="o">+</span><span class="n">ntotal</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CHEXA=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
            <span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">g1</span><span class="p">,</span> <span class="n">g2</span><span class="p">,</span> <span class="n">g3</span><span class="p">,</span> <span class="n">g4</span><span class="p">,</span> <span class="n">g5</span><span class="p">,</span> <span class="n">g6</span><span class="p">,</span> <span class="n">g7</span><span class="p">,</span> <span class="n">g8</span><span class="p">,</span> <span class="n">g9</span><span class="p">,</span> <span class="n">g10</span><span class="p">,</span>
             <span class="n">g11</span><span class="p">,</span> <span class="n">g12</span><span class="p">,</span> <span class="n">g13</span><span class="p">,</span> <span class="n">g14</span><span class="p">,</span> <span class="n">g15</span><span class="p">,</span> <span class="n">g16</span><span class="p">,</span> <span class="n">g17</span><span class="p">,</span> <span class="n">g18</span><span class="p">,</span> <span class="n">g19</span><span class="p">,</span> <span class="n">g20</span><span class="p">)</span> <span class="o">=</span> <span class="n">out</span>

            <span class="n">data_in</span> <span class="o">=</span> <span class="p">[</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">g1</span><span class="p">,</span> <span class="n">g2</span><span class="p">,</span> <span class="n">g3</span><span class="p">,</span> <span class="n">g4</span><span class="p">,</span> <span class="n">g5</span><span class="p">,</span> <span class="n">g6</span><span class="p">,</span> <span class="n">g7</span><span class="p">,</span> <span class="n">g8</span><span class="p">,</span> <span class="p">]</span>
            <span class="n">big_nodes</span> <span class="o">=</span> <span class="p">[</span><span class="n">g9</span><span class="p">,</span> <span class="n">g10</span><span class="p">,</span> <span class="n">g11</span><span class="p">,</span> <span class="n">g12</span><span class="p">,</span> <span class="n">g13</span><span class="p">,</span> <span class="n">g14</span><span class="p">,</span> <span class="n">g15</span><span class="p">,</span> <span class="n">g16</span><span class="p">,</span>
                         <span class="n">g17</span><span class="p">,</span> <span class="n">g18</span><span class="p">,</span> <span class="n">g19</span><span class="p">,</span> <span class="n">g20</span><span class="p">]</span>
            <span class="k">if</span> <span class="nb">sum</span><span class="p">(</span><span class="n">big_nodes</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">elem</span> <span class="o">=</span> <span class="n">CHEXA20</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">data_in</span> <span class="o">+</span> <span class="n">big_nodes</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">elem</span> <span class="o">=</span> <span class="n">CHEXA8</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">data_in</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_op2_element</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="n">ntotal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;CHEXA&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

<span class="c1"># CHEXA20F</span>
<span class="c1"># CHEXAFD</span>
<span class="c1"># CHEXAL</span>
<span class="c1"># CHEXP</span>
    <span class="c1">#def _read_chexp(self, data: bytes, n: int) -&gt; int:</span>
        <span class="c1">#&quot;&quot;&quot;</span>
        <span class="c1">#CHEXP(12001,120,9011) - the marker for Record 50</span>
        <span class="c1">#&quot;&quot;&quot;</span>
        <span class="c1">#self.log.info(&#39;skipping CHEXP in GEOM2&#39;)</span>
        <span class="c1">#if self.is_debug_file:</span>
            <span class="c1">#self.binary_debug.write(&#39;skipping CHEXP in GEOM2\n&#39;)</span>
        <span class="c1">#return len(data)</span>

    <span class="k">def</span> <span class="nf">_read_chexpr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CHEXPR(7409,74,9991) - the marker for Record 48</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_chexa</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_read_cmass1</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CMASS1(1001,10,65) - the marker for Record 51</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ntotal</span> <span class="o">=</span>  <span class="mi">24</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">factor</span>  <span class="c1"># 6*4</span>
        <span class="n">struct_6i</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="n">mapfmt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;6i&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="n">ntotal</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span> <span class="o">+</span> <span class="n">ntotal</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">struct_6i</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CMASS1=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
            <span class="c1">#(eid, pid, g1, g2, c1, c2) = out</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">CMASS1</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_add_mass_object</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="n">ntotal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;CMASS1&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_read_cmass2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CMASS2(1101,11,66) - the marker for Record 52</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ntotal</span> <span class="o">=</span> <span class="mi">24</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">factor</span>  <span class="c1"># 6*4</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="n">mapfmt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;if4i&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="n">ntotal</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span> <span class="o">+</span> <span class="n">ntotal</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CMASS2=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
            <span class="c1">#(eid, m, g1, g2, c1, c2) = out</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">CMASS2</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_add_mass_object</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="n">ntotal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;CMASS2&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_read_cmass3</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CMASS3(1201,12,67) - the marker for Record 53</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">struct_4i</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;4i&#39;</span><span class="p">)</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="mi">16</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span> <span class="o">+</span> <span class="mi">16</span><span class="p">]</span>  <span class="c1"># 4*4</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">struct_4i</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CMASS3=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
            <span class="c1">#(eid, pid, s1, s2) = out</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">CMASS3</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_add_mass_object</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="mi">16</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;CMASS3&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_read_cmass4</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CMASS4(1301,13,68) - the marker for Record 54</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="mi">16</span>
        <span class="n">struct_if2i</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;ifii&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span> <span class="o">+</span> <span class="mi">16</span><span class="p">]</span>  <span class="c1"># 4*4</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">struct_if2i</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="c1">#(eid, m,s 1, s2) = out</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">CMASS4</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_add_mass_object</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="mi">16</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;CMASS4&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_read_cmfree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CMFREE(2508,25,0) - the marker for Record 55</span>

<span class="sd">        1 EID  I Element identification number</span>
<span class="sd">        2   S  I</span>
<span class="sd">        3  S2  I</span>
<span class="sd">        4   Y RS</span>
<span class="sd">        5   N  I</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">12</span><span class="p">,</span> <span class="n">n</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="mi">20</span>
        <span class="k">assert</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">%</span> <span class="mi">20</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="n">struct_3ifi</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;3ifi&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span> <span class="o">+</span> <span class="mi">20</span><span class="p">]</span>  <span class="c1"># 5*4</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">struct_3ifi</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="n">eid</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">s2</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">ncm</span> <span class="o">=</span> <span class="n">out</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_cmfree</span><span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">s2</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">ncm</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="mi">20</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;CMFREE&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_read_conm1</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CONM1(1401,14,63) - the marker for Record 56</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ntotal</span> <span class="o">=</span> <span class="mi">96</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">factor</span>   <span class="c1"># 24*4</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="n">mapfmt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;3i21f&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="n">ntotal</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span> <span class="o">+</span> <span class="n">ntotal</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CONM1=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
            <span class="c1">#(eid, g, cid, m1, m2a, m2b, m3a, m3b, m3c, m4a, m4b, m4c, m4d,</span>
             <span class="c1">#m5a, m5b, m5c, m5d, m5e, m6a, m6b, m6c, m6d, m6e, m6f) = out</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">CONM1</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_add_mass_object</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="n">ntotal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;CONM1&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_read_conm2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CONM2(1501,15,64) - the marker for Record 57</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ntotal</span> <span class="o">=</span> <span class="mi">52</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">factor</span>  <span class="c1"># 13*4</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="n">mapfmt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;3i10f&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="n">ntotal</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span><span class="o">+</span><span class="n">ntotal</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CONM2=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
            <span class="c1">#(eid, g, cid, m, x1, x2, x3, i1, i2a, i2b, i3a, i3b, i3c) = out</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">CONM2</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_add_mass_object</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="n">ntotal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;CONM2&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_read_conrod</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CONROD(1601,16,47) - the marker for Record 58</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ntotal</span> <span class="o">=</span> <span class="mi">32</span> <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">factor</span>  <span class="c1"># 8*4</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="n">mapfmt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;4i4f&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="n">ntotal</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span><span class="o">+</span><span class="n">ntotal</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CONROD=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
            <span class="c1">#(eid, n1, n2, mid, a, j, c, nsm) = out</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">CONROD</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_op2_element</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="n">ntotal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;CONROD&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_read_conv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The CONV card is different between MSC and NX Nastran.</span>
<span class="sd">        The MSC version is 8 fields longer.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">n0</span> <span class="o">=</span> <span class="n">n</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_nx</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">n</span><span class="p">,</span> <span class="n">elements</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_conv_nx</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
            <span class="k">except</span> <span class="p">(</span><span class="ne">AssertionError</span><span class="p">,</span> <span class="n">MixedVersionCard</span><span class="p">):</span>
                <span class="n">n</span><span class="p">,</span> <span class="n">elements</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_conv_msc</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">n0</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">n</span><span class="p">,</span> <span class="n">elements</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_conv_msc</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
            <span class="k">except</span> <span class="p">(</span><span class="ne">AssertionError</span><span class="p">,</span> <span class="n">MixedVersionCard</span><span class="p">):</span>
                <span class="n">n</span><span class="p">,</span> <span class="n">elements</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_conv_nx</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">n0</span><span class="p">)</span>

        <span class="n">nelements</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">elements</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">elements</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_add_thermal_bc_object</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span> <span class="n">elem</span><span class="o">.</span><span class="n">eid</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;CONV&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_read_split_card</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">read1</span><span class="p">,</span> <span class="n">read2</span><span class="p">,</span> <span class="n">card_name</span><span class="p">,</span> <span class="n">add_method</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        generalization of multi read methods for different</span>
<span class="sd">        versions of MSC Nastran</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">n0</span> <span class="o">=</span> <span class="n">n</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">n</span><span class="p">,</span> <span class="n">elements</span> <span class="o">=</span> <span class="n">read1</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">AssertionError</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;AssertionError...try again reading </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">card_name</span><span class="p">)</span>
            <span class="n">n</span><span class="p">,</span> <span class="n">elements</span> <span class="o">=</span> <span class="n">read2</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">n0</span><span class="p">)</span>

        <span class="n">nelements</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">elements</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">elements</span><span class="p">:</span>
            <span class="n">add_method</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="n">card_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_read_dual_card</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">nx_read</span><span class="p">,</span> <span class="n">msc_read</span><span class="p">,</span> <span class="n">card_name</span><span class="p">,</span> <span class="n">add_method</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        generalization of multi read methods (MSC, NX)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">n0</span> <span class="o">=</span> <span class="n">n</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_nx</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">n</span><span class="p">,</span> <span class="n">elements</span> <span class="o">=</span> <span class="n">nx_read</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
            <span class="k">except</span> <span class="p">(</span><span class="ne">AssertionError</span><span class="p">,</span> <span class="n">MixedVersionCard</span><span class="p">):</span>
                <span class="c1">#raise</span>
                <span class="n">n</span><span class="p">,</span> <span class="n">elements</span> <span class="o">=</span> <span class="n">msc_read</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">n0</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">n</span><span class="p">,</span> <span class="n">elements</span> <span class="o">=</span> <span class="n">msc_read</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
            <span class="k">except</span> <span class="p">(</span><span class="ne">AssertionError</span><span class="p">,</span> <span class="n">MixedVersionCard</span><span class="p">):</span>
                <span class="c1">#raise</span>
                <span class="n">n</span><span class="p">,</span> <span class="n">elements</span> <span class="o">=</span> <span class="n">nx_read</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">n0</span><span class="p">)</span>

        <span class="n">nelements</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">elements</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">n</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">elements</span><span class="p">:</span>
            <span class="n">add_method</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="n">card_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_read_conv_nx</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CONV(12701,127,408) - the marker for Record 59</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ntotal</span> <span class="o">=</span> <span class="mi">48</span>  <span class="c1"># 12*4</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;4i 8i&#39;</span><span class="p">)</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="n">ntotal</span>
        <span class="n">elements</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span><span class="o">+</span><span class="n">ntotal</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CONV=</span><span class="si">%s</span><span class="s1">; len=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">out</span><span class="p">)))</span>
            <span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pcon_id</span><span class="p">,</span> <span class="n">flmnd</span><span class="p">,</span> <span class="n">cntrlnd</span><span class="p">,</span>
             <span class="n">ta1</span><span class="p">,</span> <span class="n">ta2</span><span class="p">,</span> <span class="n">ta3</span><span class="p">,</span> <span class="n">ta4</span><span class="p">,</span> <span class="n">ta5</span><span class="p">,</span> <span class="n">ta6</span><span class="p">,</span> <span class="n">ta7</span><span class="p">,</span> <span class="n">ta8</span><span class="p">)</span> <span class="o">=</span> <span class="n">out</span>
            <span class="k">assert</span> <span class="n">eid</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="n">out</span>
            <span class="c1">#assert eid &gt; 0, out</span>

            <span class="c1">#ta = [ta1, ta2, ta3, ta5, ta6, ta7, ta8]</span>
            <span class="n">weights</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="mi">8</span>
            <span class="n">data_in</span> <span class="o">=</span> <span class="p">[</span><span class="n">eid</span><span class="p">,</span> <span class="n">pcon_id</span><span class="p">,</span> <span class="n">flmnd</span><span class="p">,</span> <span class="n">cntrlnd</span><span class="p">,</span>
                       <span class="p">[</span><span class="n">ta1</span><span class="p">,</span> <span class="n">ta2</span><span class="p">,</span> <span class="n">ta3</span><span class="p">,</span> <span class="n">ta4</span><span class="p">,</span> <span class="n">ta5</span><span class="p">,</span> <span class="n">ta6</span><span class="p">,</span> <span class="n">ta7</span><span class="p">,</span> <span class="n">ta8</span><span class="p">],</span>
                       <span class="n">weights</span><span class="p">]</span>

            <span class="n">elem</span> <span class="o">=</span> <span class="n">CONV</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">data_in</span><span class="p">)</span>
            <span class="n">elements</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="n">ntotal</span>
        <span class="k">return</span> <span class="n">n</span><span class="p">,</span> <span class="n">elements</span>

    <span class="k">def</span> <span class="nf">_read_conv_msc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CONV(12701,127,408) - the marker for Record 60</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ntotal</span> <span class="o">=</span> <span class="mi">80</span>  <span class="c1"># 20*4</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;12i 8f&#39;</span><span class="p">)</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="n">ntotal</span>
        <span class="n">elements</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span><span class="o">+</span><span class="mi">80</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CONV=</span><span class="si">%s</span><span class="s1">; len=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">out</span><span class="p">)))</span>
            <span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pcon_id</span><span class="p">,</span> <span class="n">flmnd</span><span class="p">,</span> <span class="n">cntrlnd</span><span class="p">,</span>
             <span class="c1"># TODO: why is ta4 and wt4 unused?</span>
             <span class="n">ta1</span><span class="p">,</span> <span class="n">ta2</span><span class="p">,</span> <span class="n">ta3</span><span class="p">,</span> <span class="n">unused_ta4</span><span class="p">,</span> <span class="n">ta5</span><span class="p">,</span> <span class="n">ta6</span><span class="p">,</span> <span class="n">ta7</span><span class="p">,</span> <span class="n">ta8</span><span class="p">,</span>
             <span class="n">wt1</span><span class="p">,</span> <span class="n">wt2</span><span class="p">,</span> <span class="n">wt3</span><span class="p">,</span> <span class="n">unused_wt4</span><span class="p">,</span> <span class="n">wt5</span><span class="p">,</span> <span class="n">wt6</span><span class="p">,</span> <span class="n">wt7</span><span class="p">,</span> <span class="n">wt8</span><span class="p">)</span> <span class="o">=</span> <span class="n">out</span>
            <span class="k">assert</span> <span class="n">eid</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="n">out</span>
            <span class="n">data_in</span> <span class="o">=</span> <span class="p">[</span><span class="n">eid</span><span class="p">,</span> <span class="n">pcon_id</span><span class="p">,</span> <span class="n">flmnd</span><span class="p">,</span> <span class="n">cntrlnd</span><span class="p">,</span>
                       <span class="p">[</span><span class="n">ta1</span><span class="p">,</span> <span class="n">ta2</span><span class="p">,</span> <span class="n">ta3</span><span class="p">,</span> <span class="n">ta5</span><span class="p">,</span> <span class="n">ta6</span><span class="p">,</span> <span class="n">ta7</span><span class="p">,</span> <span class="n">ta8</span><span class="p">],</span>
                       <span class="p">[</span><span class="n">wt1</span><span class="p">,</span> <span class="n">wt2</span><span class="p">,</span> <span class="n">wt3</span><span class="p">,</span> <span class="n">wt5</span><span class="p">,</span> <span class="n">wt6</span><span class="p">,</span> <span class="n">wt7</span><span class="p">,</span> <span class="n">wt8</span><span class="p">]]</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">CONV</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">data_in</span><span class="p">)</span>
            <span class="n">elements</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="n">ntotal</span>
        <span class="k">return</span> <span class="n">n</span><span class="p">,</span> <span class="n">elements</span>

    <span class="k">def</span> <span class="nf">_read_convm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CONVM(8908,89,422) - the marker for Record 60</span>

<span class="sd">        MSC</span>
<span class="sd">        1 EID I Element identification number</span>
<span class="sd">        2 PCONID I Convection property identification number</span>
<span class="sd">        3 FLMND I Point for film convection fluid property temperature</span>
<span class="sd">        4 CNTMDOT I Control point used for controlling mass flow.</span>
<span class="sd">        5 TA I Ambient points used for convection</span>
<span class="sd">        Word 5 repeats 2 times</span>

<span class="sd">        NX</span>
<span class="sd">        1 EID I Element identification number</span>
<span class="sd">        2 PCONID I Convection property identification number</span>
<span class="sd">        3 FLMND I Point for film convection fluid property temperature</span>
<span class="sd">        4 CNTMDOT I Control point used for controlling mass flow.</span>
<span class="sd">        5 TA I Ambient points used for convection</span>
<span class="sd">        Word 5 repeats 2 times</span>

<span class="sd">        [110, 200, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        111, 200, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        112, 200, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        113, 200, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        114, 200, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        115, 200, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        116, 200, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        117, 200, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        118, 200, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        119, 200, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        130, 200, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        131, 200, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        132, 200, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        133, 200, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        134, 200, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        135, 200, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        136, 200, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        137, 200, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        138, 200, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        139, 200, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        150, 200, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        151, 200, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        152, 200, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        153, 200, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        154, 200, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        155, 200, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        156, 200, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        157, 200, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        158, 200, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        159, 200, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        170, 200, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        171, 200, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        172, 200, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        173, 200, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        174, 200, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        175, 200, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        176, 200, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        177, 200, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        178, 200, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        179, 200, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        190, 200, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        191, 200, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        192, 200, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        193, 200, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        194, 200, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        195, 200, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        196, 200, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        197, 200, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        198, 200, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        199, 200, 0, 50000, 99999, 99999, 1.0]</span>

<span class="sd">        [8908, 89, 422,</span>
<span class="sd">        101, 101, 0, 50000, 99999, 99999, 1.0,</span>
<span class="sd">        102, 102, 0, 50001, 99999, 99999, 1.0,</span>
<span class="sd">        103, 102, 0, 50001, 99999, 99999, 1.0,</span>
<span class="sd">        104, 104, 0, 50002, 99999, 99999, 1.0,</span>
<span class="sd">        105, 105, 0, 50003, 99999, 99999, 1.0,</span>
<span class="sd">        CONVM EID PCONID FLMND CNTMDOT TA1 TA2</span>
<span class="sd">        106, 105, 0,     50003, 99999, 99999, 1.0)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1">#C:\Users\sdoyle\Dropbox\move_tpl\ht15330.op2</span>
        <span class="n">ntotal6</span> <span class="o">=</span> <span class="mi">24</span>  <span class="c1"># 6*4</span>
        <span class="n">ntotal7</span> <span class="o">=</span> <span class="mi">28</span>  <span class="c1"># 7*4</span>
        <span class="n">ndata</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="n">nelements6</span> <span class="o">=</span> <span class="p">(</span><span class="n">ndata</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="n">ntotal6</span>
        <span class="n">nelements7</span> <span class="o">=</span> <span class="p">(</span><span class="n">ndata</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="n">ntotal7</span>

        <span class="n">is_six</span> <span class="o">=</span> <span class="p">(</span><span class="n">ndata</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">%</span> <span class="n">ntotal6</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="n">is_seven</span> <span class="o">=</span> <span class="p">(</span><span class="n">ndata</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">%</span> <span class="n">ntotal7</span> <span class="o">==</span> <span class="mi">0</span>

        <span class="k">if</span> <span class="n">is_six</span> <span class="ow">and</span> <span class="n">is_seven</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s1">&#39;CONVM: assuming 6 fields&#39;</span><span class="p">)</span>
                <span class="n">elements</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_convm6</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">nelements6</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;CONVM: 6 fields&#39;</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">RuntimeError</span><span class="p">:</span>  <span class="c1"># eid &lt; 0</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s1">&#39;CONVM: assuming 7 fields&#39;</span><span class="p">)</span>
                <span class="n">elements</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_convm7</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">nelements7</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;CONVM: 7 fields&#39;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">is_six</span><span class="p">:</span>
            <span class="n">elements</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_convm6</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">nelements6</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">is_seven</span><span class="p">:</span>
            <span class="n">elements</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_convm7</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">nelements7</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>  <span class="c1"># pragma: no cover</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s1">&#39;CONVM is_six=</span><span class="si">%s</span><span class="s1"> is_seven=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">is_six</span><span class="p">,</span> <span class="n">is_seven</span><span class="p">))</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">elements</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">elements</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_add_thermal_bc_object</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">element</span><span class="o">.</span><span class="n">eid</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;CONVM&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

<div class="viewcode-block" id="GEOM2.read_convm6"><a class="viewcode-back" href="../../../../../reference/op2/tables/geom/pyNastran.op2.tables.geom.geom2.html#pyNastran.op2.tables.geom.geom2.GEOM2.read_convm6">[docs]</a>    <span class="k">def</span> <span class="nf">read_convm6</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">nelements</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
        <span class="n">structi</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;6i&#39;</span><span class="p">)</span>
        <span class="n">elements</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span><span class="o">+</span><span class="mi">24</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">structi</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CONVM=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
            <span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pcon_id</span><span class="p">,</span> <span class="n">flmnd</span><span class="p">,</span> <span class="n">cntrlnd</span><span class="p">,</span> <span class="n">ta1</span><span class="p">,</span> <span class="n">ta2</span><span class="p">)</span> <span class="o">=</span> <span class="n">out</span>
            <span class="c1">#if eid &lt;= 0:</span>
            <span class="k">if</span> <span class="n">eid</span> <span class="o">&lt;=</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">pcon_id</span> <span class="o">&lt;=</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">flmnd</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">cntrlnd</span> <span class="o">&lt;=</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">ta1</span> <span class="o">&lt;=</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">ta2</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">show_data</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s1">&#39;if&#39;</span><span class="p">)</span>
                <span class="c1"># TODO: I&#39;m not sure that this really has 6 fields...</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;eid=</span><span class="si">{</span><span class="n">eid</span><span class="si">}</span><span class="s1"> pconid=</span><span class="si">{</span><span class="n">pcon_id</span><span class="si">}</span><span class="s1"> flmnd=</span><span class="si">{</span><span class="n">flmnd</span><span class="si">}</span><span class="s1"> cntrlnd=</span><span class="si">{</span><span class="n">cntrlnd</span><span class="si">}</span><span class="s1"> ta1=</span><span class="si">{</span><span class="n">ta1</span><span class="si">}</span><span class="s1"> ta2=</span><span class="si">{</span><span class="n">ta2</span><span class="si">}</span><span class="s1"> &lt; 0&#39;</span><span class="p">)</span>
            <span class="n">mdot</span> <span class="o">=</span> <span class="mf">0.</span>
            <span class="n">data_in</span> <span class="o">=</span> <span class="p">[</span><span class="n">eid</span><span class="p">,</span> <span class="n">pcon_id</span><span class="p">,</span> <span class="n">flmnd</span><span class="p">,</span> <span class="n">cntrlnd</span><span class="p">,</span> <span class="n">ta1</span><span class="p">,</span> <span class="n">ta2</span><span class="p">,</span> <span class="n">mdot</span><span class="p">]</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">CONVM</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">data_in</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="mi">24</span>
            <span class="n">elements</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">elements</span><span class="p">,</span> <span class="n">n</span></div>

<div class="viewcode-block" id="GEOM2.read_convm7"><a class="viewcode-back" href="../../../../../reference/op2/tables/geom/pyNastran.op2.tables.geom.geom2.html#pyNastran.op2.tables.geom.geom2.GEOM2.read_convm7">[docs]</a>    <span class="k">def</span> <span class="nf">read_convm7</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">nelements</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
        <span class="n">structi</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;6if&#39;</span><span class="p">)</span>
        <span class="n">elements</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span><span class="o">+</span><span class="mi">28</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">structi</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CONVM=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
            <span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pcon_id</span><span class="p">,</span> <span class="n">flmnd</span><span class="p">,</span> <span class="n">cntrlnd</span><span class="p">,</span> <span class="n">ta1</span><span class="p">,</span> <span class="n">ta2</span><span class="p">,</span> <span class="n">mdot</span><span class="p">)</span> <span class="o">=</span> <span class="n">out</span>

            <span class="k">if</span> <span class="n">eid</span> <span class="o">&lt;=</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">pcon_id</span> <span class="o">&lt;=</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">flmnd</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">cntrlnd</span> <span class="o">&lt;=</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">ta1</span> <span class="o">&lt;=</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">ta2</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">show_data</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s1">&#39;if&#39;</span><span class="p">)</span>
                <span class="c1"># TODO: I&#39;m not sure that this really has 7 fields...</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;eid=</span><span class="si">{</span><span class="n">eid</span><span class="si">}</span><span class="s1"> pconid=</span><span class="si">{</span><span class="n">pcon_id</span><span class="si">}</span><span class="s1"> flmnd=</span><span class="si">{</span><span class="n">flmnd</span><span class="si">}</span><span class="s1"> &#39;</span>
                                   <span class="sa">f</span><span class="s1">&#39;cntrlnd=</span><span class="si">{</span><span class="n">cntrlnd</span><span class="si">}</span><span class="s1"> ta1=</span><span class="si">{</span><span class="n">ta1</span><span class="si">}</span><span class="s1"> ta2=</span><span class="si">{</span><span class="n">ta2</span><span class="si">}</span><span class="s1"> &lt; 0&#39;</span><span class="p">)</span>
            <span class="n">data_in</span> <span class="o">=</span> <span class="p">[</span><span class="n">eid</span><span class="p">,</span> <span class="n">pcon_id</span><span class="p">,</span> <span class="n">flmnd</span><span class="p">,</span> <span class="n">cntrlnd</span><span class="p">,</span> <span class="n">ta1</span><span class="p">,</span> <span class="n">ta2</span><span class="p">,</span> <span class="n">mdot</span><span class="p">]</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">CONVM</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">data_in</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="mi">28</span>
            <span class="n">elements</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">elements</span><span class="p">,</span> <span class="n">n</span></div>

    <span class="k">def</span> <span class="nf">_read_cpyram</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CPYRAM(17200,172,1000) - the marker for Record ???</span>

<span class="sd">        Specific to NX Nastran</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">to_nx</span><span class="p">()</span>
        <span class="n">ntotal</span> <span class="o">=</span> <span class="mi">64</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">factor</span>  <span class="c1"># 16*4</span>
        <span class="n">struct_16i</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="n">mapfmt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;16i&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="n">ntotal</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span> <span class="o">+</span> <span class="n">ntotal</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">struct_16i</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CPENTA=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
            <span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">g1</span><span class="p">,</span> <span class="n">g2</span><span class="p">,</span> <span class="n">g3</span><span class="p">,</span> <span class="n">g4</span><span class="p">,</span> <span class="n">g5</span><span class="p">,</span> <span class="n">g6</span><span class="p">,</span> <span class="n">g7</span><span class="p">,</span> <span class="n">g8</span><span class="p">,</span> <span class="n">g9</span><span class="p">,</span> <span class="n">g10</span><span class="p">,</span>
             <span class="n">g11</span><span class="p">,</span> <span class="n">g12</span><span class="p">,</span> <span class="n">g13</span><span class="p">,</span> <span class="n">_g14</span><span class="p">)</span> <span class="o">=</span> <span class="n">out</span>

            <span class="n">data_in</span> <span class="o">=</span> <span class="p">[</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">g1</span><span class="p">,</span> <span class="n">g2</span><span class="p">,</span> <span class="n">g3</span><span class="p">,</span> <span class="n">g4</span><span class="p">,</span> <span class="n">g5</span><span class="p">]</span>
            <span class="n">big_nodes</span> <span class="o">=</span> <span class="p">[</span><span class="n">g6</span><span class="p">,</span> <span class="n">g7</span><span class="p">,</span> <span class="n">g8</span><span class="p">,</span> <span class="n">g9</span><span class="p">,</span> <span class="n">g10</span><span class="p">,</span> <span class="n">g11</span><span class="p">,</span> <span class="n">g12</span><span class="p">,</span> <span class="n">g13</span><span class="p">]</span>
            <span class="k">if</span> <span class="nb">sum</span><span class="p">(</span><span class="n">big_nodes</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">elem</span> <span class="o">=</span> <span class="n">CPYRAM13</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">data_in</span> <span class="o">+</span> <span class="n">big_nodes</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">elem</span> <span class="o">=</span> <span class="n">CPYRAM5</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">data_in</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_op2_element</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="n">ntotal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;CPYRAM&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">to_nx</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">n</span>

<span class="c1"># CPENP</span>

    <span class="k">def</span> <span class="nf">_read_cpenta</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CPENTA(4108,41,280)      - the marker for Record 63</span>
<span class="sd">        CPENPR(7509,75,9992)     - the marker for Record 64</span>
<span class="sd">        CPENT15F(16500,165,9999) - the marker for Record 65</span>
<span class="sd">        CPENT6FD(16000,160,9999) - the marker for Record 66</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ntotal</span> <span class="o">=</span> <span class="mi">68</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">factor</span>  <span class="c1"># 17*4</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="n">mapfmt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;17i&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="n">ntotal</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span> <span class="o">+</span> <span class="n">ntotal</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CPENTA=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
            <span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">g1</span><span class="p">,</span> <span class="n">g2</span><span class="p">,</span> <span class="n">g3</span><span class="p">,</span> <span class="n">g4</span><span class="p">,</span> <span class="n">g5</span><span class="p">,</span> <span class="n">g6</span><span class="p">,</span> <span class="n">g7</span><span class="p">,</span> <span class="n">g8</span><span class="p">,</span> <span class="n">g9</span><span class="p">,</span> <span class="n">g10</span><span class="p">,</span>
             <span class="n">g11</span><span class="p">,</span> <span class="n">g12</span><span class="p">,</span> <span class="n">g13</span><span class="p">,</span> <span class="n">g14</span><span class="p">,</span> <span class="n">g15</span><span class="p">)</span> <span class="o">=</span> <span class="n">out</span>

            <span class="n">data_in</span> <span class="o">=</span> <span class="p">[</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">g1</span><span class="p">,</span> <span class="n">g2</span><span class="p">,</span> <span class="n">g3</span><span class="p">,</span> <span class="n">g4</span><span class="p">,</span> <span class="n">g5</span><span class="p">,</span> <span class="n">g6</span><span class="p">]</span>
            <span class="n">big_nodes</span> <span class="o">=</span> <span class="p">[</span><span class="n">g7</span><span class="p">,</span> <span class="n">g8</span><span class="p">,</span> <span class="n">g9</span><span class="p">,</span> <span class="n">g10</span><span class="p">,</span> <span class="n">g11</span><span class="p">,</span> <span class="n">g12</span><span class="p">,</span> <span class="n">g13</span><span class="p">,</span> <span class="n">g14</span><span class="p">,</span> <span class="n">g15</span><span class="p">]</span>
            <span class="k">if</span> <span class="nb">sum</span><span class="p">(</span><span class="n">big_nodes</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">elem</span> <span class="o">=</span> <span class="n">CPENTA15</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">data_in</span> <span class="o">+</span> <span class="n">big_nodes</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">elem</span> <span class="o">=</span> <span class="n">CPENTA6</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">data_in</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_op2_element</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="n">ntotal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;CPENTA&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

<span class="c1"># CQDX4FD</span>
<span class="c1"># CQDX9FD - same as CQDX4FD</span>

    <span class="k">def</span> <span class="nf">_read_cquad</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;CQUAD(9108,91,507)  - the marker for Record 69&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_run_cquad</span><span class="p">(</span><span class="n">CQUAD</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_read_cquad4</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CQUAD4(2958,51,177)    - the marker for Record 70</span>
<span class="sd">        CQUAD4(13900,139,9989) - the marker for Record 71</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">nx_method</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_run_cquad4_nx</span><span class="p">,</span> <span class="n">CQUAD4</span><span class="p">)</span>
        <span class="n">msc_method</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_run_cquad4_msc</span><span class="p">,</span> <span class="n">CQUAD4</span><span class="p">)</span>
        <span class="n">n</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_dual_card</span><span class="p">(</span>
            <span class="n">data</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span>
            <span class="n">nx_method</span><span class="p">,</span> <span class="n">msc_method</span><span class="p">,</span>
            <span class="s1">&#39;CQUAD4&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">add_op2_element</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_read_vutria3</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_run_3nodes</span><span class="p">(</span><span class="n">CTRIA3</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_read_vuquad4</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;VUQUAD4(11201,112,9940)&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_run_4nodes</span><span class="p">(</span><span class="n">CQUAD4</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_run_cquad</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">CQUAD</span><span class="p">,</span> <span class="n">CQUADX</span><span class="p">],</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;common method for CQUAD, CQUADX&quot;&quot;&quot;</span>
        <span class="n">ntotal</span> <span class="o">=</span> <span class="mi">44</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">factor</span>  <span class="c1"># 11*4</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="n">mapfmt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;11i&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="n">ntotal</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;ndata=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">nelements</span> <span class="o">*</span> <span class="n">ntotal</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span> <span class="o">+</span> <span class="n">ntotal</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n5</span><span class="p">,</span> <span class="n">n6</span><span class="p">,</span> <span class="n">n7</span><span class="p">,</span> <span class="n">n8</span><span class="p">,</span> <span class="n">n9</span><span class="p">)</span> <span class="o">=</span> <span class="n">out</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  </span><span class="si">%s</span><span class="s1">=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">element</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">)))</span>
            <span class="c1">#print(&#39;CQUAD eid=%s pid=%s n1=%s n2=%s n3=%s n4=%s n5=%s n6=%s n7=%s n8=%s&#39; % (</span>
                <span class="c1">#eid, pid, n1, n2, n3, n4, n5, n6, n7, n8))</span>
            <span class="n">datai</span> <span class="o">=</span> <span class="p">[</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n5</span><span class="p">,</span> <span class="n">n6</span><span class="p">,</span> <span class="n">n7</span><span class="p">,</span> <span class="n">n8</span><span class="p">,</span> <span class="n">n9</span><span class="p">]</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">element</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">datai</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_op2_element</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="n">ntotal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="n">element</span><span class="o">.</span><span class="n">type</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_run_2nodes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;common method for VUBEAM&quot;&quot;&quot;</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="mi">16</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;4i&#39;</span><span class="p">)</span>
        <span class="c1">#if self.is_debug_file:</span>
            <span class="c1">#self.binary_debug.write(&#39;ndata=%s\n&#39; % (nelements * 44))</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  </span><span class="si">{</span><span class="n">element</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s1">=(eid, pid, [n1, n2]&#39;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span> <span class="o">+</span> <span class="mi">16</span><span class="p">]</span>  <span class="c1"># 4*4</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">)</span> <span class="o">=</span> <span class="n">out</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s1">&#39;  </span><span class="si">{</span><span class="n">element</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s1">=(</span><span class="si">{</span><span class="n">eid</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">pid</span><span class="si">}</span><span class="s1">, [</span><span class="si">{</span><span class="n">n1</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">n2</span><span class="si">}</span><span class="s1">]&#39;</span><span class="p">)</span>

            <span class="n">nids</span> <span class="o">=</span> <span class="p">[</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">]</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">element</span><span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">nids</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_op2_element</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="mi">16</span>
        <span class="c1">#if stop:</span>
            <span class="c1">#raise RuntimeError(&#39;theta is too large...make the quad wrong&#39;)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="n">elem</span><span class="o">.</span><span class="n">type</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_run_3nodes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">:</span> <span class="n">CTRIA3</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;common method for CTRIA3, VUTRIA3&quot;&quot;&quot;</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="mi">20</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;5i&#39;</span><span class="p">)</span>
        <span class="c1">#if self.is_debug_file:</span>
            <span class="c1">#self.binary_debug.write(&#39;ndata=%s\n&#39; % (nelements * 44))</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  </span><span class="si">{</span><span class="n">element</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s1">=(eid, pid, [n1, n2, n3]&#39;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span> <span class="o">+</span> <span class="mi">20</span><span class="p">]</span>  <span class="c1"># 5*4</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">)</span> <span class="o">=</span> <span class="n">out</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s1">&#39;  </span><span class="si">{</span><span class="n">element</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s1">=(</span><span class="si">{</span><span class="n">eid</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">pid</span><span class="si">}</span><span class="s1">, [</span><span class="si">{</span><span class="n">n1</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">n2</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">n3</span><span class="si">}</span><span class="s1">]&#39;</span><span class="p">)</span>

            <span class="n">nids</span> <span class="o">=</span> <span class="p">[</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">]</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">element</span><span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">nids</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_op2_element</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="mi">20</span>
        <span class="c1">#if stop:</span>
            <span class="c1">#raise RuntimeError(&#39;theta is too large...make the quad wrong&#39;)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="n">element</span><span class="o">.</span><span class="n">type</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_run_4nodes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">CQUAD4</span><span class="p">,</span> <span class="n">CAABSF</span><span class="p">],</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;common method for CQUAD4, CQUADR&quot;&quot;&quot;</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="mi">24</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;6i&#39;</span><span class="p">)</span>
        <span class="c1">#if self.is_debug_file:</span>
            <span class="c1">#self.binary_debug.write(&#39;ndata=%s\n&#39; % (nelements * 44))</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  </span><span class="si">{</span><span class="n">element</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s1">=(eid, pid, [n1, n2, n3, n4]&#39;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span> <span class="o">+</span> <span class="mi">24</span><span class="p">]</span>  <span class="c1"># 6*4</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">)</span> <span class="o">=</span> <span class="n">out</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s1">&#39;  </span><span class="si">{</span><span class="n">element</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s1">=(</span><span class="si">{</span><span class="n">eid</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">pid</span><span class="si">}</span><span class="s1">, [</span><span class="si">{</span><span class="n">n1</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">n2</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">n3</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">n4</span><span class="si">}</span><span class="s1">]&#39;</span><span class="p">)</span>

            <span class="n">nids</span> <span class="o">=</span> <span class="p">[</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">]</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">element</span><span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">nids</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_op2_element</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="mi">24</span>
        <span class="c1">#if stop:</span>
            <span class="c1">#raise RuntimeError(&#39;theta is too large...make the quad wrong&#39;)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="n">element</span><span class="o">.</span><span class="n">type</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_run_cquad4_msc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">:</span> <span class="n">CQUAD4</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        buggy MSC 2018.2 version</span>

<span class="sd">        #TODO is this right?  What&#39;s with the intermediate zeros?</span>
<span class="sd">        data = (</span>
<span class="sd">            2958, 51, 177,</span>
<span class="sd">            1, 1, 1, 2, 73, 72, 0, 0, 0, 0, -1.0, -1.0, -1.0, -1.0, -1,</span>
<span class="sd">            2, 1, 2, 3, 74, 73, 0, 0, 0, 0, -1.0, -1.0, -1.0, -1.0, -1,</span>
<span class="sd">            3, 1, 3, 4, 75, 74, 0, 0, 0, 0, -1.0, -1.0, -1.0, -1.0, -1,</span>
<span class="sd">        )</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">elements</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">ntotal</span> <span class="o">=</span> <span class="mi">60</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">factor</span>  <span class="c1"># 15*4</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="n">ntotal</span>
        <span class="n">leftover</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">%</span> <span class="n">ntotal</span>
        <span class="k">assert</span> <span class="n">leftover</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="n">leftover</span>

        <span class="c1">#  TODO: not sure...</span>
        <span class="c1">#   6i is correct</span>
        <span class="c1">#   3f-i zeros as float/int???</span>
        <span class="c1">#   4f correct</span>
        <span class="c1">#   i correct</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="n">mapfmt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;6i 4f 3fi i&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span>
        <span class="c1">#if self.is_debug_file:</span>
            <span class="c1">#self.binary_debug.write(&#39;ndata=%s\n&#39; % (nelements * 44))</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  </span><span class="si">{</span><span class="n">element</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s1">=(eid, pid, [n1, n2, n3, n4], theta, zoffs, &#39;</span>
                                    <span class="s1">&#39;unused_blank, [tflag, t1, t2, t3, t4]); theta_mcid</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span> <span class="o">+</span> <span class="n">ntotal</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="c1"># theta, zoffs, blank, tflag, t1, t2, t3, t4</span>
            <span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span>
             <span class="n">theta</span><span class="p">,</span> <span class="n">zoffs</span><span class="p">,</span> <span class="n">blank</span><span class="p">,</span> <span class="n">tflag</span><span class="p">,</span>
             <span class="n">t1</span><span class="p">,</span> <span class="n">t2</span><span class="p">,</span> <span class="n">t3</span><span class="p">,</span> <span class="n">t4</span><span class="p">,</span>
             <span class="n">minus1</span><span class="p">)</span> <span class="o">=</span> <span class="n">out</span>
            <span class="n">minus1</span> <span class="o">=</span> <span class="n">out</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

            <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;eid=</span><span class="si">%s</span><span class="s1"> pid=</span><span class="si">%s</span><span class="s1"> nodes=</span><span class="si">%s</span><span class="s1"> &#39;</span>
                   <span class="s1">&#39;theta=</span><span class="si">%s</span><span class="s1"> zoffs=</span><span class="si">%s</span><span class="s1"> &#39;</span>
                   <span class="s1">&#39;blank=</span><span class="si">%s</span><span class="s1"> tflag=</span><span class="si">%s</span><span class="s1"> &#39;</span>
                   <span class="s1">&#39;t1-t4=</span><span class="si">%s</span><span class="s1"> minus1=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span>
                       <span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="p">(</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">),</span>
                       <span class="n">theta</span><span class="p">,</span> <span class="n">zoffs</span><span class="p">,</span>
                       <span class="n">blank</span><span class="p">,</span> <span class="n">tflag</span><span class="p">,</span>
                       <span class="p">(</span><span class="n">t1</span><span class="p">,</span> <span class="n">t2</span><span class="p">,</span> <span class="n">t3</span><span class="p">,</span> <span class="n">t4</span><span class="p">),</span> <span class="n">minus1</span><span class="p">))</span>

            <span class="k">assert</span> <span class="n">theta</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="n">msg</span>
            <span class="k">assert</span> <span class="n">zoffs</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="n">msg</span>
            <span class="k">assert</span> <span class="n">blank</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="n">msg</span>
            <span class="k">assert</span> <span class="n">tflag</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="n">msg</span>

            <span class="n">theta_mcid</span> <span class="o">=</span> <span class="n">convert_theta_to_mcid</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s1">&#39;  </span><span class="si">{</span><span class="n">element</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s1">=(</span><span class="si">{</span><span class="n">eid</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">pid</span><span class="si">}</span><span class="s1">, [</span><span class="si">{</span><span class="n">n1</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">n2</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">n3</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">n4</span><span class="si">}</span><span class="s1">], &#39;</span>
                    <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">theta</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">zoffs</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">blank</span><span class="si">}</span><span class="s1">, [</span><span class="si">{</span><span class="n">tflag</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">t1</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">t2</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">t3</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">t4</span><span class="si">}</span><span class="s1">)]; </span><span class="si">{</span><span class="n">theta_mcid</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="k">assert</span> <span class="n">minus1</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">minus1</span>

            <span class="n">data_init</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">theta_mcid</span><span class="p">,</span> <span class="n">zoffs</span><span class="p">,</span>
                <span class="n">tflag</span><span class="p">,</span> <span class="n">t1</span><span class="p">,</span> <span class="n">t2</span><span class="p">,</span> <span class="n">t3</span><span class="p">,</span> <span class="n">t4</span><span class="p">]</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">element</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">data_init</span><span class="p">)</span>
            <span class="n">elements</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="n">ntotal</span>
        <span class="c1">#if stop:</span>
            <span class="c1">#raise RuntimeError(&#39;theta is too large...make the quad wrong&#39;)</span>
        <span class="c1">#self.card_count[element.type] = nelements</span>
        <span class="k">return</span> <span class="n">n</span><span class="p">,</span> <span class="n">elements</span>

    <span class="k">def</span> <span class="nf">_run_cquad4_nx</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">CQUAD4</span><span class="p">,</span> <span class="n">CQUADR</span><span class="p">],</span>
                       <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        common method for CQUAD4, CQUADR</span>

<span class="sd">        data = (</span>
<span class="sd">            2958, 51, 177,</span>
<span class="sd">            1, 1, 1, 2, 8, 7, 0, 0, 0, 0, -1.0, -1.0, -1.0, -1.0</span>
<span class="sd">            2, 1, 2, 3, 9, 8, 0, 0, 0, 0, -1.0, -1.0, -1.0, -1.0</span>
<span class="sd">            3, 1, 3, 4, 10, 9, 0, 0, 0, 0, -1.0, -1.0, -1.0, -1.0</span>
<span class="sd">        )</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">elements</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">ntotal</span> <span class="o">=</span> <span class="mi">56</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">factor</span>  <span class="c1"># 14*4</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="n">ntotal</span>
        <span class="n">leftover</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">%</span> <span class="n">ntotal</span>
        <span class="k">assert</span> <span class="n">leftover</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="n">leftover</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="n">mapfmt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;6i ff ii 4f&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;ndata=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">nelements</span> <span class="o">*</span> <span class="mi">44</span><span class="p">))</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  </span><span class="si">{</span><span class="n">element</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s1">=(eid, pid, [n1, n2, n3, n4], theta, zoffs, &#39;</span>
                                    <span class="s1">&#39;unused_blank, [tflag, t1, t2, t3, t4]); theta_mcid</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span> <span class="o">+</span> <span class="n">ntotal</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">theta</span><span class="p">,</span> <span class="n">zoffs</span><span class="p">,</span> <span class="n">unused_blank</span><span class="p">,</span> <span class="n">tflag</span><span class="p">,</span>
             <span class="n">t1</span><span class="p">,</span> <span class="n">t2</span><span class="p">,</span> <span class="n">t3</span><span class="p">,</span> <span class="n">t4</span><span class="p">)</span> <span class="o">=</span> <span class="n">out</span>
            <span class="n">theta_mcid</span> <span class="o">=</span> <span class="n">convert_theta_to_mcid</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s1">&#39;  </span><span class="si">{</span><span class="n">element</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s1">=(</span><span class="si">{</span><span class="n">eid</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">pid</span><span class="si">}</span><span class="s1">, [</span><span class="si">{</span><span class="n">n1</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">n2</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">n3</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">n4</span><span class="si">}</span><span class="s1">], &#39;</span>
                    <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">theta</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">zoffs</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">unused_blank</span><span class="si">}</span><span class="s1">, [</span><span class="si">{</span><span class="n">tflag</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">t1</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">t2</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">t3</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">t4</span><span class="si">}</span><span class="s1">)]; </span><span class="si">{</span><span class="n">theta_mcid</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>

            <span class="c1">#print(&#39;eid=%s pid=%s n1=%s n2=%s n3=%s n4=%s theta=%s zoffs=%s &#39;</span>
                  <span class="c1">#&#39;blank=%s tflag=%s t1=%s t2=%s t3=%s t4=%s&#39; % (</span>
                      <span class="c1">#eid, pid, n1, n2, n3, n4, theta, zoffs,</span>
                      <span class="c1">#blank, tflag, t1, t2, t3, t4))</span>

            <span class="n">data_init</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">theta_mcid</span><span class="p">,</span> <span class="n">zoffs</span><span class="p">,</span>
                <span class="n">tflag</span><span class="p">,</span> <span class="n">t1</span><span class="p">,</span> <span class="n">t2</span><span class="p">,</span> <span class="n">t3</span><span class="p">,</span> <span class="n">t4</span><span class="p">]</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">element</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">data_init</span><span class="p">)</span>
            <span class="c1">#self.add_op2_element(elem)</span>
            <span class="n">elements</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="n">ntotal</span>
        <span class="c1">#if stop:</span>
            <span class="c1">#raise RuntimeError(&#39;theta is too large...make the quad wrong&#39;)</span>
        <span class="c1">#self.card_count[element.type] = nelements</span>
        <span class="k">return</span> <span class="n">n</span><span class="p">,</span> <span class="n">elements</span>

<span class="c1"># CQUAD4FD</span>

    <span class="k">def</span> <span class="nf">_read_cquad8</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;common method for reading CQUAD8s&quot;&quot;&quot;</span>
        <span class="n">n</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_split_card</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span>
                                  <span class="bp">self</span><span class="o">.</span><span class="n">_read_cquad8_current</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_cquad8_v2001</span><span class="p">,</span>
                                  <span class="s1">&#39;CQUAD8&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">add_op2_element</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_read_cquad8_current</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CQUAD8(4701,47,326)  - the marker for Record 72</span>
<span class="sd">        .. warning:: inconsistent with dmap manual</span>

<span class="sd">        1 EID     I Element identification number</span>
<span class="sd">        2 PID     I Property identification number</span>
<span class="sd">        3 G(8)    I Grid point identification numbers of</span>
<span class="sd">                    connection points</span>
<span class="sd">        11 T(4)  RS Membrane thickness of element at grid</span>
<span class="sd">                    points</span>
<span class="sd">        15 THETA RS Material property orientation angle or</span>
<span class="sd">                    coordinate system identification number</span>
<span class="sd">        16 ZOFFS RS Offset from the surface of grid points</span>
<span class="sd">                    reference plane</span>
<span class="sd">        17 TFLAG  I Relative thickness flag</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ntotal</span> <span class="o">=</span> <span class="mi">68</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">factor</span> <span class="c1"># 17*4</span>
        <span class="n">ndatai</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="n">ndatai</span> <span class="o">//</span> <span class="n">ntotal</span>
        <span class="k">assert</span> <span class="n">ndatai</span> <span class="o">%</span> <span class="n">ntotal</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="n">mapfmt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;10i 6f i&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span>
        <span class="n">elements</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span> <span class="o">+</span> <span class="n">ntotal</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CQUAD8=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
            <span class="c1">#(eid, pid, n1, n2, n3, n4, n5, n6, n7, n8, t1, t2,</span>
             <span class="c1">#t3, t4, theta, zoffs, tflag) = out</span>
            <span class="n">tflag</span> <span class="o">=</span> <span class="n">out</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="c1">#self.log.info(&#39;cquad8 tflag = %s&#39; % tflag)</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">tflag</span><span class="p">,</span> <span class="nb">int</span><span class="p">),</span> <span class="n">tflag</span>
            <span class="k">assert</span> <span class="n">tflag</span> <span class="ow">in</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">tflag</span>
            <span class="c1">#print(&#39;eid=%s pid=%s n1=%s n2=%s n3=%s n4=%s theta=%s zoffs=%s &#39;</span>
                  <span class="c1">#&#39;tflag=%s t1=%s t2=%s t3=%s t4=%s&#39; % (</span>
                      <span class="c1">#eid, pid, n1, n2, n3, n4, theta, zoffs,</span>
                      <span class="c1">#tflag, t1, t2, t3, t4))</span>
            <span class="c1">#data_init = [eid,pid,n1,n2,n3,n4,theta,zoffs,tflag,t1,t2,t3,t4]</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">CQUAD8</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>
            <span class="n">elements</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="n">ntotal</span>
        <span class="k">return</span> <span class="n">n</span><span class="p">,</span> <span class="n">elements</span>

    <span class="k">def</span> <span class="nf">_read_cquad8_v2001</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CQUAD8(4701,47,326)  - the marker for Record 72</span>

<span class="sd">        1 EID     I Element identification number</span>
<span class="sd">        2 PID     I Property identification number</span>
<span class="sd">        3 G(8)    I Grid point identification numbers of</span>
<span class="sd">                    connection points</span>
<span class="sd">        11 T(4)  RS Membrane thickness of element at grid</span>
<span class="sd">                    points</span>
<span class="sd">        15 THETA RS Material property orientation angle or</span>
<span class="sd">                    coordinate system identification number</span>
<span class="sd">        16 ZOFFS RS Offset from the surface of grid points</span>
<span class="sd">                    reference plane</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ntotal</span> <span class="o">=</span> <span class="mi">64</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">factor</span>  <span class="c1"># 16*4</span>
        <span class="n">ndatai</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="n">ndatai</span> <span class="o">//</span> <span class="n">ntotal</span>
        <span class="k">assert</span> <span class="n">ndatai</span> <span class="o">%</span> <span class="n">ntotal</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="n">mapfmt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;10i 6f&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span>
        <span class="n">elements</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span> <span class="o">+</span> <span class="n">ntotal</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CQUAD8=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
            <span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n5</span><span class="p">,</span> <span class="n">n6</span><span class="p">,</span> <span class="n">n7</span><span class="p">,</span> <span class="n">n8</span><span class="p">,</span> <span class="n">t1</span><span class="p">,</span> <span class="n">t2</span><span class="p">,</span>
             <span class="n">t3</span><span class="p">,</span> <span class="n">t4</span><span class="p">,</span> <span class="n">theta</span><span class="p">,</span> <span class="n">zoffs</span><span class="p">)</span> <span class="o">=</span> <span class="n">out</span>
            <span class="n">tflag</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">out</span> <span class="o">=</span> <span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n5</span><span class="p">,</span> <span class="n">n6</span><span class="p">,</span> <span class="n">n7</span><span class="p">,</span> <span class="n">n8</span><span class="p">,</span> <span class="n">t1</span><span class="p">,</span> <span class="n">t2</span><span class="p">,</span>
                   <span class="n">t3</span><span class="p">,</span> <span class="n">t4</span><span class="p">,</span> <span class="n">theta</span><span class="p">,</span> <span class="n">zoffs</span><span class="p">,</span> <span class="n">tflag</span><span class="p">)</span>
            <span class="c1">#print(&#39;eid=%s pid=%s n1=%s n2=%s n3=%s n4=%s theta=%s zoffs=%s &#39;</span>
                  <span class="c1">#&#39;tflag=%s t1=%s t2=%s t3=%s t4=%s&#39; % (</span>
                      <span class="c1">#eid, pid, n1, n2, n3, n4, theta, zoffs, tflag, t1, t2, t3, t4))</span>
            <span class="c1">#data_init = [eid,pid,n1,n2,n3,n4,theta,zoffs,tflag,t1,t2,t3,t4]</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">CQUAD8</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>
            <span class="n">elements</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_op2_element</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="n">ntotal</span>
        <span class="k">return</span> <span class="n">n</span><span class="p">,</span> <span class="n">elements</span>

<span class="c1"># CQUAD9FD</span>
<span class="c1"># CQUADP</span>

    <span class="k">def</span> <span class="nf">_read_cquadr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;CQUADR(8009,80,367)  - the marker for Record 75&quot;&quot;&quot;</span>
        <span class="n">nx_method</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_run_cquad4_nx</span><span class="p">,</span> <span class="n">CQUADR</span><span class="p">)</span>
        <span class="n">msc_method</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_run_cquad4_msc</span><span class="p">,</span> <span class="n">CQUADR</span><span class="p">)</span>
        <span class="n">n</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_dual_card</span><span class="p">(</span>
            <span class="n">data</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span>
            <span class="n">nx_method</span><span class="p">,</span> <span class="n">msc_method</span><span class="p">,</span>
            <span class="s1">&#39;CQUADR&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">add_op2_element</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_read_cquadx</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;CQUADX(9008,90,508)  - the marker for Record 76&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_run_cquad</span><span class="p">(</span><span class="n">CQUADX</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_read_crbar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="c1"># C:\NASA\m4\formats\git\examples\move_tpl\nrgd20c.op2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;skipping RBAR in GEOM2&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_read_crbe1</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="c1"># C:\NASA\m4\formats\git\examples\move_tpl\nrgd406a.op2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;skipping RBE1 in GEOM2&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_read_crbe3</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="c1"># C:\NASA\m4\formats\git\examples\move_tpl\ngd720a.op2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;skipping RBE3 in GEOM2&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_read_crjoint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Word Name Type Description</span>
<span class="sd">        1 EID   I Element identification number</span>
<span class="sd">        2 GA    I Grid point A identification number</span>
<span class="sd">        3 GB    I Grid point B identification number</span>
<span class="sd">        4 LMID1 I Lagrange multiplier identification number</span>
<span class="sd">        5 NDOFS I Number of DOF for Lagrange multiplier</span>
<span class="sd">        6 CB    I Component numbers of dependent DOFs at end B</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># no rjoint...</span>
        <span class="c1"># C:\NASA\m4\formats\git\examples\move_tpl\ngd720a.op2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;skipping RJOINT in GEOM2&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_read_crod</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CROD(3001,30,48)    - the marker for Record 81</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ntotal</span> <span class="o">=</span> <span class="mi">16</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">factor</span> <span class="c1"># 4*4</span>
        <span class="n">struct_4i</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="n">mapfmt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;4i&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="n">ntotal</span>
        <span class="c1">#is_long_ids = False</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span> <span class="o">+</span> <span class="n">ntotal</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">struct_4i</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CROD=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
            <span class="c1">#(eid, pid, n1, n2) = out</span>
            <span class="c1">#if n1 &gt; 100000000 or n2 &gt; 100000000:</span>
                <span class="c1">#is_long_ids = True</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">CROD</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_op2_element</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="n">ntotal</span>
        <span class="c1">#self._is_long_ids = is_long_ids</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;CROD&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_read_crrod</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Word Name Type Description</span>
<span class="sd">        1 EID    I Element identification number</span>
<span class="sd">        2 GA     I Grid point A identification number</span>
<span class="sd">        3 GB     I Grid point B identification number</span>
<span class="sd">        4 LMID1  I Lagrange multiplier identification number</span>
<span class="sd">        5 CMA    I Component numbers of dependent DOFs at end A</span>
<span class="sd">        6 CMB    I Component numbers of dependent DOFs at end B</span>
<span class="sd">        7 ALPHA RS Thermal expansion cofficient</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">structi</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;6if&#39;</span><span class="p">)</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="mi">28</span>  <span class="c1"># 7*4</span>
        <span class="c1">#is_long_ids = False</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span> <span class="o">+</span> <span class="mi">28</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">structi</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  RROD=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>

            <span class="c1">#print(out)</span>
            <span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">unused_lagrange_multiplier_id</span><span class="p">,</span> <span class="n">cma</span><span class="p">,</span> <span class="n">cmb</span><span class="p">,</span> <span class="n">alpha</span><span class="p">)</span> <span class="o">=</span> <span class="n">out</span>
            <span class="k">assert</span> <span class="n">cma</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">unused_lagrange_multiplier_id</span><span class="p">,</span> <span class="n">cma</span><span class="p">,</span> <span class="n">cmb</span><span class="p">,</span> <span class="n">alpha</span><span class="p">)</span>
            <span class="k">assert</span> <span class="n">cmb</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">unused_lagrange_multiplier_id</span><span class="p">,</span> <span class="n">cma</span><span class="p">,</span> <span class="n">cmb</span><span class="p">,</span> <span class="n">alpha</span><span class="p">)</span>
            <span class="c1">#if n1 &gt; 100000000 or n2 &gt; 100000000:</span>
                <span class="c1">#is_long_ids = True</span>

            <span class="c1">#eid, nids, cma=&#39;&#39;, cmb=&#39;&#39;, alpha=0.0</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">add_rrod</span><span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="p">[</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">],</span> <span class="n">cma</span><span class="o">=</span><span class="n">cma</span><span class="p">,</span> <span class="n">cmb</span><span class="o">=</span><span class="n">cmb</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="n">alpha</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_op2_element</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="mi">28</span>
        <span class="c1">#self._is_long_ids = is_long_ids</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;RROD&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

<span class="c1"># CSEAM</span>

    <span class="k">def</span> <span class="nf">_read_cshear</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CSHEAR(3101,31,61)    - the marker for Record 84</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ntotal</span> <span class="o">=</span> <span class="mi">24</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">factor</span>  <span class="c1"># 6*4</span>
        <span class="n">struct_6i</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="n">mapfmt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;6i&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="n">ntotal</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span> <span class="o">+</span> <span class="n">ntotal</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">struct_6i</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CSHEAR=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
            <span class="c1">#(eid, pid, n1, n2, n3, n4) = out</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">CSHEAR</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_op2_element</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="n">ntotal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;CSHEAR&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

<span class="c1"># CSLOT3</span>
<span class="c1"># CSLOT4</span>

    <span class="k">def</span> <span class="nf">_read_ctetrap</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CTETP(12201,122,9013)    - the marker for Record 87</span>
<span class="sd">        .. todo:: needs work</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;poor reading of CTETRAP in GEOM2&#39;</span><span class="p">)</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="mi">108</span>  <span class="c1"># 27*4</span>
        <span class="n">struct_27i</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;27i&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span><span class="o">+</span><span class="mi">108</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">struct_27i</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CTETP=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>

            <span class="nb">print</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>
            <span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span> <span class="o">=</span> <span class="n">out</span><span class="p">[:</span><span class="mi">6</span><span class="p">]</span>
            <span class="c1">#(eid, pid, n1, n2, n3, n4,</span>
             <span class="c1">#e1, e2, e3, e4, e5, e6, e7, e8, e9, e10, e11, e12,</span>
             <span class="c1">#f1, f2, f3, f4, b1, ee1, ee2, ee3, ee4) = out</span>
            <span class="c1">#print(&quot;out = &quot;,out)</span>
            <span class="c1">#e = [e1, e2, e3, e4, e5, e6, e7, e8, e9, e10, e11, e12]</span>
            <span class="c1">#f = [f1, f2, f3, f4]</span>
            <span class="c1">#ee = [ee1, ee2, ee3, ee4]</span>

            <span class="c1">#print(&quot;e  = &quot;,e)</span>
            <span class="c1">#print(&quot;f  = &quot;,f)</span>
            <span class="c1">#print(&quot;b1  = &quot;,b1)</span>
            <span class="c1">#print(&quot;ee = &quot;,ee)</span>
            <span class="n">data_in</span> <span class="o">=</span> <span class="p">[</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">]</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">CTETRA4</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">data_in</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_op2_element</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="mi">108</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_read_ctetra</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CTETRA(5508,55,217)      - the marker for Record 88</span>
<span class="sd">        CTETPR(7609,76,9993)     - the marker for Record 89</span>
<span class="sd">        CTETR10F(16600,166,9999) - the marker for Record 90</span>
<span class="sd">        CTETR4FD(16100,161,9999) - the marker for Record 91</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ntotal</span> <span class="o">=</span> <span class="mi">48</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">factor</span>  <span class="c1"># 12*4</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="n">mapfmt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;12i&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="n">ntotal</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span> <span class="o">+</span> <span class="n">ntotal</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CTETRA=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
            <span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n5</span><span class="p">,</span> <span class="n">n6</span><span class="p">,</span> <span class="n">n7</span><span class="p">,</span> <span class="n">n8</span><span class="p">,</span> <span class="n">n9</span><span class="p">,</span> <span class="n">n10</span><span class="p">)</span> <span class="o">=</span> <span class="n">out</span>
            <span class="c1">#print(&quot;out = &quot;,out)</span>

            <span class="n">data_in</span> <span class="o">=</span> <span class="p">[</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">]</span>
            <span class="n">big_nodes</span> <span class="o">=</span> <span class="p">[</span><span class="n">n5</span><span class="p">,</span> <span class="n">n6</span><span class="p">,</span> <span class="n">n7</span><span class="p">,</span> <span class="n">n8</span><span class="p">,</span> <span class="n">n9</span><span class="p">,</span> <span class="n">n10</span><span class="p">]</span>
            <span class="k">if</span> <span class="nb">sum</span><span class="p">(</span><span class="n">big_nodes</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">elem</span> <span class="o">=</span> <span class="n">CTETRA10</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">data_in</span> <span class="o">+</span> <span class="n">big_nodes</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">elem</span> <span class="o">=</span> <span class="n">CTETRA4</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">data_in</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_op2_element</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="n">ntotal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;CTETRA&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

<span class="c1"># CTQUAD - 92</span>
<span class="c1"># CTTRIA - 93</span>

    <span class="k">def</span> <span class="nf">_read_ctria3</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CTRIA3(5959,59,282)    - the marker for Record 94</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ntotal</span> <span class="o">=</span> <span class="mi">52</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">factor</span>  <span class="c1"># 13*4</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="n">mapfmt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;5iff3i3f&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span><span class="o">//</span> <span class="n">ntotal</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span><span class="o">+</span><span class="n">ntotal</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="c1">#print(&#39;eid=%s pid=%s n1=%s n2=%s n3=%s theta=%s zoffs=%s &#39;</span>
                  <span class="c1">#&#39;blank1=%s blank2=%s tflag=%s t1=%s t2=%s t3=%s&#39; % (</span>
                      <span class="c1">#eid, pid, n1, n2, n3, theta, zoffs,</span>
                      <span class="c1">#blank1, blank2, tflag, t1, t2, t3))</span>
            <span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">theta</span><span class="p">,</span> <span class="n">zoffs</span><span class="p">,</span> <span class="n">unused_blank1</span><span class="p">,</span>
             <span class="n">unused_blank2</span><span class="p">,</span> <span class="n">tflag</span><span class="p">,</span> <span class="n">t1</span><span class="p">,</span> <span class="n">t2</span><span class="p">,</span> <span class="n">t3</span><span class="p">)</span> <span class="o">=</span> <span class="n">out</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CTRIA3=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>

            <span class="n">theta_mcid</span> <span class="o">=</span> <span class="n">convert_theta_to_mcid</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
            <span class="n">data_in</span> <span class="o">=</span> <span class="p">[</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">theta_mcid</span><span class="p">,</span> <span class="n">zoffs</span><span class="p">,</span> <span class="n">tflag</span><span class="p">,</span> <span class="n">t1</span><span class="p">,</span> <span class="n">t2</span><span class="p">,</span> <span class="n">t3</span><span class="p">]</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">CTRIA3</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">data_in</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_op2_element</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="n">ntotal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;CTRIA3&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>


<span class="c1"># CTRIAFD - 95</span>

    <span class="k">def</span> <span class="nf">_read_ctria6</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        common method for reading CTRIA6</span>

<span class="sd">        CTRIA6(4801,48,327) # MSC 2005 - GEOM201</span>
<span class="sd">        Word Name Type Description</span>
<span class="sd">        1  EID    I Element identification number</span>
<span class="sd">        2  PID    I Property identification number</span>
<span class="sd">        3  G(6)   I Grid point identification numbers of connection points</span>
<span class="sd">        9 THETA  RS Material property orientation angle or coordinate system identification number</span>
<span class="sd">        10 ZOFFS RS Offset from the surface of grid points reference plane</span>
<span class="sd">        11 T(3)  RS Membrane thickness of element at grid points</span>

<span class="sd">        Record 90 -- CTRIA6(4801,48,327) # MSC 2005 - GEOM2</span>
<span class="sd">        CTRIA6(4801,48,327)</span>
<span class="sd">        Word Name Type Description</span>
<span class="sd">        1 EID     I Element identification number</span>
<span class="sd">        2 PID     I Property identification number</span>
<span class="sd">        3 G(6)    I Grid point identification numbers of connection points</span>
<span class="sd">        9 THETA  RS Material property orientation angle or coordinate system identification number</span>
<span class="sd">        10 ZOFFS RS Offset from the surface of grid points reference plane</span>
<span class="sd">        11 T(3)  RS Membrane thickness of element at grid points</span>
<span class="sd">        14 TFLAG  I Relative thickness flag</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">n</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_split_card</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span>
                                  <span class="bp">self</span><span class="o">.</span><span class="n">_read_ctria6_current</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_ctria6_v2001</span><span class="p">,</span>
                                  <span class="s1">&#39;CTRIA6&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">add_op2_element</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_read_ctria3fd</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Word Name Type Description</span>
<span class="sd">        1 EID  I Element identification number</span>
<span class="sd">        2 PID  I Property identification number</span>
<span class="sd">        3 G(6) I Grid point identification numbers of connection points</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;8i&#39;</span><span class="p">)</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="mi">32</span>  <span class="c1"># 8*4</span>
        <span class="k">assert</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">%</span> <span class="mi">32</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="n">elements</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span> <span class="o">+</span> <span class="mi">32</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CTRIA3=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
            <span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n5</span><span class="p">,</span> <span class="n">n6</span><span class="p">)</span> <span class="o">=</span> <span class="n">out</span>
            <span class="k">assert</span> <span class="n">n4</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="n">out</span>
            <span class="k">assert</span> <span class="n">n5</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="n">out</span>
            <span class="k">assert</span> <span class="n">n6</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="n">out</span>
            <span class="n">nids</span> <span class="o">=</span> <span class="p">[</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">]</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">CTRIA3</span><span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">nids</span><span class="p">,</span>
                          <span class="n">theta_mcid</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">zoffset</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">tflag</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                          <span class="n">T1</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">T2</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">T3</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
            <span class="n">elements</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="mi">32</span>

        <span class="n">nelements</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">elements</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">elements</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_op2_element</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;CTRIA6&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_read_ctrix3fd</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Word Name Type Description</span>
<span class="sd">        1 EID  I Element identification number</span>
<span class="sd">        2 PID  I Property identification number</span>
<span class="sd">        3 G(6) I Grid point identification numbers of connection points</span>

<span class="sd">        (331, 111, 331, 332, 333, 0, 0, 0,</span>
<span class="sd">         332, 11, 331, 333, 334, 0, 0, 0)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;8i&#39;</span><span class="p">)</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="mi">32</span>  <span class="c1"># 8*4</span>
        <span class="k">assert</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">%</span> <span class="mi">32</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="n">elements</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span> <span class="o">+</span> <span class="mi">32</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CTRIA6=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
            <span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n5</span><span class="p">,</span> <span class="n">n6</span><span class="p">)</span> <span class="o">=</span> <span class="n">out</span>
            <span class="n">nids</span> <span class="o">=</span> <span class="p">[</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n5</span><span class="p">,</span> <span class="n">n6</span><span class="p">]</span>
            <span class="k">assert</span> <span class="n">n4</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="n">out</span>
            <span class="k">assert</span> <span class="n">n5</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="n">out</span>
            <span class="k">assert</span> <span class="n">n6</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="n">out</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">CTRIAX</span><span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">nids</span><span class="p">,</span> <span class="n">theta_mcid</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
            <span class="n">elements</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="mi">32</span>

        <span class="n">nelements</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">elements</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">elements</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_op2_element</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;CTRIAX&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_read_ctria6fd</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Word Name Type Description</span>
<span class="sd">        1 EID  I Element identification number</span>
<span class="sd">        2 PID  I Property identification number</span>
<span class="sd">        3 G(6) I Grid point identification numbers of connection points</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;8i&#39;</span><span class="p">)</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="mi">32</span>  <span class="c1"># 8*4</span>
        <span class="k">assert</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">%</span> <span class="mi">32</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="n">elements</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span> <span class="o">+</span> <span class="mi">32</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CTRIA6=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
            <span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n5</span><span class="p">,</span> <span class="n">n6</span><span class="p">)</span> <span class="o">=</span> <span class="n">out</span>
            <span class="n">nids</span> <span class="o">=</span> <span class="p">[</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n5</span><span class="p">,</span> <span class="n">n6</span><span class="p">]</span>
            <span class="c1">#out = (eid, pid, n1, n2, n3, n4, n5, n6, theta, zoffs, t1, t2, t3, 0)</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">CTRIA6</span><span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">nids</span><span class="p">,</span>
                          <span class="n">theta_mcid</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">zoffset</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">tflag</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                          <span class="n">T1</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">T2</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">T3</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
            <span class="n">elements</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="mi">32</span>

        <span class="n">nelements</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">elements</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">elements</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_op2_element</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;CTRIA6&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_read_ctria6_current</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CTRIA6(4801,48,327) - the marker for Record 96</span>

<span class="sd">        Record 90 -- CTRIA6(4801,48,327) # MSC 2005 - GEOM2</span>
<span class="sd">        Word Name Type Description</span>
<span class="sd">        1 EID     I Element identification number</span>
<span class="sd">        2 PID     I Property identification number</span>
<span class="sd">        3 G(6)    I Grid point identification numbers of connection points</span>
<span class="sd">        9 THETA  RS Material property orientation angle or coordinate system identification number</span>
<span class="sd">        10 ZOFFS RS Offset from the surface of grid points reference plane</span>
<span class="sd">        11 T(3)  RS Membrane thickness of element at grid points</span>
<span class="sd">        14 TFLAG  I Relative thickness flag</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ntotal</span> <span class="o">=</span> <span class="mi">56</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">factor</span> <span class="c1"># 14*4</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="n">mapfmt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;8i 5f i&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="n">ntotal</span>
        <span class="k">assert</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">%</span> <span class="n">ntotal</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="n">elements</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span> <span class="o">+</span> <span class="n">ntotal</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CTRIA6=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
            <span class="c1">#print(&#39;eid=%s pid=%s n1=%s n2=%s n3=%s theta=%s zoffs=%s &#39;</span>
                  <span class="c1">#&#39;blank1=%s blank2=%s tflag=%s t1=%s t2=%s t3=%s&#39; % (</span>
                      <span class="c1">#eid, pid, n1, n2, n3, theta, zoffs,</span>
                      <span class="c1">#blank1, blank2, tflag, t1, t2, t3))</span>
            <span class="c1">#(eid, pid, n1, n2, n3, n4, n5, n6, theta, zoffs, t1, t2, t3, tflag) = out</span>
            <span class="n">tflag</span> <span class="o">=</span> <span class="n">out</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="c1">#self.log.info(&#39;ctria6 tflag = %s&#39; % tflag)</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">CTRIA6</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_op2_element</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="k">assert</span> <span class="n">tflag</span> <span class="ow">in</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">tflag</span>
            <span class="n">elements</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="n">ntotal</span>
        <span class="k">return</span> <span class="n">n</span><span class="p">,</span> <span class="n">elements</span>

    <span class="k">def</span> <span class="nf">_read_ctria6_v2001</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CTRIA6(4801,48,327) - the marker for Record 96</span>

<span class="sd">        1 EID     I Element identification number</span>
<span class="sd">        2 PID     I Property identification number</span>
<span class="sd">        3 G(6)    I Grid point identification numbers of connection points</span>
<span class="sd">        9 THETA  RS Material property orientation angle or coordinate system identification number</span>
<span class="sd">        10 ZOFFS RS Offset from the surface of grid points reference plane</span>
<span class="sd">        11 T(3)  RS Membrane thickness of element at grid points</span>
<span class="sd">        14 TFLAG  I Relative thickness flag</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;8i 5f&#39;</span><span class="p">)</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="mi">52</span>  <span class="c1"># 13*4</span>
        <span class="k">assert</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">%</span> <span class="mi">52</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="n">elements</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span> <span class="o">+</span> <span class="mi">52</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CTRIA6=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
            <span class="c1">#print(&#39;eid=%s pid=%s n1=%s n2=%s n3=%s theta=%s zoffs=%s &#39;</span>
                  <span class="c1">#&#39;blank1=%s blank2=%s tflag=%s t1=%s t2=%s t3=%s&#39; % (</span>
                      <span class="c1">#eid, pid, n1, n2, n3, theta, zoffs,</span>
                      <span class="c1">#blank1, blank2, tflag, t1, t2, t3))</span>
            <span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n5</span><span class="p">,</span> <span class="n">n6</span><span class="p">,</span> <span class="n">theta</span><span class="p">,</span> <span class="n">zoffs</span><span class="p">,</span> <span class="n">t1</span><span class="p">,</span> <span class="n">t2</span><span class="p">,</span> <span class="n">t3</span><span class="p">)</span> <span class="o">=</span> <span class="n">out</span>
            <span class="n">out</span> <span class="o">=</span> <span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n5</span><span class="p">,</span> <span class="n">n6</span><span class="p">,</span> <span class="n">theta</span><span class="p">,</span> <span class="n">zoffs</span><span class="p">,</span> <span class="n">t1</span><span class="p">,</span> <span class="n">t2</span><span class="p">,</span> <span class="n">t3</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">CTRIA6</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>
            <span class="n">elements</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="mi">52</span>
        <span class="k">return</span> <span class="n">n</span><span class="p">,</span> <span class="n">elements</span>

<span class="c1"># CTRIA6FD</span>
<span class="c1"># CTRIAP</span>

    <span class="k">def</span> <span class="nf">_read_ctriar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CTRIAR(9200,92,385)    - the marker for Record 99</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ntotal</span> <span class="o">=</span> <span class="mi">52</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">factor</span>  <span class="c1"># 13*4</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="n">mapfmt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;5iff3i3f&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span><span class="o">//</span> <span class="n">ntotal</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span><span class="o">+</span><span class="n">ntotal</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="c1">#print(&#39;eid=%s pid=%s n1=%s n2=%s n3=%s theta=%s zoffs=%s &#39;</span>
                  <span class="c1">#&#39;blank1=%s blank2=%s tflag=%s t1=%s t2=%s t3=%s&#39; % (</span>
                      <span class="c1">#eid, pid, n1, n2, n3, theta, zoffs,</span>
                      <span class="c1">#blank1, blank2, tflag, t1, t2, t3))</span>
            <span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">theta</span><span class="p">,</span> <span class="n">zoffs</span><span class="p">,</span> <span class="n">unused_blank1</span><span class="p">,</span>
             <span class="n">unused_blank2</span><span class="p">,</span> <span class="n">tflag</span><span class="p">,</span> <span class="n">t1</span><span class="p">,</span> <span class="n">t2</span><span class="p">,</span> <span class="n">t3</span><span class="p">)</span> <span class="o">=</span> <span class="n">out</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CTRIAR=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
            <span class="n">data_in</span> <span class="o">=</span> <span class="p">[</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">theta</span><span class="p">,</span> <span class="n">zoffs</span><span class="p">,</span> <span class="n">tflag</span><span class="p">,</span> <span class="n">t1</span><span class="p">,</span> <span class="n">t2</span><span class="p">,</span> <span class="n">t3</span><span class="p">]</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">CTRIAR</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">data_in</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_op2_element</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="n">ntotal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;CTRIAR&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="c1">#def _read_ctriax_b(self, data: bytes, n: int) -&gt; int:  # pragma: no cover</span>
        <span class="c1">#&quot;&quot;&quot;</span>
        <span class="c1">#CTRIAX  341     11      341     342     343     345     346     349     +TX1</span>
        <span class="c1">#+TX1    12</span>
        <span class="c1">#CTRIAX  342     111     341     343     344     349     347     348</span>
        <span class="c1">#(341, 11,  341, 342, 343, 345, 346, 349,</span>
         <span class="c1">#342, 111, 341, 343, 344, 349, 347, 348)</span>
        <span class="c1">#&quot;&quot;&quot;</span>
        <span class="c1">#ntotal = 32  # 8*4</span>
        <span class="c1">#nentries = (len(data) - n) // ntotal</span>
        <span class="c1">#struc = Struct(self._endian + b&#39;8i&#39;)</span>
        <span class="c1">#for unused_i in range(nentries):</span>
            <span class="c1">#edata = data[n:n + 32]</span>
            <span class="c1">#out = struc.unpack(edata)</span>
            <span class="c1">#if self.is_debug_file:</span>
                <span class="c1">#self.binary_debug.write(&#39;  CTRIAX=%s\n&#39; % str(out))</span>
            <span class="c1">#eid, pid, n1, n2, n3, n4, n5, n6 = out</span>
            <span class="c1">#nids = [n1, n2, n3, n4, n5, n6]</span>
            <span class="c1">#elem = CTRIAX(eid, pid, nids, theta_mcid=0., comment=&#39;&#39;)</span>
            <span class="c1">#self.add_op2_element(elem)</span>
            <span class="c1">#n += 32</span>
        <span class="c1">#self.card_count[&#39;CTRIAX&#39;] = nentries</span>
        <span class="c1">#return n</span>

    <span class="k">def</span> <span class="nf">_read_ctriax</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;common method for reading CTRIAXs&quot;&quot;&quot;</span>
        <span class="n">n</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_dual_card</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_ctriax_8</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_ctriax_9</span><span class="p">,</span>
                                 <span class="s1">&#39;CTRIAX&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">add_op2_element</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_read_ctriax_8</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">CTRIAX</span><span class="p">]]:</span>
        <span class="sd">&quot;&quot;&quot;(10108, 101, 512)&quot;&quot;&quot;</span>
        <span class="n">ntotal</span> <span class="o">=</span> <span class="mi">32</span>  <span class="c1"># 9*4</span>
        <span class="n">struc</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;8i&#39;</span><span class="p">)</span>

        <span class="n">nentries</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="n">ntotal</span>
        <span class="k">assert</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">%</span> <span class="n">ntotal</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="k">assert</span> <span class="n">nentries</span> <span class="o">&gt;</span> <span class="mi">0</span>

        <span class="n">elems</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nentries</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span> <span class="o">+</span> <span class="n">ntotal</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">struc</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CTRIAX=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
            <span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n5</span><span class="p">,</span> <span class="n">n6</span> <span class="o">=</span> <span class="n">out</span>
            <span class="n">nids</span> <span class="o">=</span> <span class="p">[</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n5</span><span class="p">,</span> <span class="n">n6</span><span class="p">]</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">CTRIAX</span><span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">nids</span><span class="p">,</span> <span class="n">theta_mcid</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;no theta set&#39;</span><span class="p">)</span>
            <span class="n">elems</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="n">ntotal</span>
        <span class="k">return</span> <span class="n">n</span><span class="p">,</span> <span class="n">elems</span>

    <span class="k">def</span> <span class="nf">_read_ctriax_9</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">CTRIAX</span><span class="p">]]:</span>
        <span class="sd">&quot;&quot;&quot;(10108, 101, 512)&quot;&quot;&quot;</span>
        <span class="n">ntotal</span> <span class="o">=</span> <span class="mi">36</span>  <span class="c1"># 9*4</span>
        <span class="n">struc</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;9i&#39;</span><span class="p">)</span>

        <span class="n">nentries</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="n">ntotal</span>
        <span class="k">assert</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">%</span> <span class="n">ntotal</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="k">assert</span> <span class="n">nentries</span> <span class="o">&gt;</span> <span class="mi">0</span>

        <span class="n">elems</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nentries</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span> <span class="o">+</span> <span class="n">ntotal</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">struc</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CTRIAX=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
            <span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n5</span><span class="p">,</span> <span class="n">n6</span><span class="p">,</span> <span class="n">unused_undef1</span> <span class="o">=</span> <span class="n">out</span>
            <span class="n">nids</span> <span class="o">=</span> <span class="p">[</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n5</span><span class="p">,</span> <span class="n">n6</span><span class="p">]</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">CTRIAX</span><span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">nids</span><span class="p">,</span> <span class="n">theta_mcid</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;no theta set&#39;</span><span class="p">)</span>
            <span class="n">elems</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="n">ntotal</span>
        <span class="k">return</span> <span class="n">n</span><span class="p">,</span> <span class="n">elems</span>

    <span class="k">def</span> <span class="nf">_read_ctriax6</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>  <span class="c1"># 101</span>
        <span class="sd">&quot;&quot;&quot;(6108, 61, 107)&quot;&quot;&quot;</span>
        <span class="n">ntotal</span> <span class="o">=</span> <span class="mi">44</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">factor</span>  <span class="c1"># 11*4</span>
        <span class="n">nentries</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="n">ntotal</span>
        <span class="k">assert</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">%</span> <span class="n">ntotal</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="k">assert</span> <span class="n">nentries</span> <span class="o">&gt;</span> <span class="mi">0</span>
        <span class="n">struc</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="n">mapfmt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;8i f ii&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nentries</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span> <span class="o">+</span> <span class="n">ntotal</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">struc</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CTRIAX6=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">CTRIAX6</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_op2_element</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="n">ntotal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;CTRIAX6&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nentries</span>
        <span class="k">return</span> <span class="n">n</span>

<span class="c1"># CTRIX3FD - 102</span>
<span class="c1"># CTRIX6FD - 103</span>

    <span class="k">def</span> <span class="nf">_read_gmbndc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        GMBNDC(3201,32,478)</span>

<span class="sd">        Word Name      Type  Description</span>
<span class="sd">        1    BID       I     Boundary identification number</span>
<span class="sd">        2    GRIDI     I     Initial grid identification number for boundary</span>
<span class="sd">        3    GRIDF     I     Final grid identification number for boundary</span>
<span class="sd">        4    ENTITY(2) CHAR4 Entity type for defining boundary</span>
<span class="sd">        6    EID       I     Entity identification numbers for boundary of subdomain</span>
<span class="sd">        Word 6 repeats until End of Record</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;skipping GMBNDC in GEOM2&#39;</span><span class="p">)</span>
        <span class="c1">#self.show_data(data)</span>
        <span class="c1">#(1, 31, 32, GRID____, -1,</span>
         <span class="c1">#2, 41, 42, GRID____, -1)</span>

        <span class="c1">#ints= (3201, 32, 478,</span>
        <span class="c1"># 2, 41, 42, 1145390406, 538985799, 41, -1,</span>
        <span class="c1"># 990003, 101000045, 101000046, 1145655879, 538976288, 101000045, 101000046, -1)</span>
        <span class="n">ints</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">frombuffer</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:],</span> <span class="bp">self</span><span class="o">.</span><span class="n">idtype</span><span class="p">)</span> <span class="c1"># .tolist()</span>
        <span class="n">isplit</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ints</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">isplit</span><span class="p">)</span>

        <span class="n">i0</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">ispliti</span> <span class="ow">in</span> <span class="n">isplit</span><span class="p">:</span>
            <span class="n">eid</span><span class="p">,</span> <span class="n">gridi</span><span class="p">,</span> <span class="n">gridf</span> <span class="o">=</span> <span class="n">ints</span><span class="p">[</span><span class="n">i0</span><span class="p">:</span><span class="n">i0</span><span class="o">+</span><span class="mi">3</span><span class="p">]</span>
            <span class="c1">#print(eid, gridi, gridf)</span>
            <span class="n">s0</span> <span class="o">=</span> <span class="n">n</span> <span class="o">+</span> <span class="p">(</span><span class="n">i0</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)</span> <span class="o">*</span> <span class="mi">4</span>
            <span class="n">s1</span> <span class="o">=</span> <span class="n">s0</span> <span class="o">+</span> <span class="mi">8</span>
            <span class="n">entity</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">s0</span><span class="p">:</span><span class="n">s1</span><span class="p">]</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;latin1&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span>
            <span class="n">eids</span> <span class="o">=</span> <span class="n">ints</span><span class="p">[</span><span class="n">i0</span><span class="o">+</span><span class="mi">5</span><span class="p">:</span><span class="n">ispliti</span><span class="p">]</span>
            <span class="k">assert</span> <span class="n">entity</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;FEEDGE&#39;</span><span class="p">,</span> <span class="s1">&#39;GRID&#39;</span><span class="p">,</span> <span class="s1">&#39;GMCURV&#39;</span><span class="p">],</span> <span class="sa">f</span><span class="s1">&#39;entity=</span><span class="si">{</span><span class="n">entity</span><span class="si">!r}</span><span class="s1">&#39;</span>
            <span class="c1">#print(eids)</span>
            <span class="n">i0</span> <span class="o">=</span> <span class="n">ispliti</span> <span class="o">+</span> <span class="mi">1</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;GMBNDC&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_read_ctube</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CTUBE(3701,37,49) - the marker for Record 104</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ntotal</span> <span class="o">=</span> <span class="mi">16</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">factor</span>  <span class="c1"># 4*4</span>
        <span class="n">struct_4i</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="n">mapfmt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;4i&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="n">ntotal</span>
        <span class="k">assert</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">%</span> <span class="n">ntotal</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="k">assert</span> <span class="n">nelements</span> <span class="o">&gt;</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span> <span class="o">+</span> <span class="n">ntotal</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">struct_4i</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CTUBE=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
            <span class="c1">#(eid, pid, n1, n2) = out</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">CTUBE</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_op2_element</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="n">ntotal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;CTUBE&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_read_cvisc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;CVISC(3901,39,50) - the marker for Record 105&quot;&quot;&quot;</span>
        <span class="n">ntotal</span> <span class="o">=</span> <span class="mi">16</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">factor</span>  <span class="c1"># 4*4</span>
        <span class="n">struct_4i</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="n">mapfmt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;4i&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="n">ntotal</span>
        <span class="k">assert</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">%</span> <span class="n">ntotal</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="k">assert</span> <span class="n">nelements</span> <span class="o">&gt;</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span> <span class="o">+</span> <span class="n">ntotal</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">struct_4i</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CVISC=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
            <span class="c1">#(eid, pid, n1, n2) = out</span>
            <span class="n">element</span> <span class="o">=</span> <span class="n">CVISC</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_op2_element</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="n">ntotal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;CVISC&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_read_cweld</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CWELD(11701,117,559) - Record 106</span>
<span class="sd">        same as CFAST</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;skipping CWELD in GEOM2&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;skipping CWELD in GEOM2</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_read_cweldc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>  <span class="c1"># 107</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;skipping CWELDC in GEOM2&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;skipping CWELDC in GEOM2</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_read_cweldg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>  <span class="c1"># 108</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;skipping CWELDG in GEOM2&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;skipping CWELDG in GEOM2</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

<span class="c1"># TDOO: above are checked by DMAP...</span>
<span class="c1">#-------------------------------</span>
<span class="c1"># CWSEAM</span>
    <span class="k">def</span> <span class="nf">_read_genel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Word Name Type Description</span>
<span class="sd">        1 EID I Element identification number</span>
<span class="sd">        2 UI  I Independent grid point identification number</span>
<span class="sd">        3 CI  I Component number</span>
<span class="sd">        Words 2 through 3 repeat until End of Record</span>

<span class="sd">        4 M(C) I Number of rows and columns in K or Z and rows in S</span>
<span class="sd">        5 UD   I Dependent grid point identification number</span>
<span class="sd">        6 CD   I Component number</span>
<span class="sd">        Words 5 through 6 repeat until End of Record</span>

<span class="sd">        7 N(C)  I Number of columns in S</span>
<span class="sd">        8 F     I 1 means Z, 2 means K</span>
<span class="sd">        9 KZIJ RS Lower triangular terms of the K or Z</span>
<span class="sd">        matrix. See Notes.</span>
<span class="sd">        Word 9 repeats MM times</span>
<span class="sd">        10 NZERO(C) I</span>
<span class="sd">        NZERO =1 Actually &quot; 0&quot;</span>
<span class="sd">        11 SIJ RS Terms of the S matrix</span>
<span class="sd">        Word 11 repeats M times</span>
<span class="sd">        Word 11 repeats N times</span>
<span class="sd">        NZERO =0</span>
<span class="sd">        End NZERO</span>
<span class="sd">        12 UNDEF none</span>
<span class="sd">        Word 12 repeats until End of Record</span>

<span class="sd">        # C:\NASA\m4\formats\git\examples\move_tpl\ha145c.op2</span>
<span class="sd">        (432, # eid</span>
<span class="sd">        1, 3, 2, 3, 3, 3, 4, 3, 5, 3, 6, 3, 7, 3, 8, 3, 9, 3, 10, 3, -1, # (ui,ci)</span>
<span class="sd">        10, # M(c)</span>
<span class="sd">        11, 3, 11, 4, 11, 5, 11, 6, -1, # (ud,cd)</span>
<span class="sd">        4, 1, # N(c), f, KZij...floats...)</span>

<span class="sd">        (6.05360936588321e-43,</span>
<span class="sd">        1.401298464324817e-45, 4.203895392974451e-45,</span>
<span class="sd">        2.802596928649634e-45, 4.203895392974451e-45,</span>
<span class="sd">        4.203895392974451e-45, 4.203895392974451e-45,</span>
<span class="sd">        5.605193857299268e-45, 4.203895392974451e-45,</span>
<span class="sd">        7.006492321624085e-45, 4.203895392974451e-45,</span>
<span class="sd">        8.407790785948902e-45, 4.203895392974451e-45,</span>
<span class="sd">        9.80908925027372e-45, 4.203895392974451e-45,</span>
<span class="sd">        1.1210387714598537e-44, 4.203895392974451e-45,</span>
<span class="sd">        1.2611686178923354e-44, 4.203895392974451e-45,</span>
<span class="sd">        1.401298464324817e-44, 4.203895392974451e-45,</span>
<span class="sd">        nan,</span>
<span class="sd">        1.401298464324817e-44, 1.5414283107572988e-44, 4.203895392974451e-45, 1.5414283107572988e-44, 5.605193857299268e-45, 1.5414283107572988e-44, 7.006492321624085e-45, 1.5414283107572988e-44, 8.407790785948902e-45,</span>
<span class="sd">        nan,</span>
<span class="sd">        5.605193857299268e-45, 1.401298464324817e-45,</span>
<span class="sd">        8.71720021677902e-06, 1.3361000128497835e-06, 1.2778000382240862e-05, 6.272000064200256e-06, 1.6251000488409773e-05, 1.0492000001249835e-05, 2.0478000806178898e-05, 1.562999932502862e-05, 2.428500010864809e-05, 2.0403000235091895e-05,</span>
<span class="sd">        3.086099968641065e-05, 6.272000064200256e-06, 3.229700087103993e-05, 1.0492000001249835e-05, 3.352899875608273e-05, 1.562999932502862e-05, 3.502099934848957e-05,</span>
<span class="sd">        2.025700086960569e-05, 3.578500036383048e-05, 2.7731999580282718e-05, 1.572600012877956e-05, 4.825499854632653e-05, 3.762800042750314e-05, 7.328399806283414e-05,</span>
<span class="sd">        6.433799717342481e-05, 9.580999903846532e-05, 8.837800123728812e-05, 6.374900112859905e-05, 3.762800042750314e-05, 8.013600017875433e-05, 6.433799717342481e-05,</span>
<span class="sd">        0.00010011999984271824, 8.837800123728812e-05, 0.00011811000149464235, 0.00012758000229950994, 0.00011344000085955486, 0.00019350000366102904, 0.0001816000003600493,</span>
<span class="sd">        0.0002528300101403147, 0.00024294000468216836, 0.0001699900021776557, 0.0001816000003600493, 0.000229199999012053, 0.00024294000468216836, 0.0002824899856932461,</span>
<span class="sd">        0.00036862000706605613, 0.00035051998565904796, 0.0005267499946057796, 0.0005117100081406534, 0.00042292001307941973, 0.0005117100081406534, 0.0005718700122088194,</span>
<span class="sd">        0.0008483999990858138, 0.0008233999833464622, 0.0009233999880962074, 5.605193857299268e-45, 1.0, 90.0, -20.25, 45.0, 1.0, 90.0, 81.0, 45.0, 1.0, 186.0, -17.850000381469727,</span>
<span class="sd">        141.0, 1.0, 186.0, 71.4000015258789, 141.0, 1.0, 268.0, -15.800000190734863, 223.0, 1.0, 268.0, 63.20000076293945, 223.0, 1.0, 368.0, -13.300000190734863, 323.0, 1.0,</span>
<span class="sd">        368.0, 53.20000076293945, 323.0, 1.0, 458.0, -11.050000190734863, 413.0, 1.0, 458.0, 44.20000076293945, 413.0)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;skipping GENEL in GEOM2&#39;</span><span class="p">)</span>
        <span class="c1">#self.log.info(f&#39;skipping GENEL in GEOM2; len(data)={len(data)-12}&#39;)</span>
        <span class="c1">#print(n)</span>
        <span class="n">ints</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">frombuffer</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;int32&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="c1">#floats = np.frombuffer(data[n:], dtype=&#39;float32&#39;).copy()</span>
        <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">ints</span><span class="p">):</span>
            <span class="c1">#1 EID I Element identification number</span>
            <span class="n">eid</span> <span class="o">=</span> <span class="n">ints</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>

            <span class="n">iminus1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ints</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
            <span class="c1">#print(&#39;iminus1&#39;, iminus1)</span>
            <span class="n">idelta0</span> <span class="o">=</span> <span class="n">iminus1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">idelta1</span> <span class="o">=</span> <span class="n">iminus1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="c1"># print(&#39;idelta0&#39;, idelta0)</span>
            <span class="n">uc</span> <span class="o">=</span> <span class="n">ints</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="o">+</span><span class="n">idelta0</span><span class="p">]</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">idelta0</span><span class="o">//</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">uc</span><span class="p">)</span>
            <span class="n">j</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">idelta0</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="c1">#2 UI  I Independent grid point identification number</span>
            <span class="c1">#3 CI  I Component number</span>
            <span class="c1">#Words 2 through 3 repeat until End of Record</span>

            <span class="n">nrows</span> <span class="o">=</span> <span class="n">ints</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;nrows=&#39;</span><span class="p">,</span> <span class="n">nrows</span><span class="p">)</span>
            <span class="n">mucd</span> <span class="o">=</span> <span class="n">ints</span><span class="p">[</span><span class="n">j</span><span class="p">:</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="o">+</span><span class="n">idelta1</span><span class="p">]</span>
            <span class="n">mc</span> <span class="o">=</span> <span class="n">mucd</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">nucd</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">mucd</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="n">ucd</span> <span class="o">=</span> <span class="n">mucd</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">nucd</span><span class="o">//</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;M(c) = </span><span class="si">{</span><span class="n">mc</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">ucd</span><span class="p">)</span>
            <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">idelta1</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="c1">#4 M(C) I Number of rows and columns in K or Z and rows in S</span>
            <span class="c1">#5 UD   I Dependent grid point identification number</span>
            <span class="c1">#6 CD   I Component number</span>
            <span class="c1">#Words 5 through 6 repeat until End of Record</span>

            <span class="c1"># ---------------</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;-----------------&#39;</span><span class="p">)</span>

            <span class="c1">#7 N(C)  I Number of columns in S (4)</span>
            <span class="c1">#8 F     I 1 means Z, 2 means K -&gt; Z</span>

            <span class="c1">#9 KZIJ RS Lower triangular terms of the K or Z matrix. See Notes.</span>
            <span class="c1">#Word 9 repeats MM times</span>
            <span class="c1">#  10 NZERO(C) I</span>
            <span class="c1">#  NZERO =1 Actually &quot; 0&quot;</span>
            <span class="c1">#    11 SIJ RS Terms of the S matrix</span>
            <span class="c1">#    Word 11 repeats M times</span>
            <span class="c1"># Word 11 repeats N times</span>
            <span class="c1"># NZERO =0</span>
            <span class="c1">#End NZERO</span>
            <span class="c1">#12 UNDEF none</span>
            <span class="c1">#Word 12 repeats until End of Record</span>

            <span class="n">nc</span> <span class="o">=</span> <span class="n">ints</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">f</span> <span class="o">=</span> <span class="n">ints</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">i</span> <span class="o">+=</span> <span class="mi">2</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;nc=</span><span class="si">{</span><span class="n">nc</span><span class="si">}</span><span class="s1"> f=</span><span class="si">{</span><span class="n">f</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="c1">#print(ints[i:].min())</span>
            <span class="c1">#print(ints[i+55])</span>
            <span class="c1">#print(floats[i:i+55].tolist())</span>
            <span class="c1">#print(ints[i+55:].tolist())</span>
            <span class="c1">#print(ints[i:].tolist())</span>
            <span class="c1">#print(floats[i:])</span>
            <span class="c1">#print(len(floats[i:]))</span>
            <span class="k">break</span>
        <span class="c1">#self.show_data(data[12:])</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="c1"># GMDNDC</span>
<span class="c1"># GMBNDS</span>
<span class="c1"># GMINTC</span>
<span class="c1"># GMINTS</span>

    <span class="k">def</span> <span class="nf">_read_plotel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>  <span class="c1"># 114</span>
        <span class="sd">&quot;&quot;&quot;(5201, 52, 11)&quot;&quot;&quot;</span>
        <span class="n">struct_3i</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;3i&#39;</span><span class="p">)</span>
        <span class="n">ntotal</span> <span class="o">=</span> <span class="mi">12</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="n">ntotal</span>
        <span class="k">assert</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">%</span> <span class="n">ntotal</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="k">assert</span> <span class="n">nelements</span> <span class="o">&gt;</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span> <span class="o">+</span> <span class="n">ntotal</span><span class="p">]</span>  <span class="c1"># 4*4</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">struct_3i</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  PLOTEL=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
            <span class="c1">#(eid,n1,n2) = out</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">PLOTEL</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_add_plotel_object</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="n">ntotal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;PLOTEL&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_read_radbc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        RADBC(12801,128,417)</span>

<span class="sd">        Word Name Type Description</span>
<span class="sd">        1 EID      I Element identification number</span>
<span class="sd">        2 FAMB    RS Radiation view factor between the face and the ambient point</span>
<span class="sd">        3 CNTRLND  I Control point for radiation boundary condition</span>
<span class="sd">        4 NODAMB   I</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1">#C:\NASA\m4\formats\git\examples\move_tpl\ht15339.op2</span>
        <span class="c1">#(-99, 1.0, 0, 101)</span>
        <span class="c1">#radbc   101     1.0             -99</span>
        <span class="c1">#RADBC NODAMB   FAMB CNTRLND     EID1 EID2 EID3</span>
        <span class="n">structi</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;ifii&#39;</span><span class="p">)</span>
        <span class="n">ntotal</span> <span class="o">=</span> <span class="mi">16</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="n">ntotal</span>
        <span class="k">assert</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">%</span> <span class="n">ntotal</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="k">assert</span> <span class="n">nelements</span> <span class="o">&gt;</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span> <span class="o">+</span> <span class="n">ntotal</span><span class="p">]</span>  <span class="c1"># 4*4</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">structi</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  RADBC=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
            <span class="n">eid</span><span class="p">,</span> <span class="n">famb</span><span class="p">,</span> <span class="n">cntrlnd</span><span class="p">,</span> <span class="n">nodamb</span> <span class="o">=</span> <span class="n">out</span>
            <span class="n">eids</span> <span class="o">=</span> <span class="n">eid</span>
            <span class="n">boundary_condition</span> <span class="o">=</span> <span class="n">RADBC</span><span class="p">(</span><span class="n">nodamb</span><span class="p">,</span> <span class="n">famb</span><span class="p">,</span> <span class="n">cntrlnd</span><span class="p">,</span> <span class="n">eids</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_add_thermal_bc_object</span><span class="p">(</span><span class="n">boundary_condition</span><span class="p">,</span> <span class="n">boundary_condition</span><span class="o">.</span><span class="n">nodamb</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="n">ntotal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;RADBC&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

<span class="c1"># RADINT</span>
    <span class="k">def</span> <span class="nf">_read_sint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Word Name Type Description</span>
<span class="sd">        1 EID    I Element identification number</span>
<span class="sd">        2 PID    I Property identification number</span>
<span class="sd">        3 PTELE  I Pointer to element identification number</span>
<span class="sd">        4 NSEG   I Number of segments</span>
<span class="sd">        5 STSC   I Stride for segment displacement data</span>
<span class="sd">        6 PTSC   I Pointer to segment displacements</span>
<span class="sd">        7 NBOUND I Number of boundaries</span>
<span class="sd">        8 BID    I Boundary identification number</span>
<span class="sd">        9 NFACE  I Number of faces</span>
<span class="sd">        10 STBC  I Stride for boundary displacement data</span>
<span class="sd">        11 NSEG  I Number of segments</span>
<span class="sd">        12 STLC1 I Stride for Boundary Lagrange Multiplier data</span>
<span class="sd">        13 PTBND I Pointer to boundary identification number</span>
<span class="sd">        14 PTBC  I Pointer to boundary displacements</span>
<span class="sd">        15 PTLC  I Pointer to boundary Lagrange</span>
<span class="sd">        Multipliers</span>
<span class="sd">        Words 8 through 15 repeat 5 times</span>
<span class="sd">        16 UNDEF(3 ) none</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;skipping SINT in GEOM2&#39;</span><span class="p">)</span>
        <span class="c1"># C:\NASA\m4\formats\git\examples\move_tpl\ifscp88.op2</span>
        <span class="c1"># doesn&#39;t seem to be a card, more of a general info on the geometry...</span>
        <span class="c1">#ints = np.frombuffer(data[n:], dtype=self.idtype).copy()</span>
        <span class="c1">#print(ints.tolist())</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_read_spoint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        (5551,49,105)    - the marker for Record 118</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ntotal</span> <span class="o">=</span> <span class="mi">4</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">factor</span>
        <span class="n">npoints</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="o">//</span> <span class="n">ntotal</span>
        <span class="n">nids</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">frombuffer</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:],</span> <span class="bp">self</span><span class="o">.</span><span class="n">idtype8</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;SPOINT=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">nids</span><span class="p">)</span>
        <span class="n">spoint</span> <span class="o">=</span> <span class="n">SPOINTs</span><span class="o">.</span><span class="n">add_op2_data</span><span class="p">(</span><span class="n">nids</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_add_spoint_object</span><span class="p">(</span><span class="n">spoint</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;SPOINT&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">npoints</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_read_vubeam</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>  <span class="c1"># 119</span>
        <span class="n">deltae</span> <span class="o">=</span> <span class="mi">100000000</span>
        <span class="c1">#deltan = 111000000 # 111001002</span>
        <span class="k">def</span> <span class="nf">element</span><span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">nids</span><span class="p">):</span>
            <span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">]</span>
            <span class="n">g0</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">nids2</span> <span class="o">=</span> <span class="p">[</span><span class="n">nid</span> <span class="o">-</span> <span class="n">deltae</span> <span class="k">for</span> <span class="n">nid</span> <span class="ow">in</span> <span class="n">nids</span><span class="p">]</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">CBEAM</span><span class="p">(</span><span class="n">eid</span><span class="o">-</span><span class="n">deltae</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">nids2</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">g0</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">elem</span>
        <span class="n">element</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s1">&#39;CBEAM&#39;</span> <span class="c1">#  I love python</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_run_2nodes</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
        <span class="c1">#assert len(self.elements) &gt; 0, self.elements</span>
        <span class="k">return</span> <span class="n">n</span>

<span class="c1"># VUHEXA</span>
<span class="c1"># VUQUAD4</span>
<span class="c1"># VUPENTA</span>
<span class="c1"># VUTETRA</span>
<span class="c1"># VUTRIA</span>
<span class="c1"># VUBEAM</span>
<span class="c1"># VUHEXA</span>
<span class="c1"># VUQUAD4</span>
<span class="c1"># WELDP</span>

    <span class="k">def</span> <span class="nf">_read_ctrax3</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        RECORD - CTRAX3(6111,61,996)</span>

<span class="sd">        Word Name Type Description</span>
<span class="sd">        1 EID    I Element identification number</span>
<span class="sd">        2 PID    I Property identification number</span>
<span class="sd">        3 G(3)   I Grid point identification numbers of connection points</span>
<span class="sd">        4 THETA RS Material property orientation angle</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ntotal</span> <span class="o">=</span> <span class="mi">24</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">factor</span>  <span class="c1"># 6*4</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="n">mapfmt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;5if&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span><span class="o">//</span> <span class="n">ntotal</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span><span class="o">+</span><span class="n">ntotal</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">theta</span><span class="p">)</span> <span class="o">=</span> <span class="n">out</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CTRAX3=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
            <span class="c1">#data_in = [eid, pid, n1, n2, n3, theta]</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">CTRAX3</span><span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="p">[</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">],</span> <span class="n">theta</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_op2_element</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="n">ntotal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;CTRAX3&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="c1">#def _read_cquadx4(self, data: bytes, n: int) -&gt; int:</span>
        <span class="c1">#self.log.info(&#39;skipping CQUADX4 in GEOM2&#39;)</span>
        <span class="c1">#return len(data)</span>

    <span class="k">def</span> <span class="nf">_read_ctrax6</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        RECORD - CTRAX6(6113, 61, 998)</span>

<span class="sd">        Word Name Type Description</span>
<span class="sd">        1 EID    I Element identification number</span>
<span class="sd">        2 PID    I Property identification number</span>
<span class="sd">        3 G(6)   I Grid point identification numbers of connection points</span>
<span class="sd">        4 THETA RS Material property orientation angle</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ntotal</span> <span class="o">=</span> <span class="mi">36</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">factor</span>  <span class="c1"># 9*4</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="n">mapfmt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;8if&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span><span class="o">//</span> <span class="n">ntotal</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span><span class="o">+</span><span class="n">ntotal</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n5</span><span class="p">,</span> <span class="n">n6</span><span class="p">,</span> <span class="n">theta</span><span class="p">)</span> <span class="o">=</span> <span class="n">out</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CTRAX6=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
            <span class="c1">#data_in = [eid, pid, n1, n2, n3, n4, n5, n6, theta]</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">CTRAX6</span><span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="p">[</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n5</span><span class="p">,</span> <span class="n">n6</span><span class="p">],</span> <span class="n">theta</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_op2_element</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="n">ntotal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;CTRAX6&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_read_cquadx8</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        RECORD - CQUADX8(6114, 61, 999)</span>

<span class="sd">        Word Name Type Description</span>
<span class="sd">        1 EID    I Element identification number</span>
<span class="sd">        2 PID    I Property identification number</span>
<span class="sd">        3 G(8)   I Grid point identification numbers of connection points</span>
<span class="sd">        4 THETA RS Material property orientation angle</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ntotal</span> <span class="o">=</span> <span class="mi">44</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">factor</span>  <span class="c1"># 11*4</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="n">mapfmt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;10if&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span><span class="o">//</span> <span class="n">ntotal</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span><span class="o">+</span><span class="n">ntotal</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n5</span><span class="p">,</span> <span class="n">n6</span><span class="p">,</span> <span class="n">n7</span><span class="p">,</span> <span class="n">n8</span><span class="p">,</span> <span class="n">theta</span><span class="p">)</span> <span class="o">=</span> <span class="n">out</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  CQUADX8=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
            <span class="c1">#data_in = [eid, pid, n1, n2, n3, n4, n5, n6, n7, n8, theta]</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">CQUADX8</span><span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="p">[</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n5</span><span class="p">,</span> <span class="n">n6</span><span class="p">,</span> <span class="n">n7</span><span class="p">,</span> <span class="n">n8</span><span class="p">],</span> <span class="n">theta</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_op2_element</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="n">ntotal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;CQUADX8&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_read_feface_pval</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        C:\NASA\m4\formats\git\examples\move_tpl\pshp02.bdf</span>
<span class="sd">        ints = (</span>
<span class="sd">           100001001, 100, 111001001, 111001002, 111001004, 111001007, 111001008, 111001010,</span>
<span class="sd">           100001002, 100, 111001002, 111001003, 111001005, 111001008, 111001009, 111001011,</span>
<span class="sd">           100001003, 100, 111001005, 111001004, 111001002, 111001011, 111001010, 111001008,</span>
<span class="sd">           100001004, 100, 111001004, 111001005, 111001006, 111001010, 111001011, 111001012,</span>
<span class="sd">           100001005, 100, 111001007, 111001008, 111001010, 111001013, 111001014, 111001016,</span>
<span class="sd">           100001006, 100, 111001008, 111001009, 111001011, 111001014, 111001015, 111001017,</span>
<span class="sd">           100001007, 100, 111001011, 111001010, 111001008, 111001017, 111001016, 111001014,</span>
<span class="sd">           100001008, 100, 111001010, 111001011, 111001012, 111001016, 111001017, 111001018,</span>
<span class="sd">           100002001, 100, 111002001, 111002002, 111002004, 111002007, 111002008, 111002010,</span>
<span class="sd">           100002002, 100, 111002002, 111002003, 111002005, 111002008, 111002009, 111002011,</span>
<span class="sd">           100002003, 100, 111002005, 111002004, 111002002, 111002011, 111002010, 111002008,</span>
<span class="sd">           100002004, 100, 111002004, 111002005, 111002006, 111002010, 111002011, 111002012,</span>
<span class="sd">           100002005, 100, 111002007, 111002008, 111002010, 111002013, 111002014, 111002016,</span>
<span class="sd">           100002006, 100, 111002008, 111002009, 111002011, 111002014, 111002015, 111002017,</span>
<span class="sd">           100002007, 100, 111002011, 111002010, 111002008, 111002017, 111002016, 111002014,</span>
<span class="sd">           100002008, 100, 111002010, 111002011, 111002012, 111002016, 111002017, 111002018)</span>

<span class="sd">        C:\NASA\m4\formats\git\examples\move_tpl\pet1126.op2</span>
<span class="sd">        ints = (</span>
<span class="sd">           100001001, 1, 111001001, 111001002, 111001004, 111001007, 111001008, 111001010,</span>
<span class="sd">           100001002, 1, 111001002, 111001003, 111001005, 111001008, 111001009, 111001011,</span>
<span class="sd">           100001003, 1, 111001005, 111001004, 111001002, 111001011, 111001010, 111001008,</span>
<span class="sd">           100001004, 1, 111001004, 111001005, 111001006, 111001010, 111001011, 111001012,</span>
<span class="sd">           100001005, 1, 111001007, 111001008, 111001010, 111001013, 111001014, 111001016,</span>
<span class="sd">           100001006, 1, 111001008, 111001009, 111001011, 111001014, 111001015, 111001017,</span>
<span class="sd">           100001007, 1, 111001011, 111001010, 111001008, 111001017, 111001016, 111001014,</span>
<span class="sd">           100001008, 1, 111001010, 111001011, 111001012, 111001016, 111001017, 111001018)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1">#self.show_data(data[12:])</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_read_feedge2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        (2901, 29, 9601)</span>

<span class="sd">        Word Name Type Description</span>
<span class="sd">        1 EDGEID     I Edge identification number</span>
<span class="sd">        2 GRID1      I Identification number of end GRID 1</span>
<span class="sd">        3 GRID2      I Identification number of end GRID 2</span>
<span class="sd">        4 CID        I Coordinate system identification number</span>
<span class="sd">        5 GEOMIN CHAR4 Type of referencing entry: &quot;GMCURV&quot; or &quot;POINT&quot;</span>
<span class="sd">        6 GEOMID1    I Identification number of a POINT or GMCURV entry</span>
<span class="sd">        7 GEOMID2    I Identification number of a POINT or GMCURV entry</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># C:\NASA\m4\formats\git\examples\move_tpl\phsflux4.op2</span>
        <span class="c1">#(200000002, 3, 1002, 6, 12, 0, 0)</span>
        <span class="c1"># FEEDGE EDGEID GRID1 GRID2 CIDBC GEOMIN ID1 ID2</span>
        <span class="c1">#FEEDGE    1002    6     12</span>
        <span class="c1"># no FEFACE...</span>

        <span class="c1"># weird because the order is wrong and there are two extra FEFACE lines</span>
        <span class="c1">#C:\NASA\m4\formats\git\examples\move_tpl\phs19332.op2</span>
        <span class="c1">#(200000002, 3, 2, 74, 57, 24, 0)</span>
        <span class="c1">#(200000003, 3, 1, 7, 24, 57, 0)</span>
        <span class="c1">#FEFACE   1       7       24      57</span>
        <span class="c1">#FEFACE   2       74      57      24</span>
        <span class="c1">#FEFACE   3       1       51      18</span>
        <span class="c1">#FEFACE   4       68      18      51</span>

        <span class="c1"># C:\NASA\m4\formats\git\examples\move_tpl\ptsahd.op2</span>
        <span class="c1">#feedge,311, 311,331, ,gmcurv,31</span>
        <span class="c1">#feedge,321, 331,321, ,gmcurv,31</span>
        <span class="c1">#feface,21, 121,122,126,125,,12</span>
        <span class="c1">#feface,22, 125,126,123,  ,,12</span>
        <span class="c1">#feface,23, 124,123,126,  ,,12</span>
        <span class="c1">#(200000004, 5, 12, 121, 122, 126, 125)</span>
        <span class="c1">#(200000004, 5, 12, 123, 124, 126, 0)</span>
        <span class="c1">#(200000004, 5, 12, 123, 125, 126, 0)</span>
        <span class="c1">#(200000002, 4, 22, 221, 222, 0, 0)</span>
        <span class="c1">#(200000003, 1, 321, 321, 0, 0, 0)</span>
        <span class="c1">#(200000005, 3, 22, 125, 126, 123, 0)</span>
        <span class="c1">#(200000006, 3, 23, 124, 123, 126, 0)</span>

        <span class="c1"># C:\NASA\m4\formats\git\examples\move_tpl\phscvhg6.op2</span>
        <span class="c1">#C:\NASA\m4\formats\git\examples\move_tpl\phsconv4.op2</span>


        <span class="c1">#self.show_data(data[12:])</span>
        <span class="n">ntotal</span> <span class="o">=</span> <span class="mi">28</span>  <span class="c1"># 7*4</span>
        <span class="c1"># s = Struct(self._endian + b&#39;4i 4s 2i&#39;) #expected</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endian</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;7i&#39;</span><span class="p">)</span>
        <span class="n">nelements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span><span class="o">//</span> <span class="mi">28</span>  <span class="c1"># 7*4</span>
        <span class="k">for</span> <span class="n">unused_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelements</span><span class="p">):</span>
            <span class="n">edata</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span><span class="o">+</span><span class="mi">28</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">edata</span><span class="p">)</span>
            <span class="c1">#print(out)</span>
            <span class="c1">#edge_id, n1, n2, cid, geomin, geom1, geom2 = out # expected</span>
            <span class="n">dunno</span><span class="p">,</span> <span class="n">nfields</span><span class="p">,</span> <span class="n">edge_id</span><span class="p">,</span> <span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span> <span class="o">=</span> <span class="n">out</span>
            <span class="k">assert</span> <span class="n">nfields</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="n">out</span>
            <span class="c1">#assert zero1 == 0, f&#39;zero1={zero1} out={out}&#39;</span>
            <span class="c1">#assert zero2 == 0, f&#39;zero2={zero2} out={out}&#39;</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_debug_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">binary_debug</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  FEEDGE=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>

            <span class="n">geomin_str</span> <span class="o">=</span> <span class="s1">&#39;POINT&#39;</span> <span class="c1"># ???</span>
            <span class="n">cid</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">geom1</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">geom2</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">if</span> <span class="n">nfields</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">add_feedge</span><span class="p">(</span><span class="n">edge_id</span><span class="p">,</span> <span class="p">[</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">],</span> <span class="n">cid</span><span class="p">,</span> <span class="p">[</span><span class="n">geom1</span><span class="p">,</span> <span class="n">geom2</span><span class="p">],</span> <span class="n">geomin</span><span class="o">=</span><span class="n">geomin_str</span><span class="p">)</span>
            <span class="c1">#elif nfields in [3, 4, 5]:</span>
                <span class="c1">#if nfields == 3:</span>
                    <span class="c1">#nids = [n1, n2]</span>
                <span class="c1">#elif nfields == 4:</span>
                    <span class="c1">#nids = [n1, n2, n3]</span>
                <span class="c1">#elif nfields == 5:</span>
                    <span class="c1">#nids = [n1, n2, n3, n4]</span>
                <span class="c1">##elem = FEFACE(edge_id, nids)</span>

            <span class="c1">#data_in = [eid, pid, n1, n2, n3, n4, n5, n6, n7, n8, theta]</span>
            <span class="c1"># elem = CQUADX8(eid, pid, [n1, n2, n3, n4, n5, n6, n7, n8], theta)</span>
            <span class="c1"># self.add_op2_element(elem)</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="n">ntotal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">card_count</span><span class="p">[</span><span class="s1">&#39;FEEDGE&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nelements</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">_read_gmbnds</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Word Name Type Description</span>
<span class="sd">        1 BID           I Boundary identification number</span>
<span class="sd">        2 GRIDC(4)      I Corner grid 1</span>
<span class="sd">        6 ENTITY(2) CHAR4 Entity type for defining boundary</span>
<span class="sd">        8 EID           I Entity identification numbers for boundary of subdomain</span>
<span class="sd">        Word 8 repeats until End of Record</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;skipping GMBNDS in GEOM2&#39;</span><span class="p">)</span>
        <span class="c1">#(1, 0, 0, 0, 0, &#39;FEFACE  &#39;, 31, -1)</span>
        <span class="n">ints</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">frombuffer</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">:],</span> <span class="n">dtype</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">idtype</span><span class="p">)</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">iminus1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ints</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">i0</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">iminus1i</span> <span class="ow">in</span> <span class="n">iminus1</span><span class="p">:</span>
            <span class="n">bid</span><span class="p">,</span> <span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span> <span class="o">=</span> <span class="n">ints</span><span class="p">[</span><span class="n">i0</span><span class="p">:</span><span class="n">i0</span><span class="o">+</span><span class="mi">5</span><span class="p">]</span>
            <span class="n">s0</span> <span class="o">=</span> <span class="n">n</span> <span class="o">+</span> <span class="p">(</span><span class="n">i0</span> <span class="o">+</span> <span class="mi">5</span><span class="p">)</span> <span class="o">*</span> <span class="mi">4</span>
            <span class="n">s1</span> <span class="o">=</span> <span class="n">s0</span> <span class="o">+</span> <span class="mi">8</span>
            <span class="n">entity</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">s0</span><span class="p">:</span><span class="n">s1</span><span class="p">]</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;latin1&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span>
            <span class="k">assert</span> <span class="n">entity</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;FEFACE&#39;</span><span class="p">,</span> <span class="s1">&#39;GMSURF&#39;</span><span class="p">,</span> <span class="s1">&#39;GRID&#39;</span><span class="p">],</span> <span class="p">(</span><span class="n">bid</span><span class="p">,</span> <span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">entity</span><span class="p">)</span>
            <span class="k">assert</span> <span class="n">bid</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">,</span> <span class="p">(</span><span class="n">bid</span><span class="p">,</span> <span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">entity</span><span class="p">)</span>
            <span class="n">eids</span> <span class="o">=</span> <span class="n">ints</span><span class="p">[</span><span class="n">i0</span><span class="o">+</span><span class="mi">7</span><span class="p">:</span><span class="n">iminus1i</span><span class="p">]</span>
            <span class="c1">#print(bid, n1, n2, n3, n4)</span>
            <span class="c1">#print(&#39;entity = %r&#39; % entity)</span>
            <span class="c1">#print(eid)</span>
            <span class="c1">#print(&#39;-----&#39;)</span>
            <span class="n">i0</span> <span class="o">=</span> <span class="n">iminus1i</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_read_cngret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="c1"># C:\NASA\m4\formats\git\examples\move_tpl\bpas101.op2</span>
        <span class="c1"># C:\NASA\m4\formats\git\examples\move_tpl\pass8.op2</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_read_adapt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;skipping adapt card in GEOM2&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span></div>

<div class="viewcode-block" id="convert_theta_to_mcid"><a class="viewcode-back" href="../../../../../reference/op2/tables/geom/pyNastran.op2.tables.geom.geom2.html#pyNastran.op2.tables.geom.geom2.convert_theta_to_mcid">[docs]</a><span class="k">def</span> <span class="nf">convert_theta_to_mcid</span><span class="p">(</span><span class="n">theta</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;odd function...&quot;&quot;&quot;</span>
    <span class="c1"># sort of guessed at this number...it seems reasonable-ish</span>
    <span class="k">if</span> <span class="n">theta</span> <span class="o">&gt;</span> <span class="mf">511.</span><span class="p">:</span>
        <span class="c1"># per DMAP...you couldn&#39;t make a new record number?</span>
        <span class="c1"># theta = 512. * (cid + 1)</span>
        <span class="c1"># theta/512 = cid + 1</span>
        <span class="c1"># cid = theta/512. - 1</span>
        <span class="c1">#</span>
        <span class="n">cid_float</span> <span class="o">=</span> <span class="n">theta</span> <span class="o">/</span> <span class="mf">512.</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="n">cid</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">cid_float</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">np</span><span class="o">.</span><span class="n">allclose</span><span class="p">(</span><span class="n">cid</span><span class="p">,</span> <span class="n">cid_float</span><span class="p">),</span> <span class="s1">&#39;theta=</span><span class="si">%s</span><span class="s1"> cid=</span><span class="si">%s</span><span class="s1"> cid_float=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">theta</span><span class="p">,</span> <span class="n">cid</span><span class="p">,</span> <span class="n">cid_float</span><span class="p">)</span>
        <span class="n">theta</span> <span class="o">=</span> <span class="n">cid</span>
    <span class="k">return</span> <span class="n">theta</span></div>
</pre></div>

           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Steven Doyle.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>