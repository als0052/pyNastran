

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>pyNastran.bdf.case_control_deck &mdash; pyNastran 1.4-dev 1.4-dev documentation</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/my_theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/my_theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/graphviz.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> pyNastran 1.4-dev
          

          
            
            <img src="../../../_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.4-dev
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../installation/index.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../quick_start/index.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../how_to/index.html">How To: pyNastran</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/pyNastran.html">pyNastran Package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../manual/index.html">pyNastran Manual</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">pyNastran 1.4-dev</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../index.html">Module code</a> &raquo;</li>
        
      <li>pyNastran.bdf.case_control_deck</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for pyNastran.bdf.case_control_deck</h1><div class="highlight"><pre>
<span></span><span class="c1"># pylint: disable=R0904,R0902,C0103</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">CaseControlDeck parsing and extraction class</span>

<span class="sd">CaseControlDeck:</span>
<span class="sd">----------------</span>
<span class="sd">    get_subcase_parameter(self, isubcase, param_name)</span>
<span class="sd">    has_subcase(self, isubcase)</span>
<span class="sd">    create_new_subcase(self, isubcase)</span>
<span class="sd">    delete_subcase(self, isubcase)</span>
<span class="sd">    copy_subcase(self, i_from_subcase, i_to_subcase, overwrite_subcase=True)</span>
<span class="sd">    get_subcase_list(self)</span>
<span class="sd">    get_local_subcase_list(self)</span>
<span class="sd">    update_solution(self, isubcase, sol)</span>
<span class="sd">    add_parameter_to_global_subcase(self, param)</span>
<span class="sd">    add_parameter_to_local_subcase(self, isubcase, param)</span>
<span class="sd">    finish_subcases(self)</span>
<span class="sd">    convert_to_sol_200(self, model)</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">copy</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">TYPE_CHECKING</span>

<span class="kn">from</span> <span class="nn">cpylog</span> <span class="kn">import</span> <span class="n">get_logger</span>

<span class="c1">#from pyNastran.bdf import subcase</span>
<span class="kn">from</span> <span class="nn">pyNastran.bdf.subcase</span> <span class="kn">import</span> <span class="n">Subcase</span><span class="p">,</span> <span class="n">update_param_name</span>
<span class="kn">from</span> <span class="nn">pyNastran.bdf.bdf_interface.subcase_cards</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">EXTSEOUT</span><span class="p">,</span> <span class="n">WEIGHTCHECK</span><span class="p">,</span> <span class="n">GROUNDCHECK</span><span class="p">,</span>
    <span class="n">MODCON</span><span class="p">,</span> <span class="n">SET</span><span class="p">,</span> <span class="n">SETMC</span><span class="p">,</span> <span class="c1">#AXISYMMETRIC,</span>
    <span class="c1">#INT_CARD_DICT, INT_CARD_NAMES,</span>
    <span class="c1">#INTSTR_CARD_DICT, INTSTR_CARD_NAMES,</span>
    <span class="c1">#STR_CARD_DICT, STR_CARD_NAMES,</span>
    <span class="c1">#CHECK_CARD_DICT, CHECK_CARD_NAMES,</span>
    <span class="n">split_by_mixed_commas_parentheses</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">pyNastran.utils</span> <span class="kn">import</span> <span class="n">object_attributes</span>
<span class="k">if</span> <span class="n">TYPE_CHECKING</span><span class="p">:</span>  <span class="c1"># pragma: no cover</span>
    <span class="kn">from</span> <span class="nn">pyNastran.bdf.bdf</span> <span class="kn">import</span> <span class="n">BDF</span>


<div class="viewcode-block" id="CaseControlDeck"><a class="viewcode-back" href="../../../reference/bdf/pyNastran.bdf.case_control_deck.html#pyNastran.bdf.case_control_deck.CaseControlDeck">[docs]</a><span class="k">class</span> <span class="nc">CaseControlDeck</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;CaseControlDeck parsing and extraction class&quot;&quot;&quot;</span>
    <span class="nb">type</span> <span class="o">=</span> <span class="s1">&#39;CaseControlDeck&#39;</span>

    <span class="k">def</span> <span class="nf">__getstate__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Copy the object&#39;s state from self.__dict__ which contains</span>
        <span class="c1"># all our instance attributes. Always use the dict.copy()</span>
        <span class="c1"># method to avoid modifying the original state.</span>
        <span class="n">state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="c1"># Remove the unpicklable entries.</span>
        <span class="k">del</span> <span class="n">state</span><span class="p">[</span><span class="s1">&#39;log&#39;</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">state</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">lines</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">log</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates the CaseControlDeck from a set of lines</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        lines : List[str]</span>
<span class="sd">            list of lines that represent the case control deck</span>
<span class="sd">            ending with BEGIN BULK</span>
<span class="sd">        log : log()</span>
<span class="sd">            a :mod: `logging` object</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># pulls the logger from the BDF object</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span> <span class="o">=</span> <span class="n">get_logger</span><span class="p">(</span><span class="n">log</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s2">&quot;debug&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">debug</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">sol_200_map</span> <span class="o">=</span> <span class="p">{</span>
            <span class="c1">#101 - Linear Static</span>
            <span class="c1">#103 - Modal</span>
            <span class="c1">#105 - Buckling</span>
            <span class="c1">#106 - Non-Linear Static</span>
            <span class="c1">#107 - Direct Complex Eigenvalue</span>
            <span class="c1">#108 - Direct Frequency Response</span>
            <span class="c1">#109 - Direct Transient Response</span>
            <span class="c1">#110 - Modal Complex Eigenvalue</span>
            <span class="c1">#111 - Modal Frequency Response</span>
            <span class="c1">#112 - Modal Transient Response</span>
            <span class="c1">#129 - Nonlinear Transient</span>
            <span class="c1">#144 - Static Aeroelastic Analysis</span>
            <span class="c1">#145 - Flutter / Aeroservoelastic analysis</span>
            <span class="c1">#146 - Dynamic Aeroelastic Analysis</span>
            <span class="c1">#153 - Non-Linear static coupled with heat transfer</span>
            <span class="c1">#159 - Nonlinear Transient coupled with Heat transfer</span>
            <span class="c1">#187 - Dynamic Design Analysis Method</span>
            <span class="c1">#190 - DBTRANS Database Transfer</span>
            <span class="c1">#200 - Design Optimization and Sensitivity analysis</span>
            <span class="c1">#400 - Non-Linear Static and Dynamic (implicit) (MSC.NASTRAN native, supersedes 106, 129, 153 and 159 - part of MSC.NASTRAN)</span>
            <span class="c1">#401 - Non-Linear Static (SAMCEF based for NX.NASTRAN)</span>
            <span class="c1">#402 - Non-Linear Static and Dynamic (implicit) (SAMCEF based for NX.NASTRAN)</span>
            <span class="c1">#600 - Non-Linear Static and Dynamic (implicit) (front end to MSC.Marc - part of MSC.NASTRAN)</span>
            <span class="c1">#601 - Implicit Non-Linear (ADINA for NX Nastran, will no longer be available in NX NASTRAN after 2020)</span>
            <span class="c1">#700 - Explicit Non-Linear (LS Dyna plus MSC.Dytran - part of MSC.NASTRAN)</span>
            <span class="c1">#701 - Explicit Non-Linear (ADINA for NX Nastran, will no longer be available in NX NASTRAN after 2020)</span>
            <span class="s1">&#39;STATICS&#39;</span> <span class="p">:</span> <span class="mi">101</span><span class="p">,</span>
            <span class="s1">&#39;STATIC&#39;</span> <span class="p">:</span> <span class="mi">101</span><span class="p">,</span>

            <span class="s1">&#39;MODES&#39;</span> <span class="p">:</span> <span class="mi">103</span><span class="p">,</span>
            <span class="s1">&#39;MODE&#39;</span> <span class="p">:</span> <span class="mi">103</span><span class="p">,</span>

            <span class="s1">&#39;BUCK&#39;</span> <span class="p">:</span> <span class="mi">105</span><span class="p">,</span>
            <span class="s1">&#39;BUCKLING&#39;</span> <span class="p">:</span> <span class="mi">105</span><span class="p">,</span>

            <span class="s1">&#39;DFREQ&#39;</span> <span class="p">:</span> <span class="mi">108</span><span class="p">,</span>
            <span class="s1">&#39;MFREQ&#39;</span> <span class="p">:</span> <span class="mi">111</span><span class="p">,</span>
            <span class="s1">&#39;SAERO&#39;</span> <span class="p">:</span> <span class="mi">144</span><span class="p">,</span>

            <span class="s1">&#39;FLUTTER&#39;</span> <span class="p">:</span> <span class="mi">145</span><span class="p">,</span>
            <span class="s1">&#39;FLUT&#39;</span> <span class="p">:</span> <span class="mi">145</span><span class="p">,</span>

            <span class="s1">&#39;DIVERGE&#39;</span> <span class="p">:</span> <span class="mi">144</span><span class="p">,</span>
            <span class="s1">&#39;DIVERG&#39;</span> <span class="p">:</span> <span class="mi">145</span><span class="p">,</span>

            <span class="c1"># &#39;HEAT&#39; : ,</span>
            <span class="c1"># &#39;STRUCTURE&#39; : ,</span>
            <span class="s1">&#39;NLSTATICS&#39;</span> <span class="p">:</span> <span class="mi">400</span><span class="p">,</span>
            <span class="s1">&#39;LNSTATICS&#39;</span> <span class="p">:</span> <span class="mi">400</span><span class="p">,</span>
            <span class="s1">&#39;MTRAN&#39;</span> <span class="p">:</span> <span class="mi">112</span><span class="p">,</span>
            <span class="s1">&#39;DCEIG&#39;</span> <span class="p">:</span> <span class="mi">107</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="c1"># &#39;HEAT&#39;, &#39;ANALYSIS&#39;, &#39;MFREQ&#39;, &#39;STATICS&#39;, &#39;MODES&#39;, &#39;DFREQ&#39;,</span>
        <span class="c1"># &#39;MTRAN&#39;, &#39;BUCK&#39;, &#39;MCEIG&#39;, &#39;DCEIG&#39;, &#39;SAERO&#39;, &#39;NLSTATIC&#39;, &#39;NLSTAT&#39;,</span>
        <span class="c1"># &#39;STATIC&#39;, &#39;MTRANS&#39;, &#39;MODE&#39;, &#39;FLUTTER&#39;, &#39;DIVERG&#39;, &#39;NLTRAN&#39;, &#39;FLUT&#39;,</span>
        <span class="c1">#self.debug = True</span>

        <span class="c1">#: stores a single copy of &#39;BEGIN BULK&#39; or &#39;BEGIN SUPER&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reject_lines</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># type: List[str]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">begin_bulk</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;BEGIN&#39;</span><span class="p">,</span> <span class="s1">&#39;BULK&#39;</span><span class="p">]</span>

        <span class="c1"># allows BEGIN BULK to be turned off</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_begin_bulk</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_begin_count</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">lines</span> <span class="o">=</span> <span class="n">lines</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">subcases</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="n">Subcase</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">0</span><span class="p">)}</span>  <span class="c1"># type: Dict[int, Subcase]</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_read</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lines</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;Invalid Case Control Deck:</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lines</span><span class="p">))</span>
            <span class="k">raise</span>

<div class="viewcode-block" id="CaseControlDeck.load_hdf5_file"><a class="viewcode-back" href="../../../reference/bdf/pyNastran.bdf.case_control_deck.html#pyNastran.bdf.case_control_deck.CaseControlDeck.load_hdf5_file">[docs]</a>    <span class="k">def</span> <span class="nf">load_hdf5_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hdf5_file</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;loads the case control deck section from a hdf5 file&quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">pyNastran.utils.dict_to_h5py</span> <span class="kn">import</span> <span class="n">_cast</span>

        <span class="n">keys</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">hdf5_file</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">keys</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;_begin_count&#39;</span><span class="p">,</span> <span class="s1">&#39;debug&#39;</span><span class="p">,</span> <span class="s1">&#39;write_begin_bulk&#39;</span><span class="p">,</span> <span class="s1">&#39;use_card_dict&#39;</span><span class="p">]:</span> <span class="c1"># scalars</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">_cast</span><span class="p">(</span><span class="n">hdf5_file</span><span class="p">[</span><span class="n">key</span><span class="p">])</span>
                <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;reject_lines&#39;</span><span class="p">,</span> <span class="s1">&#39;begin_bulk&#39;</span><span class="p">,</span> <span class="s1">&#39;lines&#39;</span><span class="p">,</span> <span class="s1">&#39;output_lines&#39;</span><span class="p">]:</span> <span class="c1"># lists of strings</span>
                <span class="n">value_bytes</span> <span class="o">=</span> <span class="n">_cast</span><span class="p">(</span><span class="n">hdf5_file</span><span class="p">[</span><span class="n">key</span><span class="p">])</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
                <span class="n">unused_value_str</span> <span class="o">=</span> <span class="p">[</span><span class="n">line</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">value_bytes</span><span class="p">]</span>
            <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">&#39;subcases&#39;</span><span class="p">:</span>
                <span class="n">subcase_group</span> <span class="o">=</span> <span class="n">hdf5_file</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
                <span class="n">keys</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">subcase_group</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
                <span class="n">keys</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;keys&#39;</span><span class="p">)</span>
                <span class="n">subcases</span> <span class="o">=</span> <span class="p">{}</span>
                <span class="k">for</span> <span class="n">key2</span> <span class="ow">in</span> <span class="n">keys</span><span class="p">:</span>
                    <span class="n">sub_group</span> <span class="o">=</span> <span class="n">subcase_group</span><span class="p">[</span><span class="n">key2</span><span class="p">]</span>
                    <span class="n">ikey2</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">key2</span><span class="p">)</span>
                    <span class="n">subcase</span> <span class="o">=</span> <span class="n">Subcase</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">ikey2</span><span class="p">)</span>
                    <span class="n">subcase</span><span class="o">.</span><span class="n">log</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span>
                    <span class="n">subcase</span><span class="o">.</span><span class="n">load_hdf5_file</span><span class="p">(</span><span class="n">sub_group</span><span class="p">,</span> <span class="n">encoding</span><span class="p">)</span>
                    <span class="n">subcases</span><span class="p">[</span><span class="n">ikey2</span><span class="p">]</span> <span class="o">=</span> <span class="n">subcase</span>
                    <span class="nb">str</span><span class="p">(</span><span class="n">subcase</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">subcases</span> <span class="o">=</span> <span class="n">subcases</span>
                <span class="c1">#print(value_bytes)</span>
            <span class="k">else</span><span class="p">:</span>  <span class="c1"># pragma: no cover</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s1">&#39;skipping CaseControlDeck/</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">key</span><span class="p">)</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s1">&#39;error loading hdf5 CaseControlDeck/</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">key</span><span class="p">)</span></div>

<div class="viewcode-block" id="CaseControlDeck.export_to_hdf5"><a class="viewcode-back" href="../../../reference/bdf/pyNastran.bdf.case_control_deck.html#pyNastran.bdf.case_control_deck.CaseControlDeck.export_to_hdf5">[docs]</a>    <span class="k">def</span> <span class="nf">export_to_hdf5</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hdf5_file</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">BDF</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;exports the case control deck section to an hdf5 file&quot;&quot;&quot;</span>
        <span class="n">keys_to_skip</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="s1">&#39;log&#39;</span><span class="p">,</span> <span class="s1">&#39;sol_200_map&#39;</span><span class="p">,</span> <span class="s1">&#39;rsolmap_to_str&#39;</span><span class="p">,</span> <span class="s1">&#39;solmap_to_value&#39;</span><span class="p">]</span>

        <span class="c1"># scalars----</span>
        <span class="c1">#_begin_count</span>
        <span class="c1">#debug</span>
        <span class="c1">#write_begin_bulk</span>

        <span class="c1"># lines----</span>
        <span class="c1">#begin_bulk</span>
        <span class="c1">#lines</span>
        <span class="c1">#output_lines</span>
        <span class="c1">#reject_lines</span>

        <span class="c1"># subcases-----</span>
        <span class="c1">#subcases</span>

        <span class="n">h5attrs</span> <span class="o">=</span> <span class="n">object_attributes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">keys_to_skip</span><span class="o">=</span><span class="n">keys_to_skip</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">h5attr</span> <span class="ow">in</span> <span class="n">h5attrs</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">h5attr</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">h5attr</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;_begin_count&#39;</span><span class="p">,</span> <span class="s1">&#39;debug&#39;</span><span class="p">,</span> <span class="s1">&#39;write_begin_bulk&#39;</span><span class="p">]:</span> <span class="c1"># scalars</span>
                <span class="c1"># simple export</span>
                <span class="n">hdf5_file</span><span class="o">.</span><span class="n">create_dataset</span><span class="p">(</span><span class="n">h5attr</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">h5attr</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;reject_lines&#39;</span><span class="p">,</span> <span class="s1">&#39;begin_bulk&#39;</span><span class="p">,</span> <span class="s1">&#39;lines&#39;</span><span class="p">,</span> <span class="s1">&#39;output_lines&#39;</span><span class="p">]:</span>
                <span class="c1"># lists of strings</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">continue</span>
                <span class="n">value_bytes</span> <span class="o">=</span> <span class="p">[</span><span class="n">line</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">value</span><span class="p">]</span>
                <span class="c1">#print(value_bytes)</span>
                <span class="n">hdf5_file</span><span class="o">.</span><span class="n">create_dataset</span><span class="p">(</span><span class="n">h5attr</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">value_bytes</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">h5attr</span> <span class="o">==</span> <span class="s1">&#39;subcases&#39;</span><span class="p">:</span>
                <span class="n">keys</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">subcases</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
                <span class="n">subcase_group</span> <span class="o">=</span> <span class="n">hdf5_file</span><span class="o">.</span><span class="n">create_group</span><span class="p">(</span><span class="s1">&#39;subcases&#39;</span><span class="p">)</span>
                <span class="n">subcase_group</span><span class="o">.</span><span class="n">create_dataset</span><span class="p">(</span><span class="s1">&#39;keys&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">keys</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">subcase</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">subcases</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="c1">#print(&#39;***key =&#39;, key)</span>
                    <span class="n">sub_group</span> <span class="o">=</span> <span class="n">subcase_group</span><span class="o">.</span><span class="n">create_group</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
                    <span class="n">subcase</span><span class="o">.</span><span class="n">export_to_hdf5</span><span class="p">(</span><span class="n">sub_group</span><span class="p">,</span> <span class="n">encoding</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s1">&#39;skipping CaseControlDeck/</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">h5attr</span><span class="p">)</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s1">&#39;error exporting hdf5 CaseControlDeck/</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">h5attr</span><span class="p">)</span></div>

<div class="viewcode-block" id="CaseControlDeck.suppress_output"><a class="viewcode-back" href="../../../reference/bdf/pyNastran.bdf.case_control_deck.html#pyNastran.bdf.case_control_deck.CaseControlDeck.suppress_output">[docs]</a>    <span class="k">def</span> <span class="nf">suppress_output</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Replaces F06 printing with OP2 printing</span>

<span class="sd">        Converts:</span>
<span class="sd">            STRESS(PRINT,SORT1,REAL)</span>
<span class="sd">            FORCE(PRINT,PLOT,SORT1,REAL)</span>

<span class="sd">        to:</span>
<span class="sd">            STRESS(PLOT,SORT1,REAL)</span>
<span class="sd">            FORCE(PLOT,SORT1,REAL)</span>

<span class="sd">        .. warning:: most case control types are not supported</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">subcase</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">subcases</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="c1"># if isubcase == 0:</span>
                <span class="c1"># continue</span>
            <span class="n">subcase</span><span class="o">.</span><span class="n">suppress_output</span><span class="p">()</span></div>

<div class="viewcode-block" id="CaseControlDeck.has_parameter"><a class="viewcode-back" href="../../../reference/bdf/pyNastran.bdf.case_control_deck.html#pyNastran.bdf.case_control_deck.CaseControlDeck.has_parameter">[docs]</a>    <span class="k">def</span> <span class="nf">has_parameter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">isubcase</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="o">*</span><span class="n">param_names</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks to see if a parameter (e.g. STRESS) is defined in a certain</span>
<span class="sd">        subcase ID.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        isubcase : int</span>
<span class="sd">            the subcase ID to check</span>
<span class="sd">        param_names : List[str]</span>
<span class="sd">            the parameter name to look for</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        has_parameter : bool</span>
<span class="sd">            does any subcase have a parameter</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_subcase</span><span class="p">(</span><span class="n">isubcase</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">any</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">subcases</span><span class="p">[</span><span class="n">isubcase</span><span class="p">]</span><span class="o">.</span><span class="n">has_parameter</span><span class="p">(</span><span class="o">*</span><span class="n">param_names</span><span class="p">))</span>
        <span class="k">return</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="CaseControlDeck.get_subcase_parameter"><a class="viewcode-back" href="../../../reference/bdf/pyNastran.bdf.case_control_deck.html#pyNastran.bdf.case_control_deck.CaseControlDeck.get_subcase_parameter">[docs]</a>    <span class="k">def</span> <span class="nf">get_subcase_parameter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">isubcase</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">param_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">obj</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the [value, options] of a subcase&#39;s parameter.  For example, for</span>
<span class="sd">        STRESS(PLOT,POST)=ALL:</span>
<span class="sd">            param_name=STRESS</span>
<span class="sd">            value=ALL</span>
<span class="sd">            options=[&#39;PLOT&#39;, &#39;POST&#39;]</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        isubcase : int</span>
<span class="sd">            the subcase ID to check</span>
<span class="sd">        param_name : str</span>
<span class="sd">            the parameter name to look for</span>
<span class="sd">        obj : bool; default=False</span>
<span class="sd">            should the object be returned</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_subcase</span><span class="p">(</span><span class="n">isubcase</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">subcases</span><span class="p">[</span><span class="n">isubcase</span><span class="p">]</span><span class="o">.</span><span class="n">get_parameter</span><span class="p">(</span><span class="n">param_name</span><span class="o">.</span><span class="n">upper</span><span class="p">(),</span> <span class="n">obj</span><span class="o">=</span><span class="n">obj</span><span class="p">)</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;isubcase=</span><span class="si">%r</span><span class="s1"> does not exist...subcases=</span><span class="si">%s</span><span class="s1">&#39;</span>
               <span class="o">%</span> <span class="p">(</span><span class="n">isubcase</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">subcases</span><span class="o">.</span><span class="n">keys</span><span class="p">()))))</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span></div>

<div class="viewcode-block" id="CaseControlDeck.has_subcase"><a class="viewcode-back" href="../../../reference/bdf/pyNastran.bdf.case_control_deck.html#pyNastran.bdf.case_control_deck.CaseControlDeck.has_subcase">[docs]</a>    <span class="k">def</span> <span class="nf">has_subcase</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">isubcase</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks to see if a subcase exists.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        isubcase : int</span>
<span class="sd">            the subcase ID</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        val : bool</span>
<span class="sd">            does_subcase_exist (type = bool)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">isubcase</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">subcases</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="CaseControlDeck.create_new_subcase"><a class="viewcode-back" href="../../../reference/bdf/pyNastran.bdf.case_control_deck.html#pyNastran.bdf.case_control_deck.CaseControlDeck.create_new_subcase">[docs]</a>    <span class="k">def</span> <span class="nf">create_new_subcase</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">isubcase</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Subcase</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Method create_new_subcase:</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        isubcase : int</span>
<span class="sd">            the subcase ID</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        subcase : Subcase()</span>
<span class="sd">            the new subcase</span>

<span class="sd">        .. warning ::  be careful you dont add data to the global subcase</span>
<span class="sd">                       after running this...is this True???</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1">#print(&quot;creating subcase=%s&quot; % isubcase)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_subcase</span><span class="p">(</span><span class="n">isubcase</span><span class="p">):</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;subcase=</span><span class="si">%s</span><span class="s1"> already exists...skipping</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span>
                             <span class="n">isubcase</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">subcases</span><span class="p">[</span><span class="n">isubcase</span><span class="p">]</span>
        <span class="n">subcase</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">copy_subcase</span><span class="p">(</span><span class="n">i_from_subcase</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">i_to_subcase</span><span class="o">=</span><span class="n">isubcase</span><span class="p">,</span>
                                    <span class="n">overwrite_subcase</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="c1">#self.subcases[isubcase] = Subcase(id=isubcase)</span>
        <span class="k">return</span> <span class="n">subcase</span></div>

<div class="viewcode-block" id="CaseControlDeck.delete_subcase"><a class="viewcode-back" href="../../../reference/bdf/pyNastran.bdf.case_control_deck.html#pyNastran.bdf.case_control_deck.CaseControlDeck.delete_subcase">[docs]</a>    <span class="k">def</span> <span class="nf">delete_subcase</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">isubcase</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Deletes a subcase.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        isubcase : int</span>
<span class="sd">            the Subcase to delete</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_subcase</span><span class="p">(</span><span class="n">isubcase</span><span class="p">):</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;subcase </span><span class="si">%s</span><span class="s1"> doesnt exist...skipping</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">isubcase</span><span class="p">)</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">subcases</span><span class="p">[</span><span class="n">isubcase</span><span class="p">]</span></div>

<div class="viewcode-block" id="CaseControlDeck.copy_subcase"><a class="viewcode-back" href="../../../reference/bdf/pyNastran.bdf.case_control_deck.html#pyNastran.bdf.case_control_deck.CaseControlDeck.copy_subcase">[docs]</a>    <span class="k">def</span> <span class="nf">copy_subcase</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i_from_subcase</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">i_to_subcase</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                     <span class="n">overwrite_subcase</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Subcase</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Overwrites the parameters from one subcase to another.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        i_from_subcase : int</span>
<span class="sd">            the Subcase to pull the data from</span>
<span class="sd">        i_to_subcase : int</span>
<span class="sd">            the Subcase to map the data to</span>
<span class="sd">        overwrite_subcase : bool; default=True</span>
<span class="sd">            NULLs i_to_subcase before copying i_from_subcase</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        subcase : Subcase()</span>
<span class="sd">            the new subcase</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1">#print(&quot;copying subcase from=%s to=%s overwrite=%s&quot; % (</span>
            <span class="c1">#i_from_subcase, i_to_subcase, overwrite_subcase))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_subcase</span><span class="p">(</span><span class="n">i_from_subcase</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;i_from_subcase=</span><span class="si">%r</span><span class="s1"> does not exist...subcases=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span>
                <span class="n">i_from_subcase</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">subcases</span><span class="o">.</span><span class="n">keys</span><span class="p">())))</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">overwrite_subcase</span><span class="p">:</span>
            <span class="n">subcase_from</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">subcases</span><span class="p">[</span><span class="n">i_from_subcase</span><span class="p">]</span>
            <span class="n">subcase_to</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">subcase_from</span><span class="p">)</span>
            <span class="n">subcase_to</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">i_to_subcase</span>
            <span class="c1">#for key, param in sorted(subcase_from.params.items()):</span>
                <span class="c1">#print(&quot;going to copy key=%s param=%s&quot; % (key, param))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">subcases</span><span class="p">[</span><span class="n">i_to_subcase</span><span class="p">]</span> <span class="o">=</span> <span class="n">subcase_to</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_subcase</span><span class="p">(</span><span class="n">i_to_subcase</span><span class="p">):</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;i_from_subcase=</span><span class="si">%r</span><span class="s1"> does not exist...subcases=</span><span class="si">%s</span><span class="s1">&#39;</span>
                       <span class="o">%</span> <span class="p">(</span><span class="n">i_to_subcase</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">subcases</span><span class="o">.</span><span class="n">keys</span><span class="p">()))))</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="n">subcase_to</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">subcases</span><span class="p">[</span><span class="n">i_to_subcase</span><span class="p">]</span>

            <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">param</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">subcase_to</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                <span class="c1">#print(&#39;copying key=%s param=%s&#39; % (key, param))</span>
                <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">&#39;BEGIN&#39;</span><span class="p">:</span>
                    <span class="k">pass</span>
                <span class="n">subcase_to</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">param</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">subcase_to</span></div>

<div class="viewcode-block" id="CaseControlDeck.get_subcase_list"><a class="viewcode-back" href="../../../reference/bdf/pyNastran.bdf.case_control_deck.html#pyNastran.bdf.case_control_deck.CaseControlDeck.get_subcase_list">[docs]</a>    <span class="k">def</span> <span class="nf">get_subcase_list</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the list of subcases including the global subcase ID (0)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">subcases</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span></div>

<div class="viewcode-block" id="CaseControlDeck.get_local_subcase_list"><a class="viewcode-back" href="../../../reference/bdf/pyNastran.bdf.case_control_deck.html#pyNastran.bdf.case_control_deck.CaseControlDeck.get_local_subcase_list">[docs]</a>    <span class="k">def</span> <span class="nf">get_local_subcase_list</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the list of subcases that aren&#39;t the global subcase ID</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">id_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">idi</span> <span class="k">for</span> <span class="n">idi</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">subcases</span> <span class="k">if</span> <span class="n">idi</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">]</span>  <span class="c1"># skip the global</span>
        <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">id_list</span><span class="p">)</span></div>

<div class="viewcode-block" id="CaseControlDeck.update_solution"><a class="viewcode-back" href="../../../reference/bdf/pyNastran.bdf.case_control_deck.html#pyNastran.bdf.case_control_deck.CaseControlDeck.update_solution">[docs]</a>    <span class="k">def</span> <span class="nf">update_solution</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">isubcase</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">sol</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        sol = STATICS, FLUTTER, MODAL, etc.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        isubcase : int</span>
<span class="sd">            the subcase ID to update</span>
<span class="sd">        sol : str</span>
<span class="sd">            the solution type to change the solution to</span>

<span class="sd">        &gt;&gt;&gt; bdf.case_control</span>
<span class="sd">        SUBCASE 1</span>
<span class="sd">            DISP = ALL</span>

<span class="sd">        &gt;&gt;&gt; bdf.case_control.update_solution(1, &#39;FLUTTER&#39;)</span>
<span class="sd">        &gt;&gt;&gt; bdf.case_control</span>
<span class="sd">        SUBCASE 1</span>
<span class="sd">            ANALYSIS FLUTTER</span>
<span class="sd">            DISP = ALL</span>
<span class="sd">        &gt;&gt;&gt;</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_parameter_to_local_subcase</span><span class="p">(</span><span class="n">isubcase</span><span class="p">,</span> <span class="s1">&#39;ANALYSIS </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">sol</span><span class="p">)</span></div>

<div class="viewcode-block" id="CaseControlDeck.add_parameter_to_global_subcase"><a class="viewcode-back" href="../../../reference/bdf/pyNastran.bdf.case_control_deck.html#pyNastran.bdf.case_control_deck.CaseControlDeck.add_parameter_to_global_subcase">[docs]</a>    <span class="k">def</span> <span class="nf">add_parameter_to_global_subcase</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">param</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Takes in a single-lined string and adds it to the global subcase.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        param : str</span>
<span class="sd">            the variable to add</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        dont worry about overbounding the line</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; bdf = BDF()</span>
<span class="sd">        &gt;&gt;&gt; bdf.read_bdf(bdf_filename)</span>
<span class="sd">        &gt;&gt;&gt; bdf.case_control.add_parameter_to_global_subcase(&#39;DISP=ALL&#39;)</span>
<span class="sd">        &gt;&gt;&gt; bdf.case_control</span>
<span class="sd">        TITLE = DUMMY LINE</span>
<span class="sd">        DISP = ALL</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="p">(</span><span class="n">unused_j</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">param_type</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parse_data_from_user</span><span class="p">(</span><span class="n">param</span><span class="p">)</span>
        <span class="n">subcase_list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_subcase_list</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">isubcase</span> <span class="ow">in</span> <span class="n">subcase_list</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_add_parameter_to_subcase</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">param_type</span><span class="p">,</span>
                                           <span class="n">isubcase</span><span class="p">)</span></div>

<div class="viewcode-block" id="CaseControlDeck.add_parameter_to_local_subcase"><a class="viewcode-back" href="../../../reference/bdf/pyNastran.bdf.case_control_deck.html#pyNastran.bdf.case_control_deck.CaseControlDeck.add_parameter_to_local_subcase">[docs]</a>    <span class="k">def</span> <span class="nf">add_parameter_to_local_subcase</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">isubcase</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">param</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Takes in a single-lined string and adds it to a single Subcase.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        isubcase : int</span>
<span class="sd">            the subcase ID to add</span>
<span class="sd">        param_name : List[str]</span>
<span class="sd">            the parameter name to add</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        dont worry about overbounding the line</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; bdf = BDF()</span>
<span class="sd">        &gt;&gt;&gt; bdf.read_bdf(bdf_filename)</span>
<span class="sd">        &gt;&gt;&gt; bdf.case_control.add_parameter_to_local_subcase(1, &#39;DISP=ALL&#39;)</span>
<span class="sd">        &gt;&gt;&gt; print(bdf.case_control)</span>
<span class="sd">        TITLE = DUMMY LINE</span>
<span class="sd">        SUBCASE 1</span>
<span class="sd">            DISP = ALL</span>
<span class="sd">        &gt;&gt;&gt;</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="p">(</span><span class="n">unused_j</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">param_type</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parse_data_from_user</span><span class="p">(</span><span class="n">param</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_add_parameter_to_subcase</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">param_type</span><span class="p">,</span>
                                       <span class="n">isubcase</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">_parse_data_from_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">param</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Parses a case control line</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        param : str</span>
<span class="sd">            the variable to add</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="ow">in</span> <span class="n">param</span> <span class="ow">or</span> <span class="s1">&#39;</span><span class="se">\r</span><span class="s1">&#39;</span> <span class="ow">in</span> <span class="n">param</span> <span class="ow">or</span> <span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span> <span class="ow">in</span> <span class="n">param</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;doesnt support embedded endline/tab characters</span><span class="se">\n</span><span class="s1">&#39;</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;  param = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">param</span>
            <span class="k">raise</span> <span class="ne">SyntaxError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="c1">#self.read([param])</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="n">_clean_lines</span><span class="p">([</span><span class="n">param</span><span class="p">])</span>
        <span class="p">(</span><span class="n">j</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">param_type</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parse_entry</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">j</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">param_type</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_read</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">lines</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Reads the case control deck</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        supports comment lines</span>

<span class="sd">        .. warning:: doesnt check for 72 character width lines, but will</span>
<span class="sd">                     follow that when it&#39;s written out</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">isubcase</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="n">_clean_lines</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_lines</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="c1">#is_output_lines = False</span>
        <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">):</span>
            <span class="n">line</span> <span class="o">=</span> <span class="n">lines</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="c1">#[:72]</span>
            <span class="c1">#comment = lines[i][72:]</span>

            <span class="n">lines2</span> <span class="o">=</span> <span class="p">[</span><span class="n">line</span><span class="p">]</span>
            <span class="k">while</span> <span class="s1">&#39;,&#39;</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
                <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">lines2</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">lines</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="c1">#comment = lines[i][72:]</span>
            <span class="p">(</span><span class="n">j</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">param_type</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parse_entry</span><span class="p">(</span><span class="n">lines2</span><span class="p">)</span>
            <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>

            <span class="n">line_upper</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">&#39;BEGIN&#39;</span><span class="p">:</span>
                <span class="c1">#if (&#39;NLSTEP&#39; in line_upper or &#39;SUBSTEP&#39; in line_upper or &#39;SUBSEQ&#39; in line_upper or</span>
                    <span class="c1">#&#39;SUBCOM&#39; in line_upper or &#39;REPCASE&#39; in line_upper or &#39;NONLINEAR&#39; in line_upper):</span>
                    <span class="c1">#asdfadsf</span>
                <span class="k">if</span> <span class="s1">&#39;BULK&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">line_upper</span> <span class="ow">and</span> <span class="s1">&#39;SUPER&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">line_upper</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s1">&#39;line=</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">line</span><span class="p">)</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_begin_count</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s1">&#39;multiple BEGIN lines are defined...&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">begin_bulk</span> <span class="o">=</span> <span class="p">[</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_begin_count</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">continue</span>
            <span class="k">elif</span> <span class="n">line_upper</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">):</span>
                <span class="c1">#is_output_lines = True</span>
                <span class="c1">#output_line = &#39;%s(%s) = %s\n&#39; % (key, options, value)</span>
                <span class="n">key</span> <span class="o">=</span> <span class="s1">&#39;OUTPUT&#39;</span>

                <span class="c1"># OUTPUT(POST) -&gt; POST</span>
                <span class="n">post</span> <span class="o">=</span> <span class="n">line_upper</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;( )&#39;</span><span class="p">)</span>
                <span class="n">options</span> <span class="o">=</span> <span class="p">[</span><span class="n">post</span><span class="p">]</span>
                <span class="n">value</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="n">param_type</span> <span class="o">=</span> <span class="s1">&#39;STRESS-type&#39;</span>

                <span class="n">isubcase</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_add_parameter_to_subcase</span><span class="p">(</span>
                    <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">param_type</span><span class="p">,</span> <span class="n">isubcase</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">output_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
                <span class="k">continue</span>
            <span class="c1">#print(&quot;key=%-12r icase=%i value=%r options=%r param_type=%r&quot; % (</span>
                <span class="c1">#key, isubcase, value, options, param_type))</span>
            <span class="n">isubcase</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_add_parameter_to_subcase</span><span class="p">(</span>
                <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">param_type</span><span class="p">,</span> <span class="n">isubcase</span><span class="p">)</span>

        <span class="c1">#print(str(self))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">finish_subcases</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_parse_entry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">lines</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Internal method for parsing a card of the case control deck</span>

<span class="sd">        Parses a single case control deck card into 4 sections</span>

<span class="sd">        1.  param_name - obvious</span>
<span class="sd">        2.  Value      - still kind of obvious</span>
<span class="sd">        3.  options    - rarely used data</span>
<span class="sd">        4.  param_type - STRESS-type, SUBCASE-type, PARAM-type, SET-type, BEGIN_BULK-type</span>

<span class="sd">        It&#39;s easier with examples:</span>

<span class="sd">        param_type = SUBCASE-type</span>
<span class="sd">          SUBCASE 1              -&gt;   paramName=SUBCASE  value=1            options=[]</span>
<span class="sd">        param_type = STRESS-type</span>
<span class="sd">          STRESS       = ALL     -&gt;   paramName=STRESS    value=ALL         options=[]</span>
<span class="sd">          STRAIN(PLOT) = 5       -&gt;   paramName=STRAIN    value=5           options=[PLOT]</span>
<span class="sd">          TITLE        = stuff   -&gt;   paramName=TITLE     value=stuff       options=[]</span>
<span class="sd">        param_type = SET-type</span>
<span class="sd">          SET 1 = 10,20,30       -&gt;   paramName=SET       value=[10,20,30]  options = 1</span>
<span class="sd">        param_type = BEGIN_BULK-type</span>
<span class="sd">          BEGIN BULK             -&gt;   paramName=BEGIN     value=BULK        options = []</span>
<span class="sd">        param_type = CSV-type</span>
<span class="sd">          PARAM,FIXEDB,-1        -&gt;   paramName=PARAM     value=FIXEDB      options = [-1]</span>

<span class="sd">        The param_type is the &quot;macro&quot; form of the data (similar to integer, float, string).</span>
<span class="sd">        The value is generally whats on the RHS of the equals sign (assuming it&#39;s there).</span>
<span class="sd">        Options are modifiers on the data.  Form things like the PARAM card or the SET card</span>
<span class="sd">        they arent as clear, but the param_type lets the program know how to format it</span>
<span class="sd">        when writing it out.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        lines : List[str, str, ...]</span>
<span class="sd">            list of lines</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        paramName : str</span>
<span class="sd">            see brief</span>
<span class="sd">        value : List[...]</span>
<span class="sd">            see brief</span>
<span class="sd">        options : List[str/int/float]</span>
<span class="sd">            see brief</span>
<span class="sd">        param_type : str/int/float/List</span>
<span class="sd">            see brief</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">options</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">value</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">key</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">param_type</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="n">line</span> <span class="o">=</span> <span class="n">lines</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="c1">#print(line)</span>
        <span class="c1">#print(&quot;*****lines = &quot;, lines)</span>

        <span class="n">equals_count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">line</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">letter</span> <span class="o">==</span> <span class="s1">&#39;=&#39;</span><span class="p">:</span>
                <span class="n">equals_count</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">line_upper</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="o">.</span><span class="n">expandtabs</span><span class="p">()</span>

        <span class="c1">#print(&quot;line_upper = %r&quot; % line)</span>
        <span class="c1">#print(&#39;  equals_count = %s&#39; % equals_count)</span>
        <span class="k">if</span> <span class="n">line_upper</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;SUBCASE&#39;</span><span class="p">):</span>
            <span class="n">param_type</span> <span class="o">=</span> <span class="n">split_equal_space</span><span class="p">(</span><span class="n">line_upper</span><span class="p">,</span> <span class="s1">&#39;SUBCASE&#39;</span><span class="p">,</span> <span class="s1">&#39;SUBCASE = 5&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39; &#39;</span> <span class="ow">in</span> <span class="n">param_type</span><span class="p">:</span>
                <span class="c1"># SUBCASE 1 STATIC</span>
                <span class="n">param_type</span> <span class="o">=</span> <span class="n">param_type</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;key=</span><span class="si">{</span><span class="n">key</span><span class="si">!r}</span><span class="s2"> param_type=</span><span class="si">{</span><span class="n">param_type</span><span class="si">!r}</span><span class="s2"> line_upper=</span><span class="si">{</span><span class="n">line_upper</span><span class="si">!r}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="n">key</span> <span class="o">=</span> <span class="s1">&#39;SUBCASE&#39;</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">param_type</span><span class="p">,</span> <span class="n">line_upper</span><span class="p">)</span>
            <span class="c1">#self.isubcase = int(isubcase)</span>
            <span class="n">param_type</span> <span class="o">=</span> <span class="s1">&#39;SUBCASE-type&#39;</span>
            <span class="k">assert</span> <span class="n">key</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">==</span> <span class="n">key</span><span class="p">,</span> <span class="n">key</span>

        <span class="k">elif</span> <span class="n">line_upper</span><span class="o">.</span><span class="n">startswith</span><span class="p">((</span><span class="s1">&#39;LABEL&#39;</span><span class="p">,</span> <span class="s1">&#39;SUBT&#39;</span><span class="p">,</span> <span class="s1">&#39;TITL&#39;</span><span class="p">)):</span>  <span class="c1"># SUBTITLE/TITLE</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">eindex</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;cannot find an = sign in LABEL/SUBTITLE/TITLE line</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot;line = </span><span class="si">%r</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">line_upper</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

            <span class="n">key</span> <span class="o">=</span> <span class="n">line_upper</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">eindex</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">line</span><span class="p">[</span><span class="n">eindex</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="n">options</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">param_type</span> <span class="o">=</span> <span class="s1">&#39;STRING-type&#39;</span>
        <span class="k">elif</span> <span class="n">line_upper</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;SET &#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">equals_count</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">obj</span> <span class="o">=</span> <span class="n">SET</span><span class="o">.</span><span class="n">add_from_case_control</span><span class="p">(</span><span class="n">line_upper</span><span class="p">,</span> <span class="n">lines</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
            <span class="c1">#if 0:</span>
                <span class="c1">#key = obj.key</span>
                <span class="c1">#options = None</span>
                <span class="c1">#value = obj</span>
                <span class="c1">#param_type = &#39;OBJ-type&#39;</span>
            <span class="c1">#else:</span>
            <span class="n">key</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">key</span>
            <span class="n">options</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">set_id</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">value</span>
            <span class="n">param_type</span> <span class="o">=</span> <span class="s1">&#39;SET-type&#39;</span>
        <span class="k">elif</span> <span class="n">line_upper</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;SETMC &#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">equals_count</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">obj</span> <span class="o">=</span> <span class="n">SETMC</span><span class="o">.</span><span class="n">add_from_case_control</span><span class="p">(</span><span class="n">line_upper</span><span class="p">,</span> <span class="n">lines</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
            <span class="c1">#if 0:</span>
                <span class="c1">#key = obj.key</span>
                <span class="c1">#options = None</span>
                <span class="c1">#value = obj</span>
                <span class="c1">#param_type = &#39;OBJ-type&#39;</span>
            <span class="c1">#else:</span>
            <span class="n">key</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">key</span>  <span class="c1"># type: str</span>
            <span class="n">options</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">set_id</span>  <span class="c1"># type: List[int]</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">value</span>  <span class="c1"># type: int</span>
            <span class="n">param_type</span> <span class="o">=</span> <span class="s1">&#39;SET-type&#39;</span>

        <span class="c1">#elif line_upper.startswith(CHECK_CARD_NAMES) and self.use_card_dict:</span>
            <span class="c1">#if &#39;(&#39; in line:</span>
                <span class="c1">#key = line_upper.strip().split(&#39;(&#39;, 1)[0].strip()</span>
            <span class="c1">#elif &#39;=&#39; in line:</span>
                <span class="c1">#key = line_upper.strip().split(&#39;=&#39;, 1)[0].strip()</span>
            <span class="c1">#else:</span>
                <span class="c1">#msg = &#39;expected item of form &quot;name = value&quot;   line=%r&#39; % line.strip()</span>
                <span class="c1">#raise RuntimeError(msg)</span>

            <span class="c1">#key = update_param_name(key)</span>
            <span class="c1">#obj = CHECK_CARD_DICT[key].add_from_case_control(line, line_upper, lines, i)</span>
            <span class="c1">#value = obj.value</span>
            <span class="c1">#options = obj.options</span>
            <span class="c1">#param_type = &#39;STRESS-type&#39;</span>
            <span class="c1">#key = obj.type</span>

        <span class="c1">#elif line_upper.startswith(INT_CARD_NAMES) and self.use_card_dict:</span>
            <span class="c1">#if &#39;=&#39; in line:</span>
                <span class="c1">#(name, value) = line_upper.strip().split(&#39;=&#39;)</span>
            <span class="c1">#else:</span>
                <span class="c1">#msg = &#39;expected item of form &quot;name = value&quot;   line=%r&#39; % line.strip()</span>
                <span class="c1">#raise RuntimeError(msg)</span>
            <span class="c1">#name = update_param_name(name)</span>
            <span class="c1">#obj = INT_CARD_DICT[name].add_from_case_control(line, line_upper, lines, i)</span>
            <span class="c1">#key = obj.type</span>
            <span class="c1">##if 0:</span>
                <span class="c1">##value = obj.value</span>
                <span class="c1">##options = []</span>
                <span class="c1">##param_type = &#39;STRESS-type&#39;</span>
            <span class="c1">##else:</span>
            <span class="c1">#value = obj</span>
            <span class="c1">#options = None</span>
            <span class="c1">#param_type = &#39;OBJ-type&#39;</span>
            <span class="c1">#key = obj.type</span>

        <span class="c1">#elif line_upper.startswith(INTSTR_CARD_NAMES) and self.use_card_dict:</span>
            <span class="c1">#if &#39;=&#39; in line:</span>
                <span class="c1">#(name, value) = line_upper.strip().split(&#39;=&#39;)</span>
            <span class="c1">#else:</span>
                <span class="c1">#msg = &#39;expected item of form &quot;name = value&quot;   line=%r&#39; % line.strip()</span>
                <span class="c1">#raise RuntimeError(msg)</span>
            <span class="c1">#name = name.strip()</span>
            <span class="c1">#obj = INTSTR_CARD_DICT[name].add_from_case_control(line, line_upper, lines, i)</span>
            <span class="c1">#key = obj.type</span>
            <span class="c1">##if 0:</span>
                <span class="c1">##value = obj.value</span>
                <span class="c1">##options = []</span>
                <span class="c1">##param_type = &#39;STRESS-type&#39;</span>
            <span class="c1">##else:</span>
            <span class="c1">#value = obj</span>
            <span class="c1">#options = None</span>
            <span class="c1">#param_type = &#39;OBJ-type&#39;</span>
            <span class="c1">#key = obj.type</span>

        <span class="k">elif</span> <span class="n">line_upper</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;EXTSEOUT&#39;</span><span class="p">):</span>
            <span class="n">options</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">param_type</span> <span class="o">=</span> <span class="s1">&#39;OBJ-type&#39;</span>
            <span class="n">obj</span> <span class="o">=</span> <span class="n">EXTSEOUT</span><span class="o">.</span><span class="n">add_from_case_control</span><span class="p">(</span><span class="n">line_upper</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">obj</span>
            <span class="n">key</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">type</span>
        <span class="k">elif</span> <span class="n">line_upper</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;WEIGHTCHECK&#39;</span><span class="p">):</span>
            <span class="n">options</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">param_type</span> <span class="o">=</span> <span class="s1">&#39;OBJ-type&#39;</span>
            <span class="n">obj</span> <span class="o">=</span> <span class="n">WEIGHTCHECK</span><span class="o">.</span><span class="n">add_from_case_control</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">line_upper</span><span class="p">,</span> <span class="n">lines</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">obj</span>
            <span class="n">key</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">type</span>
        <span class="k">elif</span> <span class="n">line_upper</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;GROUNDCHECK&#39;</span><span class="p">):</span>
            <span class="n">options</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">param_type</span> <span class="o">=</span> <span class="s1">&#39;OBJ-type&#39;</span>
            <span class="n">obj</span> <span class="o">=</span> <span class="n">GROUNDCHECK</span><span class="o">.</span><span class="n">add_from_case_control</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">line_upper</span><span class="p">,</span> <span class="n">lines</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">obj</span>
            <span class="n">key</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">type</span>
        <span class="k">elif</span> <span class="n">line_upper</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;MODCON&#39;</span><span class="p">):</span>
            <span class="n">options</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">param_type</span> <span class="o">=</span> <span class="s1">&#39;OBJ-type&#39;</span>
            <span class="n">obj</span> <span class="o">=</span> <span class="n">MODCON</span><span class="o">.</span><span class="n">add_from_case_control</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">line_upper</span><span class="p">,</span> <span class="n">lines</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">obj</span>
            <span class="n">key</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">type</span>
        <span class="c1">#elif line_upper.startswith(&#39;AUXMODEL&#39;):</span>
            <span class="c1">#options = None</span>
            <span class="c1">#param_type = &#39;OBJ-type&#39;</span>
            <span class="c1">#value = AUXMODEL.add_from_case_control(line, line_upper, lines, i)</span>
            <span class="c1">#key = value.type</span>

        <span class="c1">#elif line_upper.startswith(STR_CARD_NAMES):</span>
            <span class="c1">#if &#39;=&#39; in line:</span>
                <span class="c1">#(name, value) = line_upper.strip().split(&#39;=&#39;)</span>
            <span class="c1">#else:</span>
                <span class="c1">#msg = &#39;expected item of form &quot;name = value&quot;   line=%r&#39; % line.strip()</span>
                <span class="c1">#raise RuntimeError(msg)</span>
            <span class="c1">#name = name.strip()</span>
            <span class="c1">#obj = STR_CARD_DICT[name].add_from_case_control(line, line_upper, lines, i)</span>
            <span class="c1">#value = obj</span>
            <span class="c1">#options = None</span>
            <span class="c1">#param_type = &#39;OBJ-type&#39;</span>
            <span class="c1">#key = obj.type</span>

        <span class="k">elif</span> <span class="n">line_upper</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;TEMP&#39;</span><span class="p">):</span>
            <span class="k">if</span> <span class="s1">&#39;=&#39;</span> <span class="ow">in</span> <span class="n">line</span><span class="p">:</span>
                <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="o">=</span> <span class="n">line_upper</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;expected item of form &quot;name = value&quot;   line=</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">assert</span> <span class="n">equals_count</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span> <span class="n">line_upper</span>
            <span class="k">if</span> <span class="s1">&#39;(&#39;</span> <span class="ow">in</span> <span class="n">line_upper</span><span class="p">:</span>
                <span class="n">options</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="n">param_type</span> <span class="o">=</span> <span class="s1">&#39;STRESS-type&#39;</span>
                <span class="n">key</span> <span class="o">=</span> <span class="n">key</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;key=</span><span class="si">%r</span><span class="s2"> value=</span><span class="si">%r</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span>
                <span class="n">param_type</span> <span class="o">=</span> <span class="s1">&#39;STRESS-type&#39;</span>
                <span class="k">assert</span> <span class="n">key</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">==</span> <span class="n">key</span><span class="p">,</span> <span class="n">key</span>

                <span class="c1">#param_type = &#39;STRESS-type&#39;</span>
                <span class="n">sline</span> <span class="o">=</span> <span class="n">key</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;(&#39;</span><span class="p">)</span>
                <span class="n">key</span> <span class="o">=</span> <span class="n">sline</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">options</span> <span class="o">=</span> <span class="n">sline</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>

                <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">options</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span> <span class="n">line_upper</span>
                <span class="c1"># handle TEMPERATURE(INITIAL) and TEMPERATURE(LOAD) cards</span>
                <span class="n">key</span> <span class="o">=</span> <span class="s1">&#39;TEMPERATURE(</span><span class="si">%s</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="n">options</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                <span class="n">options</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">key</span> <span class="o">=</span> <span class="s1">&#39;TEMPERATURE(BOTH)&#39;</span>
                <span class="n">options</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="n">param_type</span> <span class="o">=</span> <span class="s1">&#39;STRESS-type&#39;</span>
            <span class="n">value</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">line_upper</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;RIGID&#39;</span><span class="p">):</span>
            <span class="k">if</span> <span class="s1">&#39;=&#39;</span> <span class="ow">in</span> <span class="n">line</span><span class="p">:</span>
                <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="o">=</span> <span class="n">line_upper</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="p">)</span>
                <span class="n">key</span> <span class="o">=</span> <span class="n">key</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;expected item of form &quot;name = value&quot;   line=</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="c1">#print(&#39;line_upper=%r&#39; % line_upper)</span>
            <span class="k">assert</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">&#39;RIGID&#39;</span><span class="p">,</span> <span class="s1">&#39;key=</span><span class="si">%r</span><span class="s1"> value=</span><span class="si">%r</span><span class="s1"> line=</span><span class="si">%r</span><span class="s1">&#39;</span>  <span class="o">%</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">line</span><span class="p">)</span>
            <span class="n">param_type</span> <span class="o">=</span> <span class="s1">&#39;STRESS-type&#39;</span>
            <span class="n">options</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="c1">#RIGID = LAGR, LGELIM, LAGRANGE, STIFF, LINEAR</span>
            <span class="k">if</span> <span class="n">value</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;LAGR&#39;</span><span class="p">,</span> <span class="s1">&#39;LAGRAN&#39;</span><span class="p">]:</span>
                <span class="n">value</span> <span class="o">=</span> <span class="s1">&#39;LAGRANGE&#39;</span>
            <span class="k">elif</span> <span class="n">value</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;LGELIM&#39;</span><span class="p">,</span> <span class="s1">&#39;LAGRANGE&#39;</span><span class="p">,</span> <span class="s1">&#39;STIFF&#39;</span><span class="p">,</span> <span class="s1">&#39;LINEAR&#39;</span><span class="p">,</span> <span class="s1">&#39;AUTO&#39;</span><span class="p">]:</span>
                <span class="k">pass</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s1">&#39;key=</span><span class="si">%r</span><span class="s1"> value=</span><span class="si">%r</span><span class="s1"> line=</span><span class="si">%r</span><span class="s1">&#39;</span>  <span class="o">%</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">line</span><span class="p">))</span>

        <span class="k">elif</span> <span class="n">equals_count</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1"># STRESS</span>
            <span class="k">if</span> <span class="s1">&#39;=&#39;</span> <span class="ow">in</span> <span class="n">line</span><span class="p">:</span>
                <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="o">=</span> <span class="n">line_upper</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;expected item of form &quot;name = value&quot;   line=</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

            <span class="n">key</span> <span class="o">=</span> <span class="n">key</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;key=</span><span class="si">%r</span><span class="s2"> value=</span><span class="si">%r</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span>
            <span class="n">param_type</span> <span class="o">=</span> <span class="s1">&#39;STRESS-type&#39;</span>
            <span class="k">assert</span> <span class="n">key</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">==</span> <span class="n">key</span><span class="p">,</span> <span class="n">key</span>

            <span class="k">if</span> <span class="s1">&#39;(&#39;</span> <span class="ow">in</span> <span class="n">key</span><span class="p">:</span>  <span class="c1"># comma may be in line - STRESS-type</span>
                <span class="c1">#param_type = &#39;STRESS-type&#39;</span>
                <span class="n">sline</span> <span class="o">=</span> <span class="n">key</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;(&#39;</span><span class="p">)</span>
                <span class="n">key</span> <span class="o">=</span> <span class="n">sline</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">options</span> <span class="o">=</span> <span class="n">sline</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>

            <span class="k">elif</span> <span class="s1">&#39;,&#39;</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>  <span class="c1"># STRESS-type; special TITLE = stuffA,stuffB</span>
                <span class="c1">#print(&#39;A ??? line = &#39;,line)</span>
                <span class="c1">#raise RuntimeError(line)</span>
                <span class="k">pass</span>
            <span class="k">else</span><span class="p">:</span>  <span class="c1"># STRESS-type; TITLE = stuff</span>
                <span class="c1">#print(&#39;B ??? line = &#39;,line)</span>
                <span class="k">pass</span>

            <span class="n">key</span> <span class="o">=</span> <span class="n">update_param_name</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
            <span class="n">verify_card</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">line</span><span class="p">)</span>
            <span class="k">assert</span> <span class="n">key</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">==</span> <span class="n">key</span><span class="p">,</span> <span class="n">key</span>
        <span class="k">elif</span> <span class="n">equals_count</span> <span class="o">&gt;</span> <span class="mi">2</span> <span class="ow">and</span> <span class="s1">&#39;(&#39;</span> <span class="ow">in</span> <span class="n">line</span> <span class="ow">and</span> <span class="s1">&#39;FLSPOUT&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">line</span><span class="p">:</span>
            <span class="c1">#GROUNDCHECK(PRINT,SET=(G,N,N+AUTOSPC,F,A),DATAREC=NO)=YES</span>
            <span class="c1">#print(&#39;****&#39;, lines)</span>
            <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span> <span class="n">lines</span>
            <span class="n">line</span> <span class="o">=</span> <span class="n">lines</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">key</span><span class="p">,</span> <span class="n">value_options</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;(&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;Expected a &quot;(&quot;, but did not find one.</span><span class="se">\n</span><span class="s1">&#39;</span>
                <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;Looking for something of the form:</span><span class="se">\n</span><span class="s1">&#39;</span>
                <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;   GROUNDCHECK(PRINT,SET=(G,N,N+AUTOSPC,F,A),DATAREC=NO)=YES</span><span class="se">\n</span><span class="s1">&#39;</span>
                <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">line</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="n">options_paren</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="n">value_options</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;Expected a &quot;=&quot;, but did not find one.</span><span class="se">\n</span><span class="s1">&#39;</span>
                <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;Looking for something of the form:</span><span class="se">\n</span><span class="s1">&#39;</span>
                <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;   GROUNDCHECK(PRINT,SET=(G,N,N+AUTOSPC,F,A),DATAREC=NO)=YES</span><span class="se">\n</span><span class="s1">&#39;</span>
                <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;value_options=</span><span class="si">%r</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">value_options</span>
                <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">line</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="n">options_paren</span> <span class="o">=</span> <span class="n">options_paren</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

            <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">value</span><span class="o">.</span><span class="n">isdigit</span><span class="p">():</span>
                <span class="n">value</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">options_paren</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;)&#39;</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
            <span class="n">str_options</span> <span class="o">=</span> <span class="n">options_paren</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

            <span class="k">if</span> <span class="s1">&#39;(&#39;</span> <span class="ow">in</span> <span class="n">str_options</span><span class="p">:</span>
                <span class="n">options</span> <span class="o">=</span> <span class="n">split_by_mixed_commas_parentheses</span><span class="p">(</span><span class="n">str_options</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">options</span> <span class="o">=</span> <span class="n">str_options</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
            <span class="n">param_type</span> <span class="o">=</span> <span class="s1">&#39;STRESS-type&#39;</span>
            <span class="n">key</span> <span class="o">=</span> <span class="n">key</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>

        <span class="k">elif</span> <span class="n">line_upper</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;BEGIN&#39;</span><span class="p">):</span>  <span class="c1"># begin bulk</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="o">=</span> <span class="n">line_upper</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;excepted &quot;BEGIN BULK&quot; found=</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">line</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="n">key</span> <span class="o">=</span> <span class="n">key</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
            <span class="n">param_type</span> <span class="o">=</span> <span class="s1">&#39;BEGIN_BULK-type&#39;</span>
            <span class="k">assert</span> <span class="n">key</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">==</span> <span class="n">key</span><span class="p">,</span> <span class="n">key</span>
        <span class="k">elif</span> <span class="s1">&#39;PARAM&#39;</span> <span class="ow">in</span> <span class="n">line_upper</span><span class="p">:</span>  <span class="c1"># param</span>
            <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">param_type</span> <span class="o">=</span> <span class="n">_split_param</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">line_upper</span><span class="p">)</span>
        <span class="k">elif</span> <span class="s1">&#39; &#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">line</span><span class="p">:</span>
            <span class="n">key</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="n">options</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">param_type</span> <span class="o">=</span> <span class="s1">&#39;KEY-type&#39;</span>
            <span class="k">assert</span> <span class="n">key</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">==</span> <span class="n">key</span><span class="p">,</span> <span class="n">key</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;generic catch all...line=</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">line</span>
            <span class="n">key</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">line</span>
            <span class="n">options</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">param_type</span> <span class="o">=</span> <span class="s1">&#39;KEY-type&#39;</span>
            <span class="k">assert</span> <span class="n">key</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">==</span> <span class="n">key</span><span class="p">,</span> <span class="n">key</span>
        <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">assert</span> <span class="n">key</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">==</span> <span class="n">key</span><span class="p">,</span> <span class="s1">&#39;key=</span><span class="si">%s</span><span class="s1"> param_type=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">param_type</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">param_type</span><span class="p">)</span>

<div class="viewcode-block" id="CaseControlDeck.finish_subcases"><a class="viewcode-back" href="../../../reference/bdf/pyNastran.bdf.case_control_deck.html#pyNastran.bdf.case_control_deck.CaseControlDeck.finish_subcases">[docs]</a>    <span class="k">def</span> <span class="nf">finish_subcases</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Removes any unwanted data in the subcase...specifically the SUBCASE</span>
<span class="sd">        data member.  Otherwise it will print out after a key like stress.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">subcase</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">subcases</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">subcase</span><span class="o">.</span><span class="n">finish_subcase</span><span class="p">()</span></div>

<div class="viewcode-block" id="CaseControlDeck.convert_to_sol_200"><a class="viewcode-back" href="../../../reference/bdf/pyNastran.bdf.case_control_deck.html#pyNastran.bdf.case_control_deck.CaseControlDeck.convert_to_sol_200">[docs]</a>    <span class="k">def</span> <span class="nf">convert_to_sol_200</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">BDF</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Takes a case control deck and changes it from a SOL xxx to a SOL 200</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        model : BDF()</span>
<span class="sd">            the BDF object</span>

<span class="sd">        .. todo:: not done...</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">analysis</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">rsolmap_to_str</span><span class="p">[</span><span class="n">model</span><span class="o">.</span><span class="n">sol</span><span class="p">]</span>
        <span class="n">model</span><span class="o">.</span><span class="n">sol</span> <span class="o">=</span> <span class="mi">200</span>

        <span class="n">subcase0</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">subcases</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">subcase0</span><span class="o">.</span><span class="n">add_parameter_to_global_subcase</span><span class="p">(</span><span class="s1">&#39;ANALYSIS&#39;</span><span class="p">,</span> <span class="n">analysis</span><span class="p">)</span></div>
        <span class="c1">#subcase.add_parameter_to_global_subcase(&#39;DESSUB&#39;, dessub)</span>

    <span class="k">def</span> <span class="nf">_add_parameter_to_subcase</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">param_type</span><span class="p">,</span> <span class="n">isubcase</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Internal method&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
            <span class="n">a</span> <span class="o">=</span> <span class="s1">&#39;key=</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">key</span>
            <span class="n">b</span> <span class="o">=</span> <span class="s1">&#39;value=</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">value</span>
            <span class="n">c</span> <span class="o">=</span> <span class="s1">&#39;options=</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">options</span>
            <span class="n">d</span> <span class="o">=</span> <span class="s1">&#39;param_type=</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">param_type</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;_adding isubcase=</span><span class="si">%s</span><span class="s2"> </span><span class="si">%-12s</span><span class="s2"> </span><span class="si">%-12s</span><span class="s2"> </span><span class="si">%-12s</span><span class="s2"> </span><span class="si">%-12s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">isubcase</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span>
                                                                   <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">&#39;SUBCASE&#39;</span><span class="p">:</span>
            <span class="k">assert</span> <span class="n">value</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">subcases</span><span class="p">,</span> <span class="s1">&#39;key=</span><span class="si">%s</span><span class="s1"> value=</span><span class="si">%s</span><span class="s1"> already exists&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
            <span class="n">isubcase</span> <span class="o">=</span> <span class="n">value</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">copy_subcase</span><span class="p">(</span><span class="n">i_from_subcase</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">i_to_subcase</span><span class="o">=</span><span class="n">isubcase</span><span class="p">,</span>
                              <span class="n">overwrite_subcase</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;copied subcase i_from_subcase=</span><span class="si">%r</span><span class="s2"> to i_to_subcase=</span><span class="si">%r</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">isubcase</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">isubcase</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">subcases</span><span class="p">:</span>  <span class="c1"># initialize new subcase</span>
            <span class="c1">#self.isubcase += 1 # is handled in the read code</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;isubcase=</span><span class="si">%r</span><span class="s1"> is not a valid subcase...subcases=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span>
                <span class="n">isubcase</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">subcases</span><span class="o">.</span><span class="n">keys</span><span class="p">())))</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="n">subcase</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">subcases</span><span class="p">[</span><span class="n">isubcase</span><span class="p">]</span>
        <span class="n">subcase</span><span class="o">.</span><span class="n">_add_data</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">param_type</span><span class="p">)</span>

        <span class="c1">#print(&quot;\n%s\n&quot; % (self.subcases[isubcase]))</span>
        <span class="k">return</span> <span class="n">isubcase</span>

<div class="viewcode-block" id="CaseControlDeck.cross_reference"><a class="viewcode-back" href="../../../reference/bdf/pyNastran.bdf.case_control_deck.html#pyNastran.bdf.case_control_deck.CaseControlDeck.cross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">cross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">BDF</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Cross links the card so referenced cards can be extracted directly</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        model : BDF()</span>
<span class="sd">            the BDF object</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">unused_isubcase</span><span class="p">,</span> <span class="n">subcase</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">subcases</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="n">subcase</span><span class="o">.</span><span class="n">cross_reference</span><span class="p">(</span><span class="n">model</span><span class="p">)</span></div>

<div class="viewcode-block" id="CaseControlDeck.get_op2_data"><a class="viewcode-back" href="../../../reference/bdf/pyNastran.bdf.case_control_deck.html#pyNastran.bdf.case_control_deck.CaseControlDeck.get_op2_data">[docs]</a>    <span class="k">def</span> <span class="nf">get_op2_data</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the relevant op2 parameters required for a given subcase</span>

<span class="sd">        .. todo:: not done...</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">cases</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">isubcase</span><span class="p">,</span> <span class="n">subcase</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">subcases</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="k">if</span> <span class="n">isubcase</span><span class="p">:</span>
                <span class="n">cases</span><span class="p">[</span><span class="n">isubcase</span><span class="p">]</span> <span class="o">=</span> <span class="n">subcase</span><span class="o">.</span><span class="n">get_op2_data</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sol</span><span class="p">,</span> <span class="n">subcase</span><span class="o">.</span><span class="n">solmap_to_value</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">cases</span></div>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">()</span>

<div class="viewcode-block" id="CaseControlDeck.write"><a class="viewcode-back" href="../../../reference/bdf/pyNastran.bdf.case_control_deck.html#pyNastran.bdf.case_control_deck.CaseControlDeck.write">[docs]</a>    <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">write_begin_bulk</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Writes the case control deck.  Has an option to not write the begin bulk line</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        write_begin_bulk : bool; default=None</span>
<span class="sd">            None: use the value in the original deck</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        msg : str</span>
<span class="sd">            the deck as a string</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">write_begin_bulk</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">write_begin_bulk</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">write_begin_bulk</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="n">subcase0</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">subcases</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">unused_subcase_id</span><span class="p">,</span> <span class="n">subcase</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">subcases</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="n">subcase</span><span class="o">.</span><span class="n">write_subcase</span><span class="p">(</span><span class="n">subcase0</span><span class="p">)</span>
        <span class="c1">#if len(self.subcases) == 1:</span>
            <span class="c1">#msg += &#39;BEGIN BULK\n&#39;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_lines</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output_lines</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">reject_lines</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">write_begin_bulk</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">begin_bulk</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="k">return</span> <span class="n">msg</span></div></div>

<span class="k">def</span> <span class="nf">_split_param</span><span class="p">(</span><span class="n">line</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">line_upper</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;parses a PARAM card&quot;&quot;&quot;</span>
    <span class="n">tabbed_line_upper</span> <span class="o">=</span> <span class="n">line_upper</span><span class="o">.</span><span class="n">expandtabs</span><span class="p">()</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span>
    <span class="k">if</span> <span class="s1">&#39;,&#39;</span> <span class="ow">in</span> <span class="n">tabbed_line_upper</span><span class="p">:</span>
        <span class="n">sline</span> <span class="o">=</span> <span class="n">tabbed_line_upper</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span> <span class="ow">in</span> <span class="n">tabbed_line_upper</span><span class="p">:</span>
        <span class="n">sline</span> <span class="o">=</span> <span class="n">tabbed_line_upper</span><span class="o">.</span><span class="n">expandtabs</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    <span class="k">elif</span> <span class="s1">&#39; &#39;</span> <span class="ow">in</span> <span class="n">tabbed_line_upper</span><span class="p">:</span>
        <span class="n">sline</span> <span class="o">=</span> <span class="n">tabbed_line_upper</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">SyntaxError</span><span class="p">(</span><span class="s2">&quot;trying to parse </span><span class="si">%r</span><span class="s2">...&quot;</span> <span class="o">%</span> <span class="n">line</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sline</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">if</span> <span class="s1">&#39; &#39;</span> <span class="ow">in</span> <span class="n">tabbed_line_upper</span><span class="p">:</span>
            <span class="n">sline</span> <span class="o">=</span> <span class="n">tabbed_line_upper</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sline</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">3</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">SyntaxError</span><span class="p">(</span><span class="s2">&quot;trying to parse </span><span class="si">%r</span><span class="s2">...&quot;</span> <span class="o">%</span> <span class="n">line</span><span class="p">)</span>
    <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span> <span class="o">=</span> <span class="n">sline</span>
    <span class="n">param_type</span> <span class="o">=</span> <span class="s1">&#39;CSV-type&#39;</span>
    <span class="k">assert</span> <span class="n">key</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">==</span> <span class="n">key</span><span class="p">,</span> <span class="n">key</span>
    <span class="k">return</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">param_type</span>

<div class="viewcode-block" id="verify_card"><a class="viewcode-back" href="../../../reference/bdf/pyNastran.bdf.case_control_deck.html#pyNastran.bdf.case_control_deck.verify_card">[docs]</a><span class="k">def</span> <span class="nf">verify_card</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">line</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Make sure there are no obvious errors&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;AUXMODEL&#39;</span><span class="p">,</span> <span class="s1">&#39;BC&#39;</span><span class="p">,</span> <span class="s1">&#39;BCHANGE&#39;</span><span class="p">,</span> <span class="s1">&#39;BCMOVE&#39;</span><span class="p">,</span> <span class="s1">&#39;CAMPBELL&#39;</span><span class="p">,</span> <span class="s1">&#39;CLOAD&#39;</span><span class="p">,</span>
               <span class="s1">&#39;CMETHOD&#39;</span><span class="p">,</span> <span class="s1">&#39;CSSCHD&#39;</span><span class="p">,</span> <span class="s1">&#39;DEACTEL&#39;</span><span class="p">,</span> <span class="s1">&#39;DEFORM&#39;</span><span class="p">,</span> <span class="s1">&#39;DESGLB&#39;</span><span class="p">,</span> <span class="s1">&#39;DESSUB&#39;</span><span class="p">,</span>
               <span class="s1">&#39;DIVERG&#39;</span><span class="p">,</span> <span class="s1">&#39;DLOAD&#39;</span><span class="p">,</span> <span class="s1">&#39;DRSPAN&#39;</span><span class="p">,</span> <span class="s1">&#39;FMETHOD&#39;</span><span class="p">,</span> <span class="s1">&#39;FREQUENCY&#39;</span><span class="p">,</span> <span class="s1">&#39;GUST&#39;</span><span class="p">,</span>
               <span class="s1">&#39;HADAPART&#39;</span><span class="p">,</span> <span class="s1">&#39;LINE&#39;</span><span class="p">,</span> <span class="s1">&#39;LOAD&#39;</span><span class="p">,</span> <span class="s1">&#39;LOADSET&#39;</span><span class="p">,</span> <span class="s1">&#39;MAXLINES&#39;</span><span class="p">,</span> <span class="s1">&#39;MCHSTAT&#39;</span><span class="p">,</span>
               <span class="s1">&#39;MFLUID&#39;</span><span class="p">,</span> <span class="s1">&#39;MODES&#39;</span><span class="p">,</span> <span class="s1">&#39;MODTRAK&#39;</span><span class="p">,</span> <span class="s1">&#39;MPC&#39;</span><span class="p">,</span> <span class="s1">&#39;NLHARM&#39;</span><span class="p">,]:</span>
        <span class="n">value2</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">line</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">value2</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;line=</span><span class="si">%r</span><span class="s1"> is invalid; value=</span><span class="si">%r</span><span class="s1"> must be greater than 0.&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">value2</span><span class="p">)</span></div>

<div class="viewcode-block" id="verify_card2"><a class="viewcode-back" href="../../../reference/bdf/pyNastran.bdf.case_control_deck.html#pyNastran.bdf.case_control_deck.verify_card2">[docs]</a><span class="k">def</span> <span class="nf">verify_card2</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">line</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Make sure there are no obvious errors&quot;&quot;&quot;</span>
    <span class="c1"># this is purposely made overly strict to catch all the cases</span>
    <span class="n">int_cards</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s1">&#39;SPC&#39;</span><span class="p">,</span> <span class="s1">&#39;MPC&#39;</span><span class="p">,</span> <span class="s1">&#39;TRIM&#39;</span><span class="p">,</span> <span class="s1">&#39;FMETHOD&#39;</span><span class="p">,</span> <span class="s1">&#39;METHOD&#39;</span><span class="p">,</span> <span class="s1">&#39;LOAD&#39;</span><span class="p">,</span>
        <span class="s1">&#39;SUPORT&#39;</span><span class="p">,</span> <span class="s1">&#39;SUPORT1&#39;</span><span class="p">,</span> <span class="s1">&#39;TEMPERATURE(INITIAL)&#39;</span><span class="p">,</span> <span class="s1">&#39;TEMPERATURE(LOAD)&#39;</span><span class="p">,</span>
        <span class="s1">&#39;DLOAD&#39;</span><span class="p">,</span> <span class="s1">&#39;MFLUID&#39;</span><span class="p">,</span> <span class="s1">&#39;CLOAD&#39;</span><span class="p">,</span> <span class="s1">&#39;NLPARM&#39;</span><span class="p">,</span> <span class="s1">&#39;CMETHOD&#39;</span><span class="p">,</span>
        <span class="s1">&#39;FREQUENCY&#39;</span><span class="p">,</span> <span class="s1">&#39;TSTEP&#39;</span><span class="p">,</span> <span class="s1">&#39;TSTEPNL&#39;</span><span class="p">,</span> <span class="s1">&#39;SDAMPING&#39;</span><span class="p">,</span> <span class="s1">&#39;DESOBJ&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TEMPERATURE(INIT)&#39;</span><span class="p">,</span> <span class="s1">&#39;RANDOM&#39;</span><span class="p">,</span> <span class="s1">&#39;DESSUB&#39;</span><span class="p">,</span> <span class="s1">&#39;ADAPT&#39;</span><span class="p">,</span> <span class="s1">&#39;MAXLINES&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TFL&#39;</span><span class="p">,</span> <span class="s1">&#39;DESGLB&#39;</span><span class="p">,</span> <span class="s1">&#39;SMETHOD&#39;</span><span class="p">,</span> <span class="s1">&#39;DYNRED&#39;</span><span class="p">,</span> <span class="s1">&#39;GUST&#39;</span><span class="p">,</span> <span class="s1">&#39;TEMPERATURE(MATE)&#39;</span><span class="p">,</span>
        <span class="s1">&#39;OTIME&#39;</span><span class="p">,</span> <span class="s1">&#39;NONLINEAR&#39;</span><span class="p">,</span> <span class="s1">&#39;AUXM&#39;</span><span class="p">,</span> <span class="s1">&#39;IC&#39;</span><span class="p">,</span> <span class="s1">&#39;BC&#39;</span><span class="p">,</span> <span class="s1">&#39;OUTRCV&#39;</span><span class="p">,</span> <span class="s1">&#39;DIVERG&#39;</span><span class="p">,</span>
        <span class="s1">&#39;DATAREC&#39;</span><span class="p">,</span> <span class="s1">&#39;TEMPERATURE(BOTH)&#39;</span><span class="p">,</span> <span class="s1">&#39;DEFORM&#39;</span><span class="p">,</span> <span class="s1">&#39;MODES&#39;</span><span class="p">,</span> <span class="s1">&#39;CASE&#39;</span><span class="p">,</span>
        <span class="s1">&#39;SEDR&#39;</span><span class="p">,</span> <span class="s1">&#39;SELG&#39;</span><span class="p">,</span> <span class="s1">&#39;SEFINAL&#39;</span><span class="p">,</span> <span class="s1">&#39;SEKR&#39;</span><span class="p">,</span> <span class="s1">&#39;TEMPERATURE(ESTIMATE)&#39;</span><span class="p">,</span>
        <span class="s1">&#39;GPSDCON&#39;</span><span class="p">,</span> <span class="s1">&#39;AUXMODEL&#39;</span><span class="p">,</span>
        <span class="s1">&#39;MODTRAK&#39;</span><span class="p">,</span> <span class="s1">&#39;OFREQ&#39;</span><span class="p">,</span> <span class="s1">&#39;DRSPAN&#39;</span><span class="p">,</span> <span class="s1">&#39;OMODES&#39;</span><span class="p">,</span> <span class="s1">&#39;ADACT&#39;</span><span class="p">,</span> <span class="s1">&#39;SERESP&#39;</span><span class="p">,</span> <span class="s1">&#39;STATSUB&#39;</span><span class="p">,</span>
        <span class="s1">&#39;CURVESYM&#39;</span><span class="p">,</span> <span class="s1">&#39;ELSDCON&#39;</span><span class="p">,</span> <span class="s1">&#39;CSSCHD&#39;</span><span class="p">,</span> <span class="s1">&#39;NSM&#39;</span><span class="p">,</span> <span class="s1">&#39;TSTRU&#39;</span><span class="p">,</span> <span class="s1">&#39;RANDVAR&#39;</span><span class="p">,</span>
        <span class="s1">&#39;RGYRO&#39;</span><span class="p">,</span> <span class="s1">&#39;SELR&#39;</span><span class="p">,</span> <span class="s1">&#39;TEMPERATURE(ESTI)&#39;</span><span class="p">,</span> <span class="s1">&#39;RCROSS&#39;</span><span class="p">,</span> <span class="s1">&#39;SERE&#39;</span><span class="p">,</span> <span class="s1">&#39;SEMR&#39;</span><span class="p">,</span>
    <span class="p">]</span>

    <span class="c1"># these may only be integers</span>
    <span class="c1">#print(&quot;key =&quot;, key)</span>

    <span class="n">pass_headers</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s1">&#39;SUBTITLE&#39;</span><span class="p">,</span> <span class="s1">&#39;TITLE&#39;</span><span class="p">,</span>
        <span class="s1">&#39;A2GG&#39;</span><span class="p">,</span> <span class="s1">&#39;M2GG&#39;</span><span class="p">,</span> <span class="s1">&#39;K2GG&#39;</span><span class="p">,</span>
        <span class="s1">&#39;K2PP&#39;</span><span class="p">,</span> <span class="s1">&#39;M2PP&#39;</span><span class="p">,</span>
        <span class="s1">&#39;K42GG&#39;</span><span class="p">,</span>

        <span class="s1">&#39;XMIN&#39;</span><span class="p">,</span> <span class="s1">&#39;XMAX&#39;</span><span class="p">,</span> <span class="s1">&#39;XTITLE&#39;</span><span class="p">,</span> <span class="s1">&#39;XPAPE&#39;</span><span class="p">,</span> <span class="s1">&#39;XPAPER&#39;</span><span class="p">,</span> <span class="s1">&#39;XAXIS&#39;</span><span class="p">,</span> <span class="s1">&#39;XGRID&#39;</span><span class="p">,</span> <span class="s1">&#39;XGRID LINES&#39;</span><span class="p">,</span> <span class="s1">&#39;XLOG&#39;</span><span class="p">,</span>
        <span class="s1">&#39;YMIN&#39;</span><span class="p">,</span> <span class="s1">&#39;YMAX&#39;</span><span class="p">,</span> <span class="s1">&#39;YTITLE&#39;</span><span class="p">,</span> <span class="s1">&#39;YPAPE&#39;</span><span class="p">,</span> <span class="s1">&#39;YPAPER&#39;</span><span class="p">,</span> <span class="s1">&#39;YAXIS&#39;</span><span class="p">,</span> <span class="s1">&#39;YGRID&#39;</span><span class="p">,</span> <span class="s1">&#39;YGRID LINES&#39;</span><span class="p">,</span> <span class="s1">&#39;YLOG&#39;</span><span class="p">,</span>
        <span class="s1">&#39;XTMIN&#39;</span><span class="p">,</span> <span class="s1">&#39;XTMAX&#39;</span><span class="p">,</span> <span class="s1">&#39;XTGRID&#39;</span><span class="p">,</span> <span class="s1">&#39;XTTITLE&#39;</span><span class="p">,</span> <span class="s1">&#39;XTAXIS&#39;</span><span class="p">,</span> <span class="s1">&#39;XTGRID LINES&#39;</span><span class="p">,</span> <span class="s1">&#39;XTLOG&#39;</span><span class="p">,</span>
        <span class="s1">&#39;YTMIN&#39;</span><span class="p">,</span> <span class="s1">&#39;YTMAX&#39;</span><span class="p">,</span> <span class="s1">&#39;YTGRID&#39;</span><span class="p">,</span> <span class="s1">&#39;YTTITLE&#39;</span><span class="p">,</span> <span class="s1">&#39;YTAXIS&#39;</span><span class="p">,</span> <span class="s1">&#39;YTGRID LINES&#39;</span><span class="p">,</span> <span class="s1">&#39;YTLOG&#39;</span><span class="p">,</span>
        <span class="s1">&#39;XBMIN&#39;</span><span class="p">,</span> <span class="s1">&#39;XBMAX&#39;</span><span class="p">,</span> <span class="s1">&#39;XBGRID&#39;</span><span class="p">,</span> <span class="s1">&#39;XBAXIS&#39;</span><span class="p">,</span> <span class="s1">&#39;XBGRID LINES&#39;</span><span class="p">,</span> <span class="s1">&#39;XBTITLE&#39;</span><span class="p">,</span> <span class="s1">&#39;XBLOG&#39;</span><span class="p">,</span>
        <span class="s1">&#39;YBMIN&#39;</span><span class="p">,</span> <span class="s1">&#39;YBMAX&#39;</span><span class="p">,</span> <span class="s1">&#39;YBGRID&#39;</span><span class="p">,</span> <span class="s1">&#39;YBAXIS&#39;</span><span class="p">,</span> <span class="s1">&#39;YBGRID LINES&#39;</span><span class="p">,</span> <span class="s1">&#39;YBTITLE&#39;</span><span class="p">,</span> <span class="s1">&#39;YBLOG&#39;</span><span class="p">,</span>

        <span class="s1">&#39;RIGHT TICS&#39;</span><span class="p">,</span> <span class="s1">&#39;UPPER TICS&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TRIGHT TICS&#39;</span><span class="p">,</span>
        <span class="s1">&#39;BRIGHT TICS&#39;</span><span class="p">,</span>

        <span class="s1">&#39;PLOTTER&#39;</span><span class="p">,</span> <span class="s1">&#39;XYPLOT&#39;</span><span class="p">,</span>

        <span class="s1">&#39;PTITLE&#39;</span><span class="p">,</span>
        <span class="s1">&#39;HOUTPUT&#39;</span><span class="p">,</span> <span class="s1">&#39;PLOTID&#39;</span><span class="p">,</span>
        <span class="s1">&#39;AXISYMMETRIC&#39;</span><span class="p">,</span> <span class="s1">&#39;CURVELINESYMBOL&#39;</span><span class="p">,</span> <span class="s1">&#39;CURVELINESYMB&#39;</span><span class="p">,</span> <span class="s1">&#39;AECONFIG&#39;</span><span class="p">,</span>
        <span class="s1">&#39;B2GG&#39;</span><span class="p">,</span> <span class="s1">&#39;B2PP&#39;</span><span class="p">,</span> <span class="s1">&#39;AESYMXZ&#39;</span><span class="p">,</span> <span class="s1">&#39;TEMP&#39;</span><span class="p">,</span> <span class="s1">&#39;DSAPRT&#39;</span><span class="p">,</span> <span class="s1">&#39;MEFFMASS&#39;</span><span class="p">,</span>
        <span class="s1">&#39;MAXMIN&#39;</span><span class="p">,</span> <span class="s1">&#39;RESVEC&#39;</span><span class="p">,</span> <span class="s1">&#39;MODESELECT&#39;</span><span class="p">,</span> <span class="s1">&#39;RIGID&#39;</span><span class="p">,</span> <span class="s1">&#39;TCURVE&#39;</span><span class="p">,</span>
        <span class="s1">&#39;SUPER&#39;</span><span class="p">,</span> <span class="s1">&#39;MAXI DEFO&#39;</span><span class="p">,</span> <span class="s1">&#39;P2G&#39;</span><span class="p">,</span>
        <span class="s1">&#39;EXTSEOUT&#39;</span><span class="p">,</span> <span class="s1">&#39;FLSTCNT PREFDB&#39;</span><span class="p">,</span> <span class="s1">&#39;AESYMXY&#39;</span><span class="p">,</span>
        <span class="s1">&#39;DSYM&#39;</span><span class="p">,</span>
    <span class="p">]</span>
    <span class="n">all_none_cards</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s1">&#39;STRESS&#39;</span><span class="p">,</span> <span class="s1">&#39;STRAIN&#39;</span><span class="p">,</span> <span class="s1">&#39;SPCFORCES&#39;</span><span class="p">,</span> <span class="s1">&#39;DISPLACEMENT&#39;</span><span class="p">,</span> <span class="s1">&#39;MPCFORCES&#39;</span><span class="p">,</span> <span class="s1">&#39;SVECTOR&#39;</span><span class="p">,</span>
        <span class="s1">&#39;VELOCITY&#39;</span><span class="p">,</span> <span class="s1">&#39;ACCELERATION&#39;</span><span class="p">,</span> <span class="s1">&#39;FORCE&#39;</span><span class="p">,</span> <span class="s1">&#39;ESE&#39;</span><span class="p">,</span> <span class="s1">&#39;OLOAD&#39;</span><span class="p">,</span> <span class="s1">&#39;SEALL&#39;</span><span class="p">,</span> <span class="s1">&#39;GPFORCE&#39;</span><span class="p">,</span>
        <span class="s1">&#39;GPSTRESS&#39;</span><span class="p">,</span> <span class="s1">&#39;GPSTRAIN&#39;</span><span class="p">,</span> <span class="s1">&#39;FLUX&#39;</span><span class="p">,</span> <span class="s1">&#39;AEROF&#39;</span><span class="p">,</span> <span class="s1">&#39;THERMAL&#39;</span><span class="p">,</span> <span class="s1">&#39;STRFIELD&#39;</span><span class="p">,</span>
        <span class="s1">&#39;NOUTPUT&#39;</span><span class="p">,</span> <span class="s1">&#39;SEDV&#39;</span><span class="p">,</span> <span class="s1">&#39;APRES&#39;</span><span class="p">,</span> <span class="s1">&#39;HTFLOW&#39;</span><span class="p">,</span> <span class="s1">&#39;NLSTRESS&#39;</span><span class="p">,</span> <span class="s1">&#39;GPKE&#39;</span><span class="p">,</span>
        <span class="s1">&#39;SACCELERATION&#39;</span><span class="p">,</span> <span class="s1">&#39;SDISPLACEMENT&#39;</span><span class="p">,</span> <span class="s1">&#39;SEMG&#39;</span><span class="p">,</span> <span class="s1">&#39;HARMONICS&#39;</span><span class="p">,</span> <span class="s1">&#39;PRESSURE&#39;</span><span class="p">,</span> <span class="s1">&#39;VUGRID&#39;</span><span class="p">,</span>
        <span class="s1">&#39;ELSUM&#39;</span><span class="p">,</span> <span class="s1">&#39;SVELOCITY&#39;</span><span class="p">,</span> <span class="s1">&#39;STRFIELD REAL&#39;</span><span class="p">,</span> <span class="s1">&#39;SENSITY&#39;</span><span class="p">,</span> <span class="s1">&#39;MONITOR&#39;</span><span class="p">,</span>
        <span class="s1">&#39;NLLOAD&#39;</span><span class="p">,</span> <span class="s1">&#39;GPSDCON&#39;</span><span class="p">,</span> <span class="s1">&#39;BOUTPUT&#39;</span><span class="p">,</span>
    <span class="p">]</span>

    <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;BCONTACT&#39;</span><span class="p">,</span> <span class="s1">&#39;CURVELINESYMBOL&#39;</span><span class="p">]:</span>
        <span class="n">value2</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">line</span><span class="p">)</span>

    <span class="c1"># these may only be integers greater than 0</span>
    <span class="k">elif</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">int_cards</span><span class="p">:</span>
        <span class="n">value2</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">line</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">value2</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;line=</span><span class="si">%r</span><span class="s1"> is invalid; value=</span><span class="si">%r</span><span class="s1"> must be greater than 0.&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">value2</span><span class="p">)</span>

    <span class="c1"># these may have a value of all/none/integer, nothing else</span>
    <span class="c1"># except commas are allowed</span>
    <span class="c1"># &#39;DISP=ALL&#39;, &#39;DISP=NONE&#39;, &#39;DISP=1&#39;, &#39;DISP=1,2&#39;</span>
    <span class="k">elif</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">all_none_cards</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;ALL&#39;</span><span class="p">,</span> <span class="s1">&#39;NONE&#39;</span><span class="p">]:</span>
            <span class="k">if</span> <span class="s1">&#39;,&#39;</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
                <span class="n">sline</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">spot</span> <span class="ow">in</span> <span class="n">sline</span><span class="p">:</span>
                    <span class="n">value2</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">spot</span><span class="p">,</span> <span class="n">line</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">value2</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">line</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">value2</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;line=</span><span class="si">%r</span><span class="s1"> is invalid; value=</span><span class="si">%r</span><span class="s1"> must be greater than 0.&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">value2</span><span class="p">)</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;ECHO&#39;</span><span class="p">]:</span>
        <span class="c1">#assert value in [&#39;NONE&#39;,&#39;BOTH&#39;,&#39;UNSORT&#39;,&#39;SORT&#39;, &#39;NOSORT&#39;, &#39;PUNCH&#39;,</span>
                         <span class="c1">#&#39;&#39;], &#39;line=%r is invalid; value=%r.&#39; % (line, value)</span>
        <span class="k">pass</span>
    <span class="k">elif</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;CSCALE&#39;</span><span class="p">,</span> <span class="s1">&#39;SUBSEQ&#39;</span><span class="p">,</span> <span class="s1">&#39;SYMSEQ&#39;</span><span class="p">,</span> <span class="s1">&#39;DEFORMATION SCALE&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">]:</span>
        <span class="c1"># floats</span>
        <span class="k">pass</span>
    <span class="k">elif</span> <span class="s1">&#39;SET&#39;</span> <span class="ow">in</span> <span class="n">key</span><span class="p">:</span>
        <span class="k">pass</span>

    <span class="c1"># weird cards</span>
    <span class="k">elif</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">pass_headers</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">&#39;ANALYSIS&#39;</span><span class="p">:</span>
        <span class="k">assert</span> <span class="n">value</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;HEAT&#39;</span><span class="p">,</span> <span class="s1">&#39;ANALYSIS&#39;</span><span class="p">,</span> <span class="s1">&#39;MFREQ&#39;</span><span class="p">,</span> <span class="s1">&#39;STATICS&#39;</span><span class="p">,</span> <span class="s1">&#39;MODES&#39;</span><span class="p">,</span> <span class="s1">&#39;DFREQ&#39;</span><span class="p">,</span>
                         <span class="s1">&#39;MTRAN&#39;</span><span class="p">,</span> <span class="s1">&#39;BUCK&#39;</span><span class="p">,</span> <span class="s1">&#39;MCEIG&#39;</span><span class="p">,</span> <span class="s1">&#39;DCEIG&#39;</span><span class="p">,</span> <span class="s1">&#39;SAERO&#39;</span><span class="p">,</span> <span class="s1">&#39;NLSTATIC&#39;</span><span class="p">,</span> <span class="s1">&#39;NLSTAT&#39;</span><span class="p">,</span>
                         <span class="s1">&#39;STATIC&#39;</span><span class="p">,</span> <span class="s1">&#39;MTRANS&#39;</span><span class="p">,</span> <span class="s1">&#39;MODE&#39;</span><span class="p">,</span> <span class="s1">&#39;FLUTTER&#39;</span><span class="p">,</span> <span class="s1">&#39;DIVERG&#39;</span><span class="p">,</span> <span class="s1">&#39;NLTRAN&#39;</span><span class="p">,</span>
                         <span class="p">],</span> <span class="s1">&#39;line=</span><span class="si">%r</span><span class="s1"> is invalid; value=</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">&#39;AUTOSPC&#39;</span><span class="p">:</span>
        <span class="k">assert</span> <span class="n">value</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;YES&#39;</span><span class="p">],</span> <span class="s1">&#39;line=</span><span class="si">%r</span><span class="s1"> is invalid; value=</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s1">&#39;key=</span><span class="si">%r</span><span class="s1"> line=</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">line</span><span class="p">))</span></div>


<span class="k">def</span> <span class="nf">_clean_lines</span><span class="p">(</span><span class="n">lines</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Removes comment characters defined by a *$*.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    lines : List[str, ...]</span>
<span class="sd">        the lines to clean.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">lines2</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># type: List[str]</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
        <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39; </span><span class="se">\n\r</span><span class="s1">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;$&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">line</span><span class="p">:</span>
            <span class="n">lines2</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>

    <span class="n">lines3</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># TODO: line, comment</span>
    <span class="n">lines_pack</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines2</span><span class="p">:</span>
        <span class="c1">#print(line)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">lines_pack</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="c1">#print(&#39;0--&#39;, line)</span>
            <span class="n">lines_pack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">line</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">):</span>
                <span class="c1">#print(&#39;next...&#39;)</span>
                <span class="n">lines3</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">lines_pack</span><span class="p">)</span>
                <span class="n">lines_pack</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">elif</span> <span class="n">line</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">):</span>
            <span class="c1">#print(&#39;C--&#39;, line)</span>
            <span class="n">lines_pack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">lines_pack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;,&#39;</span><span class="p">:</span>  <span class="c1"># continued</span>
                <span class="c1">#print(&#39;xx--&#39;, line)</span>
                <span class="n">lines_pack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
                <span class="n">lines3</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">lines_pack</span><span class="p">)</span>
                <span class="c1">#print(&#39;pack =&#39;, lines_pack)</span>
                <span class="n">lines_pack</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">else</span><span class="p">:</span>  <span class="c1"># new card</span>
                <span class="c1">#print(&#39;new--&#39;, line)</span>
                <span class="n">lines3</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">lines_pack</span><span class="p">)</span>
                <span class="n">lines_pack</span> <span class="o">=</span> <span class="p">[</span><span class="n">line</span><span class="p">]</span>
    <span class="k">return</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">pack</span><span class="p">)</span> <span class="k">for</span> <span class="n">pack</span> <span class="ow">in</span> <span class="n">lines3</span><span class="p">]</span>

<div class="viewcode-block" id="split_equal_space"><a class="viewcode-back" href="../../../reference/bdf/pyNastran.bdf.case_control_deck.html#pyNastran.bdf.case_control_deck.split_equal_space">[docs]</a><span class="k">def</span> <span class="nf">split_equal_space</span><span class="p">(</span><span class="n">line</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">example</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Splits a case insensative line by an</span>

<span class="sd">    reads:</span>
<span class="sd">     - &#39;SUBCASE = 5&#39;</span>
<span class="sd">     - &#39;SUBCASE 5&#39;</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="s1">&#39; &#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">line</span> <span class="ow">and</span> <span class="s1">&#39;=&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">line</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">SyntaxError</span><span class="p">(</span><span class="s2">&quot;expected data of the form &#39;</span><span class="si">%s</span><span class="s2">&#39;, not </span><span class="si">%r</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">example</span><span class="p">,</span> <span class="n">line</span><span class="p">))</span>
    <span class="n">out</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\s*</span><span class="si">%s</span><span class="s1">\s*=?\s*&#39;</span> <span class="o">%</span> <span class="n">word</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">flags</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">out</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="integer"><a class="viewcode-back" href="../../../reference/bdf/pyNastran.bdf.case_control_deck.html#pyNastran.bdf.case_control_deck.integer">[docs]</a><span class="k">def</span> <span class="nf">integer</span><span class="p">(</span><span class="n">str_value</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">line</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;casts the value as an integer&quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">str_value</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%r</span><span class="s1"> is not an integer; line:</span><span class="se">\n</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">str_value</span><span class="p">,</span> <span class="n">line</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">value</span></div>
</pre></div>

           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Steven Doyle.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>