

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>pyNastran.bdf.cards.loads.dloads &mdash; pyNastran 1.4-dev 1.4-dev documentation</title>
  

  
  <link rel="stylesheet" href="../../../../../_static/css/my_theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/css/my_theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/graphviz.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../../" src="../../../../../_static/documentation_options.js"></script>
        <script data-url_root="../../../../../" id="documentation_options" src="../../../../../_static/documentation_options.js"></script>
        <script src="../../../../../_static/jquery.js"></script>
        <script src="../../../../../_static/underscore.js"></script>
        <script src="../../../../../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="../../../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../../index.html" class="icon icon-home"> pyNastran 1.4-dev
          

          
            
            <img src="../../../../../_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.4-dev
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../installation/index.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../quick_start/index.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../how_to/index.html">How To: pyNastran</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../reference/pyNastran.html">pyNastran Package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../manual/index.html">pyNastran Manual</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">pyNastran 1.4-dev</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../../../index.html">Module code</a> &raquo;</li>
        
      <li>pyNastran.bdf.cards.loads.dloads</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for pyNastran.bdf.cards.loads.dloads</h1><div class="highlight"><pre>
<span></span><span class="c1"># coding: utf-8</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">All dynamic loads are defined in this file.  This includes:</span>

<span class="sd"> * ACSRCE</span>
<span class="sd"> * DLOAD</span>
<span class="sd"> * TLOAD1</span>
<span class="sd"> * TLOAD2</span>
<span class="sd"> * RLOAD1</span>
<span class="sd"> * RLOAD2</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">TYPE_CHECKING</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="kn">from</span> <span class="nn">pyNastran.utils.numpy_utils</span> <span class="kn">import</span> <span class="n">integer_types</span>
<span class="kn">from</span> <span class="nn">pyNastran.bdf.field_writer_8</span> <span class="kn">import</span> <span class="n">set_blank_if_default</span>
<span class="kn">from</span> <span class="nn">pyNastran.bdf.bdf_interface.assign_type</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">integer</span><span class="p">,</span> <span class="n">double_or_blank</span><span class="p">,</span> <span class="n">integer_string_or_blank</span><span class="p">,</span>
    <span class="n">integer_double_or_blank</span><span class="p">,</span> <span class="n">double</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">pyNastran.bdf.field_writer_8</span> <span class="kn">import</span> <span class="n">print_card_8</span>
<span class="kn">from</span> <span class="nn">pyNastran.bdf.field_writer_16</span> <span class="kn">import</span> <span class="n">print_card_16</span>
<span class="kn">from</span> <span class="nn">pyNastran.bdf.field_writer_double</span> <span class="kn">import</span> <span class="n">print_card_double</span>
<span class="kn">from</span> <span class="nn">pyNastran.bdf.cards.loads.loads</span> <span class="kn">import</span> <span class="n">DynamicLoad</span><span class="p">,</span> <span class="n">LoadCombination</span><span class="p">,</span> <span class="n">BaseCard</span>
<span class="k">if</span> <span class="n">TYPE_CHECKING</span><span class="p">:</span>  <span class="c1"># pragma: no cover</span>
    <span class="kn">from</span> <span class="nn">pyNastran.bdf.bdf</span> <span class="kn">import</span> <span class="n">BDF</span>


<div class="viewcode-block" id="ACSRCE"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.ACSRCE">[docs]</a><span class="k">class</span> <span class="nc">ACSRCE</span><span class="p">(</span><span class="n">BaseCard</span><span class="p">):</span>
    <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Defines acoustic source as a function of power vs. frequency.</span>

<span class="sd">    +--------+-----+----------+---------------+-----------------+-------+-----+---+</span>
<span class="sd">    |   1    |  2  |    3     |       4       |        5        |   6   |  7  | 8 |</span>
<span class="sd">    +========+=====+==========+===============+=================+=======+=====+===+</span>
<span class="sd">    | ACSRCE | SID | EXCITEID | DELAYI/DELAYR | DPHASEI/DPHASER | TP/RP | RHO | B |</span>
<span class="sd">    +--------+-----+----------+---------------+-----------------+-------+-----+---+</span>

<span class="sd">    ..math ::</span>
<span class="sd">      C = \sqrt(B ⁄ ρ)</span>
<span class="sd">      Source Strength = {A} * 1/(2πf)  * \sqrt( 8πC P(f) / ρ) ^ (ei(θ + 2πfτ))</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">type</span> <span class="o">=</span> <span class="s1">&#39;ACSRCE&#39;</span>

<div class="viewcode-block" id="ACSRCE._init_from_empty"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.ACSRCE._init_from_empty">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_init_from_empty</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="n">sid</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">excite_id</span> <span class="o">=</span> <span class="mi">2</span>
        <span class="n">rho</span> <span class="o">=</span> <span class="mf">3.</span>
        <span class="n">b</span> <span class="o">=</span> <span class="mf">5.</span>
        <span class="k">return</span> <span class="n">ACSRCE</span><span class="p">(</span><span class="n">sid</span><span class="p">,</span> <span class="n">excite_id</span><span class="p">,</span> <span class="n">rho</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span>
                      <span class="n">delay</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">dphase</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">power</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sid</span><span class="p">,</span> <span class="n">excite_id</span><span class="p">,</span> <span class="n">rho</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span>
                 <span class="n">delay</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">dphase</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">power</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates an ACSRCE card</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        sid : int</span>
<span class="sd">            load set id number (referenced by DLOAD)</span>
<span class="sd">        excite_id : int</span>
<span class="sd">            Identification number of a DAREA or SLOAD entry that lists</span>
<span class="sd">            each degree of freedom to apply the excitation and the</span>
<span class="sd">            corresponding scale factor, A, for the excitation</span>
<span class="sd">        rho : float</span>
<span class="sd">            Density of the fluid</span>
<span class="sd">        b : float</span>
<span class="sd">            Bulk modulus of the fluid</span>
<span class="sd">        delay : int; default=0</span>
<span class="sd">            Time delay, τ.</span>
<span class="sd">        dphase : int / float; default=0</span>
<span class="sd">            the dphase; if it&#39;s 0/blank there is no phase lag</span>
<span class="sd">            float : delay in units of time</span>
<span class="sd">            int : delay id</span>
<span class="sd">        power : int; default=0</span>
<span class="sd">            Power as a function of frequency, P(f).</span>
<span class="sd">            float : value of P(f) used over all frequencies for all</span>
<span class="sd">                    degrees of freedom in EXCITEID entry.</span>
<span class="sd">            int : TABLEDi entry that defines P(f) for all degrees of</span>
<span class="sd">                  freedom in EXCITEID entry.</span>
<span class="sd">        comment : str; default=&#39;&#39;</span>
<span class="sd">            a comment for the card</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">comment</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">=</span> <span class="n">comment</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sid</span> <span class="o">=</span> <span class="n">sid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">excite_id</span> <span class="o">=</span> <span class="n">excite_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delay</span> <span class="o">=</span> <span class="n">delay</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dphase</span> <span class="o">=</span> <span class="n">dphase</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">power</span> <span class="o">=</span> <span class="n">power</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rho</span> <span class="o">=</span> <span class="n">rho</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">b</span> <span class="o">=</span> <span class="n">b</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">power_ref</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sloads_ref</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delay_ref</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dphase_ref</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="c1">#self.dphases_ref = None</span>
        <span class="c1">#self.delays_ref = None</span>

<div class="viewcode-block" id="ACSRCE.add_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.ACSRCE.add_card">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">add_card</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">card</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a ACSRCE card from ``BDF.add_card(...)``</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        card : BDFCard()</span>
<span class="sd">            a BDFCard object</span>
<span class="sd">        comment : str; default=&#39;&#39;</span>
<span class="sd">            a comment for the card</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">sid</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;sid&#39;</span><span class="p">)</span>
        <span class="n">excite_id</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;excite_id&#39;</span><span class="p">)</span> <span class="c1"># DAREA, FBALOAD, SLOAD</span>
        <span class="n">delay</span> <span class="o">=</span> <span class="n">integer_double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;delay&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="c1"># DELAY, FBADLAY</span>
        <span class="n">dphase</span> <span class="o">=</span> <span class="n">integer_double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;dphase&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="c1"># DPHASE, FBAPHAS</span>
        <span class="n">power</span> <span class="o">=</span> <span class="n">integer_double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;power/tp/rp&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="c1"># TABLEDi/power</span>
        <span class="n">rho</span> <span class="o">=</span> <span class="n">double</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;rho&#39;</span><span class="p">)</span>
        <span class="n">b</span> <span class="o">=</span> <span class="n">double</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;bulk modulus&#39;</span><span class="p">)</span>

        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">card</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;len(ACSRCE card) = </span><span class="si">%i</span><span class="se">\n</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">card</span><span class="p">),</span> <span class="n">card</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ACSRCE</span><span class="p">(</span><span class="n">sid</span><span class="p">,</span> <span class="n">excite_id</span><span class="p">,</span> <span class="n">rho</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span>
                      <span class="n">delay</span><span class="o">=</span><span class="n">delay</span><span class="p">,</span> <span class="n">dphase</span><span class="o">=</span><span class="n">dphase</span><span class="p">,</span> <span class="n">power</span><span class="o">=</span><span class="n">power</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span></div>

<div class="viewcode-block" id="ACSRCE.cross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.ACSRCE.cross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">cross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">BDF</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Cross links the card so referenced cards can be extracted directly</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        model : BDF()</span>
<span class="sd">            the BDF object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">cmsg</span> <span class="o">=</span> <span class="s1">&#39;, which is required by ACSRCE=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sid</span><span class="p">)</span>

        <span class="c1"># TODO: excite_id = DAREA, FBALOAD, SLOAD</span>
        <span class="n">sloads_ref</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">lseqs_ref</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">load_id</span><span class="p">,</span> <span class="n">loads</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">loads</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">load</span> <span class="ow">in</span> <span class="n">loads</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">load</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;SLOAD&#39;</span><span class="p">:</span>
                    <span class="c1">#if load_id not in sloads_ref:</span>
                        <span class="c1">#sloads_ref[load_id] = []</span>
                    <span class="k">for</span> <span class="n">nid</span> <span class="ow">in</span> <span class="n">load</span><span class="o">.</span><span class="n">node_ids</span><span class="p">:</span>
                        <span class="n">sloads_ref</span><span class="p">[(</span><span class="n">load_id</span><span class="p">,</span> <span class="n">nid</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]</span> <span class="o">=</span> <span class="n">load</span>
                <span class="k">elif</span> <span class="n">load</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;LSEQ&#39;</span><span class="p">:</span>
                    <span class="n">load_idi</span> <span class="o">=</span> <span class="n">load</span><span class="o">.</span><span class="n">lid_ref</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">sid</span>
                    <span class="c1">#print(load)</span>
                    <span class="c1">#print(load.lid)</span>
                    <span class="n">excite_idi</span> <span class="o">=</span> <span class="n">load</span><span class="o">.</span><span class="n">excite_id</span>
                    <span class="c1">#print(&#39;load_idi  = %s&#39; % load_idi)</span>
                    <span class="c1">#print(&#39;excite_id = %s&#39; % excite_idi)</span>
                    <span class="k">assert</span> <span class="n">load_idi</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">lseqs_ref</span>
                    <span class="n">lseqs_ref</span><span class="p">[</span><span class="n">load_idi</span><span class="p">]</span> <span class="o">=</span> <span class="n">load</span>
        <span class="k">if</span> <span class="n">sloads_ref</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sloads_ref</span> <span class="o">=</span> <span class="n">sloads_ref</span>
            <span class="n">sload_keys</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">sloads_ref</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
            <span class="c1">#print(&#39;sload_keys =&#39;, sload_keys)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">sload_keys</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">excite_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">dareas</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">excite_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">lseqs_ref</span><span class="p">:</span>
            <span class="n">darea_keys</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">dareas</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
            <span class="n">dphase_keys</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">dphases</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
            <span class="n">delay_keys</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">delays</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;excite_id=</span><span class="si">%s</span><span class="s1"> delay=</span><span class="si">%s</span><span class="s1"> dphase=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">excite_id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dphase</span><span class="p">)</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;  darea_keys=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">darea_keys</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;  sloads(load_id, nid, comp)=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">sload_keys</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;  dphases(sid)=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">dphase_keys</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;  delays(delay_id)=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">delay_keys</span>
            <span class="c1">#raise RuntimeError(msg)</span>
            <span class="c1">#print(msg)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delay</span><span class="p">,</span> <span class="n">integer_types</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">delays_ref</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">sload_key</span> <span class="ow">in</span> <span class="n">sload_keys</span><span class="p">:</span>
                <span class="n">nid</span> <span class="o">=</span> <span class="n">sload_key</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">delay_key</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delay</span><span class="p">,</span> <span class="n">nid</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
                <span class="n">delays_ref</span><span class="p">[</span><span class="n">sload_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">DELAY</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delay</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">cmsg</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">delays_ref</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">delay_ref</span> <span class="o">=</span> <span class="n">delays_ref</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dphase</span><span class="p">,</span> <span class="n">integer_types</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">dphase</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">dphases_ref</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">sload_key</span> <span class="ow">in</span> <span class="n">sload_keys</span><span class="p">:</span>
                <span class="n">nid</span> <span class="o">=</span> <span class="n">sload_key</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">dphase_key</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dphase</span><span class="p">,</span> <span class="n">nid</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
                <span class="n">dphases_ref</span><span class="p">[</span><span class="n">sload_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">DPHASE</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dphase</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">cmsg</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">dphases_ref</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">dphase_ref</span> <span class="o">=</span> <span class="n">dphases_ref</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">power</span><span class="p">,</span> <span class="n">integer_types</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">power</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">power_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">TableD</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">power</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">cmsg</span><span class="p">)</span></div>

        <span class="c1">#load_ids2 = []</span>
        <span class="c1">#for load_id in self.load_ids:</span>
            <span class="c1">#load_id2 = model.DLoad(load_id, consider_dload_combinations=False, msg=msg)</span>
            <span class="c1">#load_ids2.append(load_id2)</span>
        <span class="c1">#self.load_ids = load_ids2</span>
        <span class="c1">#self.load_ids_ref = self.load_ids</span>

<div class="viewcode-block" id="ACSRCE.uncross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.ACSRCE.uncross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">uncross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Removes cross-reference links&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">power</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Power</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dphase</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">DPhase</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delay</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Delay</span><span class="p">()</span>
        <span class="c1">#self.sloads = self.</span>

        <span class="c1">#self.tb = self.Tb()</span>
        <span class="c1">#self.tp = self.Tp()</span>
        <span class="c1">#self.delay = self.delay_id</span>
        <span class="c1">#if self.tb &gt; 0:</span>
            <span class="c1">#del self.tb_ref</span>
        <span class="c1">#if self.tp &gt; 0:</span>
            <span class="c1">#del self.tp_ref</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">power_ref</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sloads_ref</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delay_ref</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dphase_ref</span> <span class="o">=</span> <span class="kc">None</span></div>
        <span class="c1">#self.dphases_ref = None</span>
        <span class="c1">#self.delays_ref = None</span>

<div class="viewcode-block" id="ACSRCE.safe_cross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.ACSRCE.safe_cross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">safe_cross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">xref_errors</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">cross_reference</span><span class="p">(</span><span class="n">model</span><span class="p">)</span></div>

    <span class="c1">#def uncross_reference(self) -&gt; None:</span>
        <span class="c1">#self.load_ids = [self.LoadID(load) for load in self.load_ids]</span>
        <span class="c1">#del self.load_ids_ref</span>

<div class="viewcode-block" id="ACSRCE.Delay"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.ACSRCE.Delay">[docs]</a>    <span class="k">def</span> <span class="nf">Delay</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay_ref</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">next</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delay_ref</span><span class="o">.</span><span class="n">values</span><span class="p">())</span><span class="o">.</span><span class="n">sid</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]:</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay</span></div>

<div class="viewcode-block" id="ACSRCE.DPhase"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.ACSRCE.DPhase">[docs]</a>    <span class="k">def</span> <span class="nf">DPhase</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dphase_ref</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">next</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delay_ref</span><span class="o">.</span><span class="n">values</span><span class="p">())</span><span class="o">.</span><span class="n">tid</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">dphase</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]:</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dphase</span></div>

<div class="viewcode-block" id="ACSRCE.Power"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.ACSRCE.Power">[docs]</a>    <span class="k">def</span> <span class="nf">Power</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">power_ref</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">power_ref</span><span class="o">.</span><span class="n">tid</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">power</span></div>

<div class="viewcode-block" id="ACSRCE.get_load_at_freq"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.ACSRCE.get_load_at_freq">[docs]</a>    <span class="k">def</span> <span class="nf">get_load_at_freq</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">freq</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        ..math ::</span>
<span class="sd">          C = \sqrt(B ⁄ ρ)</span>
<span class="sd">          Source_strength = {A} * 1/(2πf)  * \sqrt( 8πC P(f) / ρ) ^ (ei(θ + 2πfτ))</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">b</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">rho</span><span class="p">)</span>
        <span class="n">ei</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="mf">1.</span><span class="n">j</span>
        <span class="n">A</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="n">pi</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.</span><span class="p">]:</span>
            <span class="n">tau</span> <span class="o">=</span> <span class="mf">0.</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1">#print(&#39;delay\n&#39;, self.delay_ref)</span>
            <span class="n">tau</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay_ref</span><span class="o">.</span><span class="n">value</span>
        <span class="n">Pf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">power_ref</span><span class="o">.</span><span class="n">interpolate</span><span class="p">(</span><span class="n">freq</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dphase</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.</span><span class="p">]:</span>
            <span class="n">theta</span> <span class="o">=</span> <span class="mf">0.</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1">#print(&#39;dphase\n&#39;, self.dphase_ref)</span>
            <span class="n">theta</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dphase_ref</span><span class="o">.</span><span class="n">interpolate</span><span class="p">(</span><span class="n">freq</span><span class="p">)</span>
        <span class="n">strength</span> <span class="o">=</span> <span class="n">A</span> <span class="o">/</span> <span class="p">(</span><span class="mf">2.</span><span class="o">*</span> <span class="n">pi</span> <span class="o">*</span> <span class="n">freq</span><span class="p">)</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">8</span><span class="o">*</span><span class="n">pi</span><span class="o">*</span><span class="n">C</span><span class="o">*</span><span class="n">Pf</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">rho</span><span class="p">)</span> <span class="o">**</span> <span class="p">(</span><span class="n">ei</span><span class="o">*</span><span class="p">(</span><span class="n">theta</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="o">*</span><span class="n">freq</span><span class="o">*</span><span class="n">tau</span><span class="p">))</span>

        <span class="k">return</span> <span class="mf">0.0</span></div>

<div class="viewcode-block" id="ACSRCE.raw_fields"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.ACSRCE.raw_fields">[docs]</a>    <span class="k">def</span> <span class="nf">raw_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">list_fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ACSRCE&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">sid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">excite_id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Delay</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">DPhase</span><span class="p">(),</span>
                       <span class="bp">self</span><span class="o">.</span><span class="n">Power</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">rho</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">list_fields</span></div>

<div class="viewcode-block" id="ACSRCE.repr_fields"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.ACSRCE.repr_fields">[docs]</a>    <span class="k">def</span> <span class="nf">repr_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">raw_fields</span><span class="p">()</span></div>

<div class="viewcode-block" id="ACSRCE.write_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.ACSRCE.write_card">[docs]</a>    <span class="k">def</span> <span class="nf">write_card</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">is_double</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">card</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">raw_fields</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">size</span> <span class="o">==</span> <span class="mi">16</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">print_card_16</span><span class="p">(</span><span class="n">card</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">print_card_8</span><span class="p">(</span><span class="n">card</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="DLOAD"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.DLOAD">[docs]</a><span class="k">class</span> <span class="nc">DLOAD</span><span class="p">(</span><span class="n">LoadCombination</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    +-------+-----+----+------+----+----+----+----+----+</span>
<span class="sd">    |   1   |  2  |  3 |   4  |  5 |  6 |  7 |  8 |  9 |</span>
<span class="sd">    +=======+=====+====+======+====+====+====+====+====+</span>
<span class="sd">    | DLOAD | SID |  S |  S1  | L1 | S2 | L2 | S3 | L3 |</span>
<span class="sd">    +-------+-----+----+------+----+----+----+----+----+</span>
<span class="sd">    |       | S4  | L4 | etc. |    |    |    |    |    |</span>
<span class="sd">    +-------+-----+----+------+----+----+----+----+----+</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">type</span> <span class="o">=</span> <span class="s1">&#39;DLOAD&#39;</span>

<div class="viewcode-block" id="DLOAD._init_from_empty"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.DLOAD._init_from_empty">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_init_from_empty</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="n">sid</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">scale</span> <span class="o">=</span> <span class="mf">1.</span>
        <span class="n">scale_factors</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">]</span>
        <span class="n">load_ids</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">DLOAD</span><span class="p">(</span><span class="n">sid</span><span class="p">,</span> <span class="n">scale</span><span class="p">,</span> <span class="n">scale_factors</span><span class="p">,</span> <span class="n">load_ids</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sid</span><span class="p">,</span> <span class="n">scale</span><span class="p">,</span> <span class="n">scale_factors</span><span class="p">,</span> <span class="n">load_ids</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a DLOAD card</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        sid : int</span>
<span class="sd">            Load set identification number. See Remarks 1. and 4. (Integer &gt; 0)</span>
<span class="sd">        scale : float</span>
<span class="sd">            Scale factor. See Remarks 2. and 8. (Real)</span>
<span class="sd">        Si : List[float]</span>
<span class="sd">            Scale factors. See Remarks 2., 7. and 8. (Real)</span>
<span class="sd">        load_ids : List[int]</span>
<span class="sd">            Load set identification numbers of RLOAD1, RLOAD2, TLOAD1,</span>
<span class="sd">            TLOAD2, and ACSRCE entries. See Remarks 3 and 7. (Integer &gt; 0)</span>
<span class="sd">        comment : str; default=&#39;&#39;</span>
<span class="sd">            a comment for the card</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">LoadCombination</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sid</span><span class="p">,</span> <span class="n">scale</span><span class="p">,</span> <span class="n">scale_factors</span><span class="p">,</span> <span class="n">load_ids</span><span class="p">,</span>
                                 <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span>

<div class="viewcode-block" id="DLOAD.cross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.DLOAD.cross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">cross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">BDF</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Cross links the card so referenced cards can be extracted directly</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        model : BDF()</span>
<span class="sd">            the BDF object</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">dload_ids2</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;, which is required by DLOAD=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sid</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">dload_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_ids</span><span class="p">:</span>
            <span class="n">dload_id2</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">DLoad</span><span class="p">(</span><span class="n">dload_id</span><span class="p">,</span> <span class="n">consider_dload_combinations</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>
            <span class="n">dload_ids2</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dload_id2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">load_ids_ref</span> <span class="o">=</span> <span class="n">dload_ids2</span></div>

<div class="viewcode-block" id="DLOAD.safe_cross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.DLOAD.safe_cross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">safe_cross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">xref_errors</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="n">dload_ids2</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;, which is required by DLOAD=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sid</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">dload_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_ids</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">dload_id2</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">DLoad</span><span class="p">(</span><span class="n">dload_id</span><span class="p">,</span> <span class="n">consider_dload_combinations</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">debug</span><span class="p">:</span>
                    <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;Couldnt find dload_id=</span><span class="si">%i</span><span class="s1">, which is required by </span><span class="si">%s</span><span class="s1">=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span>
                        <span class="n">dload_id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">sid</span><span class="p">)</span>
                    <span class="n">model</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
                <span class="k">continue</span>
            <span class="n">dload_ids2</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dload_id2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">load_ids_ref</span> <span class="o">=</span> <span class="n">dload_ids2</span></div>

<div class="viewcode-block" id="DLOAD.uncross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.DLOAD.uncross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">uncross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Removes cross-reference links&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">load_ids</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">LoadID</span><span class="p">(</span><span class="n">dload</span><span class="p">)</span> <span class="k">for</span> <span class="n">dload</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_load_ids</span><span class="p">()]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">load_ids_ref</span> <span class="o">=</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="DLOAD.raw_fields"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.DLOAD.raw_fields">[docs]</a>    <span class="k">def</span> <span class="nf">raw_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">list_fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;DLOAD&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">sid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale</span><span class="p">]</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">scale_factor</span><span class="p">,</span> <span class="n">load_id</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scale_factors</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_load_ids</span><span class="p">()):</span>
            <span class="n">list_fields</span> <span class="o">+=</span> <span class="p">[</span><span class="n">scale_factor</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">LoadID</span><span class="p">(</span><span class="n">load_id</span><span class="p">)]</span>
        <span class="k">return</span> <span class="n">list_fields</span></div>

<div class="viewcode-block" id="DLOAD.repr_fields"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.DLOAD.repr_fields">[docs]</a>    <span class="k">def</span> <span class="nf">repr_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">raw_fields</span><span class="p">()</span></div>

<div class="viewcode-block" id="DLOAD.write_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.DLOAD.write_card">[docs]</a>    <span class="k">def</span> <span class="nf">write_card</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">is_double</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">card</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">raw_fields</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">size</span> <span class="o">==</span> <span class="mi">16</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">print_card_16</span><span class="p">(</span><span class="n">card</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">print_card_8</span><span class="p">(</span><span class="n">card</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="RLOAD1"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.RLOAD1">[docs]</a><span class="k">class</span> <span class="nc">RLOAD1</span><span class="p">(</span><span class="n">DynamicLoad</span><span class="p">):</span>
    <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Defines a frequency-dependent dynamic load of the form</span>
<span class="sd">    for use in frequency response problems.</span>

<span class="sd">    .. math::</span>
<span class="sd">      \left\{ P(f)  \right\}  = \left\{A\right\} [ C(f)+iD(f)]</span>
<span class="sd">         e^{  i \left\{\theta - 2 \pi f \tau \right\} }</span>

<span class="sd">    +--------+-----+----------+-------+--------+----+----+------+</span>
<span class="sd">    |   1    |  2  |     3    |   4   |   5    |  6 |  7 |   8  |</span>
<span class="sd">    +========+=====+==========+=======+========+====+====+======+</span>
<span class="sd">    | RLOAD1 | SID | EXCITEID | DELAY | DPHASE | TC | TD | TYPE |</span>
<span class="sd">    +--------+-----+----------+-------+--------+----+----+------+</span>
<span class="sd">    | RLOAD1 |  5  |    3     |       |        | 1  |    |      |</span>
<span class="sd">    +--------+-----+----------+-------+--------+----+----+------+</span>

<span class="sd">    NX allows DELAY and DPHASE to be floats</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">type</span> <span class="o">=</span> <span class="s1">&#39;RLOAD1&#39;</span>
    <span class="n">_properties</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;delay_id&#39;</span><span class="p">,</span> <span class="s1">&#39;dphase_id&#39;</span><span class="p">]</span>

<div class="viewcode-block" id="RLOAD1._init_from_empty"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.RLOAD1._init_from_empty">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_init_from_empty</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="n">sid</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">excite_id</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">RLOAD1</span><span class="p">(</span><span class="n">sid</span><span class="p">,</span> <span class="n">excite_id</span><span class="p">,</span> <span class="n">delay</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">dphase</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">tc</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">td</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">Type</span><span class="o">=</span><span class="s1">&#39;LOAD&#39;</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sid</span><span class="p">,</span> <span class="n">excite_id</span><span class="p">,</span> <span class="n">delay</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">dphase</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">tc</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">td</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">Type</span><span class="o">=</span><span class="s1">&#39;LOAD&#39;</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates an RLOAD1 card, which defienes a frequency-dependent load</span>
<span class="sd">        based on TABLEDs.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        sid : int</span>
<span class="sd">            load id</span>
<span class="sd">        excite_id : int</span>
<span class="sd">            node id where the load is applied</span>
<span class="sd">        delay : int/float; default=None</span>
<span class="sd">            the delay; if it&#39;s 0/blank there is no delay</span>
<span class="sd">            float : delay in units of time</span>
<span class="sd">            int : delay id</span>
<span class="sd">        dphase : int/float; default=None</span>
<span class="sd">            the dphase; if it&#39;s 0/blank there is no phase lag</span>
<span class="sd">            float : delay in units of time</span>
<span class="sd">            int : delay id</span>
<span class="sd">        tc : int/float; default=0</span>
<span class="sd">            TABLEDi id that defines C(f) for all degrees of freedom in</span>
<span class="sd">            EXCITEID entry</span>
<span class="sd">        td : int/float; default=0</span>
<span class="sd">            TABLEDi id that defines D(f) for all degrees of freedom in</span>
<span class="sd">            EXCITEID entry</span>
<span class="sd">        Type : int/str; default=&#39;LOAD&#39;</span>
<span class="sd">            the type of load</span>
<span class="sd">            0/LOAD</span>
<span class="sd">            1/DISP</span>
<span class="sd">            2/VELO</span>
<span class="sd">            3/ACCE</span>
<span class="sd">            4, 5, 6, 7, 12, 13 - MSC only</span>
<span class="sd">        comment : str; default=&#39;&#39;</span>
<span class="sd">            a comment for the card</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">DynamicLoad</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">comment</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">=</span> <span class="n">comment</span>
        <span class="n">Type</span> <span class="o">=</span> <span class="n">update_loadtype</span><span class="p">(</span><span class="n">Type</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">sid</span> <span class="o">=</span> <span class="n">sid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">excite_id</span> <span class="o">=</span> <span class="n">excite_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delay</span> <span class="o">=</span> <span class="n">delay</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dphase</span> <span class="o">=</span> <span class="n">dphase</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tc</span> <span class="o">=</span> <span class="n">tc</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">td</span> <span class="o">=</span> <span class="n">td</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="o">=</span> <span class="n">Type</span>
        <span class="k">assert</span> <span class="n">sid</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">self</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tc_ref</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">td_ref</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delay_ref</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dphase_ref</span> <span class="o">=</span> <span class="kc">None</span>

<div class="viewcode-block" id="RLOAD1.validate"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.RLOAD1.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="n">is_failed</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tc</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">td</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;either RLOAD1 TC or TD &gt; 0; tc=</span><span class="si">%s</span><span class="s1"> td=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tc</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">td</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;L&#39;</span><span class="p">,</span> <span class="s1">&#39;LO&#39;</span><span class="p">,</span> <span class="s1">&#39;LOA&#39;</span><span class="p">,</span> <span class="s1">&#39;LOAD&#39;</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="o">=</span> <span class="s1">&#39;LOAD&#39;</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;DI&#39;</span><span class="p">,</span> <span class="s1">&#39;DIS&#39;</span><span class="p">,</span> <span class="s1">&#39;DISP&#39;</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="o">=</span> <span class="s1">&#39;DISP&#39;</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;V&#39;</span><span class="p">,</span> <span class="s1">&#39;VE&#39;</span><span class="p">,</span> <span class="s1">&#39;VEL&#39;</span><span class="p">,</span> <span class="s1">&#39;VELO&#39;</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="o">=</span> <span class="s1">&#39;VELO&#39;</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;AC&#39;</span><span class="p">,</span> <span class="s1">&#39;ACC&#39;</span><span class="p">,</span> <span class="s1">&#39;ACCE&#39;</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="o">=</span> <span class="s1">&#39;ACCE&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;invalid RLOAD1 type  Type=</span><span class="si">%r</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">Type</span>
            <span class="n">is_failed</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="k">if</span> <span class="n">is_failed</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span></div>

<div class="viewcode-block" id="RLOAD1.add_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.RLOAD1.add_card">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">add_card</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">card</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a RLOAD1 card from ``BDF.add_card(...)``</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        card : BDFCard()</span>
<span class="sd">            a BDFCard object</span>
<span class="sd">        comment : str; default=&#39;&#39;</span>
<span class="sd">            a comment for the card</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">sid</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;sid&#39;</span><span class="p">)</span>
        <span class="n">excite_id</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;excite_id&#39;</span><span class="p">)</span>
        <span class="n">delay</span> <span class="o">=</span> <span class="n">integer_double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;delay&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">dphase</span> <span class="o">=</span> <span class="n">integer_double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;dphase&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">tc</span> <span class="o">=</span> <span class="n">integer_double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;tc&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">td</span> <span class="o">=</span> <span class="n">integer_double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;td&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">Type</span> <span class="o">=</span> <span class="n">integer_string_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;Type&#39;</span><span class="p">,</span> <span class="s1">&#39;LOAD&#39;</span><span class="p">)</span>

        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">card</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;len(RLOAD1 card) = </span><span class="si">%i</span><span class="se">\n</span><span class="s1">card=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">card</span><span class="p">),</span> <span class="n">card</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">RLOAD1</span><span class="p">(</span><span class="n">sid</span><span class="p">,</span> <span class="n">excite_id</span><span class="p">,</span> <span class="n">delay</span><span class="p">,</span> <span class="n">dphase</span><span class="p">,</span> <span class="n">tc</span><span class="p">,</span> <span class="n">td</span><span class="p">,</span> <span class="n">Type</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span></div>

<div class="viewcode-block" id="RLOAD1.cross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.RLOAD1.cross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">cross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">BDF</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Cross links the card so referenced cards can be extracted directly</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        model : BDF()</span>
<span class="sd">            the BDF object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;, which is required by RLOAD1 sid=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sid</span><span class="p">)</span>
        <span class="n">_cross_reference_excite_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">msg</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tc</span><span class="p">,</span> <span class="n">integer_types</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">tc</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tc_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">TableD</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tc</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">td</span><span class="p">,</span> <span class="n">integer_types</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">td</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">td_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">TableD</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">td</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delay</span><span class="p">,</span> <span class="n">integer_types</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">delay_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">DELAY</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delay_id</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dphase</span><span class="p">,</span> <span class="n">integer_types</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">dphase</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dphase_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">DPHASE</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dphase</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span></div>

<div class="viewcode-block" id="RLOAD1.safe_cross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.RLOAD1.safe_cross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">safe_cross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">xref_errors</span><span class="p">,</span> <span class="p">):</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;, which is required by RLOAD1 sid=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sid</span><span class="p">)</span>
        <span class="n">_cross_reference_excite_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">msg</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tc</span><span class="p">,</span> <span class="n">integer_types</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">tc</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tc_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">TableD</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tc</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">td</span><span class="p">,</span> <span class="n">integer_types</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">td</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">td_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">TableD</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">td</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delay</span><span class="p">,</span> <span class="n">integer_types</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">delay_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">DELAY</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delay_id</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dphase</span><span class="p">,</span> <span class="n">integer_types</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">dphase</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dphase_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">DPHASE</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dphase</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span></div>

<div class="viewcode-block" id="RLOAD1.uncross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.RLOAD1.uncross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">uncross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Removes cross-reference links&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Tc</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">td</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Td</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delay</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dphase</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dphase_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tc_ref</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">td_ref</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delay_ref</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dphase_ref</span> <span class="o">=</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="RLOAD1.get_loads"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.RLOAD1.get_loads">[docs]</a>    <span class="k">def</span> <span class="nf">get_loads</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="p">]</span></div>

<div class="viewcode-block" id="RLOAD1.Tc"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.RLOAD1.Tc">[docs]</a>    <span class="k">def</span> <span class="nf">Tc</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tc_ref</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tc_ref</span><span class="o">.</span><span class="n">tid</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">tc</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]:</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tc</span></div>

<div class="viewcode-block" id="RLOAD1.Td"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.RLOAD1.Td">[docs]</a>    <span class="k">def</span> <span class="nf">Td</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">td_ref</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">td_ref</span><span class="o">.</span><span class="n">tid</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">td</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]:</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">td</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">delay_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay_ref</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay_ref</span><span class="o">.</span><span class="n">sid</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.</span><span class="p">]:</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">dphase_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dphase_ref</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dphase_ref</span><span class="o">.</span><span class="n">sid</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">dphase</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]:</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dphase</span>

<div class="viewcode-block" id="RLOAD1.get_load_at_freq"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.RLOAD1.get_load_at_freq">[docs]</a>    <span class="k">def</span> <span class="nf">get_load_at_freq</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">freq</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mf">1.</span><span class="p">):</span>
        <span class="c1"># A = 1. # points to DAREA or SPCD</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">freq</span><span class="p">,</span> <span class="nb">float</span><span class="p">):</span>
            <span class="n">freq</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">freq</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">freq</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">freq</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tc</span><span class="p">,</span> <span class="nb">float</span><span class="p">):</span>
            <span class="n">c</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tc</span><span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">tc</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">c</span> <span class="o">=</span> <span class="mf">0.</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tc_ref</span><span class="o">.</span><span class="n">interpolate</span><span class="p">(</span><span class="n">freq</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">td</span><span class="p">,</span> <span class="nb">float</span><span class="p">):</span>
            <span class="n">d</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">td</span><span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">td</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">d</span> <span class="o">=</span> <span class="mf">0.</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">d</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">td_ref</span><span class="o">.</span><span class="n">interpolate</span><span class="p">(</span><span class="n">freq</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dphase</span><span class="p">,</span> <span class="nb">float</span><span class="p">):</span>
            <span class="n">dphase</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dphase</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">dphase</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">dphase</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">nids</span><span class="p">,</span> <span class="n">comps</span><span class="p">,</span> <span class="n">dphases</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dphase_ref</span><span class="o">.</span><span class="n">get_dphase_at_freq</span><span class="p">(</span><span class="n">freq</span><span class="p">)</span>
            <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">dphases</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;dphases=</span><span class="si">%s</span><span class="se">\n</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">dphases</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dphase_ref</span><span class="p">)</span>
            <span class="n">dphase</span> <span class="o">=</span> <span class="n">dphases</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delay</span><span class="p">,</span> <span class="nb">float</span><span class="p">):</span>
            <span class="n">tau</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">tau</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">nids</span><span class="p">,</span> <span class="n">comps</span><span class="p">,</span> <span class="n">taus</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay_ref</span><span class="o">.</span><span class="n">get_delay_at_freq</span><span class="p">(</span><span class="n">freq</span><span class="p">)</span>
            <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">taus</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;taus=</span><span class="si">%s</span><span class="se">\n</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">taus</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay_ref</span><span class="p">)</span>
            <span class="n">tau</span> <span class="o">=</span> <span class="n">taus</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="n">out</span> <span class="o">=</span> <span class="p">(</span><span class="n">c</span> <span class="o">+</span> <span class="mf">1.</span><span class="n">j</span> <span class="o">*</span> <span class="n">d</span><span class="p">)</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">dphase</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="n">freq</span> <span class="o">*</span> <span class="n">tau</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">out</span></div>

<div class="viewcode-block" id="RLOAD1.raw_fields"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.RLOAD1.raw_fields">[docs]</a>    <span class="k">def</span> <span class="nf">raw_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">list_fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;RLOAD1&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">sid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">excite_id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay_id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dphase_id</span><span class="p">,</span>
                       <span class="bp">self</span><span class="o">.</span><span class="n">Tc</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">Td</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">Type</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">list_fields</span></div>

<div class="viewcode-block" id="RLOAD1.repr_fields"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.RLOAD1.repr_fields">[docs]</a>    <span class="k">def</span> <span class="nf">repr_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">Type</span> <span class="o">=</span> <span class="n">set_blank_if_default</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Type</span><span class="p">,</span> <span class="s1">&#39;LOAD&#39;</span><span class="p">)</span>
        <span class="n">list_fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;RLOAD1&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">sid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">excite_id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay_id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dphase_id</span><span class="p">,</span>
                       <span class="bp">self</span><span class="o">.</span><span class="n">Tc</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">Td</span><span class="p">(),</span> <span class="n">Type</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">list_fields</span></div>

<div class="viewcode-block" id="RLOAD1.write_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.RLOAD1.write_card">[docs]</a>    <span class="k">def</span> <span class="nf">write_card</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">is_double</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">card</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">repr_fields</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">size</span> <span class="o">==</span> <span class="mi">8</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">print_card_8</span><span class="p">(</span><span class="n">card</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">is_double</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">print_card_double</span><span class="p">(</span><span class="n">card</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">print_card_16</span><span class="p">(</span><span class="n">card</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="_cross_reference_excite_id_backup"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads._cross_reference_excite_id_backup">[docs]</a><span class="k">def</span> <span class="nf">_cross_reference_excite_id_backup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">msg</span><span class="p">):</span>  <span class="c1"># pragma: no cover</span>
    <span class="sd">&quot;&quot;&quot;not quite done...not sure how to handle the very odd xref</span>

<span class="sd">    EXCITEID may refer to one or more static load entries (FORCE, PLOADi, GRAV, etc.).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">excite_id_ref</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">case_control</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">case_control_deck</span>
    <span class="k">if</span> <span class="n">case_control</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1">#print(&#39;cc = %r&#39; % case_control)</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">subcase</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">case_control_deck</span><span class="o">.</span><span class="n">subcases</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="c1">#print(subcase, type(subcase))</span>
            <span class="c1">#if &#39;LOADSET&#39; in subcase:</span>
                <span class="c1">#lseq_id = subcase[&#39;LOADSET&#39;][0]</span>
                <span class="c1">#lseq = model.Load(lseq_id, consider_load_combinations=False, msg=msg)[0]</span>
                <span class="c1">#self.excite_id_ref = lseq</span>
                <span class="c1">##self.dload_id = lseq.</span>
            <span class="c1">#if &#39;DLOAD&#39; in subcase:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">excite_id</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">loads</span><span class="p">:</span>
                    <span class="c1"># FORCE, FORCE1, FORCE2, PLOAD4, GRAV</span>
                    <span class="c1"># changes the magnitudes of the load, not the direction</span>
                    <span class="n">model</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;excite_id load = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">excite_id</span><span class="p">)</span>
                    <span class="c1">#print(&#39;  dloads =&#39;, list(model.dloads.keys()))</span>
                    <span class="c1">#print(&#39;  dareas =&#39;, list(model.dareas.keys()))</span>
                    <span class="n">excite_id_ref</span> <span class="o">+=</span> <span class="n">model</span><span class="o">.</span><span class="n">loads</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">excite_id</span><span class="p">]</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">excite_id</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">dareas</span><span class="p">:</span>
                    <span class="n">model</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;excite_id darea = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">excite_id</span><span class="p">)</span>
                    <span class="n">darea_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">DAREA</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">excite_id</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>
                    <span class="n">excite_id_ref</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">darea_ref</span><span class="p">)</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">excite_id</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">dload_entries</span><span class="p">:</span>
                    <span class="c1"># this is probably wrong...</span>
                    <span class="c1"># it was added to pass TestLoads.test_loads_nonlinear_thermal1, but</span>
                    <span class="c1"># I think QVECT should be in self.loads, not self.dload_entries...</span>
                    <span class="n">model</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;excite_id dload_entries = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">excite_id</span><span class="p">)</span>
                    <span class="n">excite_id_ref</span> <span class="o">+=</span> <span class="n">model</span><span class="o">.</span><span class="n">dload_entries</span>
                <span class="c1">#  what about TEMPBC?</span>
            <span class="c1">#else:</span>
                <span class="c1">#msg = (&#39;LOADSET and DLOAD are not found in the case control deck\n%s&#39; %</span>
                       <span class="c1">#str(model.case_control_deck))</span>
                <span class="c1">#raise RuntimeError(msg)</span>
    <span class="c1">#else:</span>
        <span class="c1">#model.log.warning(&#39;could not find excite_id=%i for\n%s&#39; % (self.excite_id, str(self)))</span>
        <span class="c1">#self.excite_id_ref = model.DAREA(self.excite_id, msg=msg)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">excite_id_ref</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;excite_id = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">excite_id</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  loads  =&#39;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">loads</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  dareas =&#39;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">dareas</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  dloads =&#39;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">dloads</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  dload_entries =&#39;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">dload_entries</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
        <span class="n">model</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s1">&#39;could not find excite_id=</span><span class="si">%i</span><span class="s1"> for</span><span class="se">\n</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">excite_id</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)))</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s1">&#39;could not find excite_id=</span><span class="si">%i</span><span class="s1"> for</span><span class="se">\n</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">excite_id</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)))</span></div>

<div class="viewcode-block" id="get_lseqs_by_excite_id"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.get_lseqs_by_excite_id">[docs]</a><span class="k">def</span> <span class="nf">get_lseqs_by_excite_id</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">excite_id</span><span class="p">):</span>
    <span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>

    <span class="c1"># get the lseqs that correspond to the correct EXCITE_ID id</span>
    <span class="n">lseq_sids</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">sid</span><span class="p">,</span> <span class="n">loads</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">load_combinations</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">for</span> <span class="n">load</span> <span class="ow">in</span> <span class="n">loads</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">load</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;LSEQ&#39;</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">excite_id</span> <span class="o">==</span> <span class="n">load</span><span class="o">.</span><span class="n">excite_id</span><span class="p">:</span>
                    <span class="c1">#print(load)</span>
                    <span class="n">lseq_sids</span><span class="p">[</span><span class="n">sid</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">load</span><span class="p">)</span>
    <span class="c1">#for sid, loads in lseqs.items():</span>
        <span class="c1">#print(sid, loads)</span>
    <span class="k">return</span> <span class="n">lseq_sids</span></div>

<div class="viewcode-block" id="_cross_reference_excite_id"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads._cross_reference_excite_id">[docs]</a><span class="k">def</span> <span class="nf">_cross_reference_excite_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">msg</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;not quite done...not sure how to handle the very odd xref</span>

<span class="sd">    EXCITEID may refer to one or more static load entries (FORCE, PLOADi, GRAV, etc.).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1">#print(&#39;*&#39; * 80)</span>
    <span class="n">lseq_sids</span> <span class="o">=</span> <span class="n">get_lseqs_by_excite_id</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">excite_id</span><span class="p">)</span>

    <span class="c1"># find all the LOADSETs in the model</span>
    <span class="c1"># LOADSETs reference LSEQs by sid</span>
    <span class="n">valid_lseqs</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">lseq_sids</span><span class="p">:</span>
        <span class="c1"># get the sid for the LSEQ</span>
        <span class="n">case_control</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">case_control_deck</span>
        <span class="k">if</span> <span class="n">case_control</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1">#print(&#39;cc = %r&#39; % case_control)</span>
            <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">subcase</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">case_control_deck</span><span class="o">.</span><span class="n">subcases</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                <span class="k">if</span> <span class="s1">&#39;LOADSET&#39;</span> <span class="ow">in</span> <span class="n">subcase</span><span class="p">:</span>
                    <span class="n">lseq_sid</span> <span class="o">=</span> <span class="n">subcase</span><span class="p">[</span><span class="s1">&#39;LOADSET&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
                    <span class="k">if</span> <span class="n">lseq_sid</span> <span class="ow">in</span> <span class="n">lseq_sids</span><span class="p">:</span>
                        <span class="n">model</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;adding LOADSET = </span><span class="si">%i</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">lseq_sid</span><span class="p">)</span>
                        <span class="n">valid_lseqs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">lseq_sid</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">valid_lseqs</span><span class="p">:</span>
            <span class="n">valid_lseqs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">valid_lseqs</span><span class="p">))</span>
            <span class="n">valid_lseqs</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
            <span class="c1">#assert len(valid_lseqs) == 1, &#39;valid_lseqs=%s&#39; % valid_lseqs</span>
    <span class="c1">#print(&#39;valid_lseqs =&#39;, valid_lseqs)</span>
    <span class="c1">#  can Case Control LOADSET be substituded for Case Control DLOAD id?</span>

    <span class="n">excite_id_ref</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">excite_id</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">loads</span><span class="p">:</span>
        <span class="c1"># FORCE, FORCE1, FORCE2, PLOAD4, GRAV</span>
        <span class="c1"># changes the magnitudes of the load, not the direction</span>
        <span class="n">model</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;excite_id load = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">excite_id</span><span class="p">)</span>
        <span class="c1">#print(&#39;  dloads =&#39;, list(model.dloads.keys()))</span>
        <span class="c1">#print(&#39;  dareas =&#39;, list(model.dareas.keys()))</span>
        <span class="n">excite_id_ref</span> <span class="o">+=</span> <span class="n">model</span><span class="o">.</span><span class="n">loads</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">excite_id</span><span class="p">]</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">excite_id</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">dareas</span><span class="p">:</span>
        <span class="n">model</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;excite_id darea = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">excite_id</span><span class="p">)</span>
        <span class="n">darea_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">DAREA</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">excite_id</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>
        <span class="n">excite_id_ref</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">darea_ref</span><span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">excite_id</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">bcs</span><span class="p">:</span>
        <span class="c1"># CONV, TEMPBC</span>
        <span class="n">model</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;excite_id bcs = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">excite_id</span><span class="p">)</span>
        <span class="n">excite_id_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">bcs</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">excite_id</span><span class="p">]</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">excite_id</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">dload_entries</span><span class="p">:</span>  <span class="c1">#  this is probably wrong...</span>
        <span class="c1"># this is probably wrong...</span>
        <span class="c1"># it was added to pass TestLoads.test_loads_nonlinear_thermal1, but</span>
        <span class="c1"># I think QVECT should be in self.loads, not self.dload_entries...</span>
        <span class="n">model</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;excite_id dload_entries = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">excite_id</span><span class="p">)</span>
        <span class="n">excite_id_ref</span> <span class="o">+=</span> <span class="n">model</span><span class="o">.</span><span class="n">dload_entries</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">excite_id</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">load_combinations</span><span class="p">:</span>  <span class="c1">#  this should be right...</span>
        <span class="c1"># C:\NASA\m4\formats\git\examples\move_tpl\nlstrs2.op2</span>
        <span class="n">model</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;excite_id load_combinations = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">excite_id</span><span class="p">)</span>
        <span class="n">excite_id_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">load_combinations</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">excite_id</span><span class="p">]</span>

    <span class="c1">#  handles LSEQ</span>
    <span class="k">if</span> <span class="n">valid_lseqs</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">lseq_sid</span> <span class="ow">in</span> <span class="n">valid_lseqs</span><span class="p">:</span>
            <span class="n">excite_id_ref</span> <span class="o">+=</span> <span class="n">lseq_sids</span><span class="p">[</span><span class="n">lseq_sid</span><span class="p">]</span>

    <span class="c1">#  what about SPCD?</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">excite_id_ref</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">get_bdf_stats</span><span class="p">())</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;excite_id = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">excite_id</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  loads  =&#39;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">loads</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  dareas =&#39;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">dareas</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  bcs =&#39;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">bcs</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  dloads =&#39;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">dloads</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  dload_entries =&#39;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">dload_entries</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  load_combinations =&#39;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">load_combinations</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span> <span class="c1">#  what about LSEQ</span>
        <span class="k">if</span> <span class="n">lseq_sids</span><span class="p">:</span>
            <span class="n">sids</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">lseq_sids</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  lseq_excite_ids=</span><span class="si">%s</span><span class="s1">; lseq_sids=</span><span class="si">%s</span><span class="s1">; valid_lseqs=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">excite_id</span><span class="p">,</span> <span class="n">sids</span><span class="p">,</span> <span class="n">valid_lseqs</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  lseq_sids = []&#39;</span><span class="p">)</span>
        <span class="n">model</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s1">&#39;could not find excite_id=</span><span class="si">%i</span><span class="s1"> for</span><span class="se">\n</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">excite_id</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)))</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s1">&#39;could not find excite_id=</span><span class="si">%i</span><span class="s1"> for</span><span class="se">\n</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">excite_id</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)))</span></div>


<div class="viewcode-block" id="RLOAD2"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.RLOAD2">[docs]</a><span class="k">class</span> <span class="nc">RLOAD2</span><span class="p">(</span><span class="n">DynamicLoad</span><span class="p">):</span>
    <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Defines a frequency-dependent dynamic load of the form</span>
<span class="sd">    for use in frequency response problems.</span>

<span class="sd">    .. math:: \left\{ P(f)  \right\}  = \left\{A\right\} * B(f)</span>
<span class="sd">        e^{  i \left\{ \phi(f) + \theta - 2 \pi f \tau \right\} }</span>

<span class="sd">    +--------+-----+----------+-------+--------+----+----+------+</span>
<span class="sd">    |   1    |  2  |     3    |   4   |    5   |  6 |  7 |  8   |</span>
<span class="sd">    +========+=====+==========+=======+========+====+====+======+</span>
<span class="sd">    | RLOAD2 | SID | EXCITEID | DELAY | DPHASE | TB | TP | TYPE |</span>
<span class="sd">    +--------+-----+----------+-------+--------+----+----+------+</span>
<span class="sd">    | RLOAD2 |  5  |    3     |       |        | 1  |    |      |</span>
<span class="sd">    +--------+-----+----------+-------+--------+----+----+------+</span>

<span class="sd">    NX allows DELAY and DPHASE to be floats</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">type</span> <span class="o">=</span> <span class="s1">&#39;RLOAD2&#39;</span>
    <span class="n">_properties</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;delay_id&#39;</span><span class="p">,</span> <span class="s1">&#39;dphase_id&#39;</span><span class="p">]</span>

<div class="viewcode-block" id="RLOAD2._init_from_empty"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.RLOAD2._init_from_empty">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_init_from_empty</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="n">sid</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">excite_id</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">RLOAD2</span><span class="p">(</span><span class="n">sid</span><span class="p">,</span> <span class="n">excite_id</span><span class="p">,</span> <span class="n">delay</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">dphase</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">tb</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">tp</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">Type</span><span class="o">=</span><span class="s1">&#39;LOAD&#39;</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span></div>

    <span class="c1"># P(f) = {A} * B(f) * e^(i*phi(f), + theta - 2*pi*f*tau)</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sid</span><span class="p">,</span> <span class="n">excite_id</span><span class="p">,</span> <span class="n">delay</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">dphase</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">tb</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">tp</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">Type</span><span class="o">=</span><span class="s1">&#39;LOAD&#39;</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a nRLOAD2 card, which defienes a frequency-dependent load</span>
<span class="sd">        based on TABLEDs.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        sid : int</span>
<span class="sd">            load id</span>
<span class="sd">        excite_id : int</span>
<span class="sd">            node id where the load is applied</span>
<span class="sd">        delay : int/float; default=None</span>
<span class="sd">            the delay; if it&#39;s 0/blank there is no delay</span>
<span class="sd">            float : delay in units of time</span>
<span class="sd">            int : delay id</span>
<span class="sd">        dphase : int/float; default=None</span>
<span class="sd">            the dphase; if it&#39;s 0/blank there is no phase lag</span>
<span class="sd">            float : delay in units of time</span>
<span class="sd">            int : delay id</span>
<span class="sd">        tb : int/float; default=0</span>
<span class="sd">            TABLEDi id that defines B(f) for all degrees of freedom in</span>
<span class="sd">            EXCITEID entry</span>
<span class="sd">        tc : int/float; default=0</span>
<span class="sd">            TABLEDi id that defines C(f) for all degrees of freedom in</span>
<span class="sd">            EXCITEID entry</span>
<span class="sd">        td : int/float; default=0</span>
<span class="sd">            TABLEDi id that defines D(f) for all degrees of freedom in</span>
<span class="sd">            EXCITEID entry</span>
<span class="sd">        tp : int/float; default=0</span>
<span class="sd">            TABLEDi id that defines phi(f) for all degrees of freedom in</span>
<span class="sd">            EXCITEID entry</span>
<span class="sd">        Type : int/str; default=&#39;LOAD&#39;</span>
<span class="sd">            the type of load</span>
<span class="sd">            0/LOAD</span>
<span class="sd">            1/DISP</span>
<span class="sd">            2/VELO</span>
<span class="sd">            3/ACCE</span>
<span class="sd">            4, 5, 6, 7, 12, 13 - MSC only</span>
<span class="sd">        comment : str; default=&#39;&#39;</span>
<span class="sd">            a comment for the card</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">DynamicLoad</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">comment</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">=</span> <span class="n">comment</span>
        <span class="n">Type</span> <span class="o">=</span> <span class="n">update_loadtype</span><span class="p">(</span><span class="n">Type</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">sid</span> <span class="o">=</span> <span class="n">sid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">excite_id</span> <span class="o">=</span> <span class="n">excite_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delay</span> <span class="o">=</span> <span class="n">delay</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dphase</span> <span class="o">=</span> <span class="n">dphase</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tb</span> <span class="o">=</span> <span class="n">tb</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tp</span> <span class="o">=</span> <span class="n">tp</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="o">=</span> <span class="n">Type</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tb_ref</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tp_ref</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delay_ref</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dphase_ref</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1">#@property</span>
    <span class="c1">#def Type(self):</span>
        <span class="c1">#&quot;&quot;&quot;gets the load_type&quot;&quot;&quot;</span>
        <span class="c1">#return self.load_type</span>
    <span class="c1">#@Type.setter</span>
    <span class="c1">#def Type(self, load_type):</span>
        <span class="c1">#&quot;&quot;&quot;sets the load_type&quot;&quot;&quot;</span>
        <span class="c1">#self.load_type = load_type</span>

<div class="viewcode-block" id="RLOAD2.validate"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.RLOAD2.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="n">is_failed</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tb</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">tp</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;either RLOAD2 TB or TP &gt; 0; tb=</span><span class="si">%s</span><span class="s1"> tp=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tb</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">tp</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;L&#39;</span><span class="p">,</span> <span class="s1">&#39;LO&#39;</span><span class="p">,</span> <span class="s1">&#39;LOA&#39;</span><span class="p">,</span> <span class="s1">&#39;LOAD&#39;</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="o">=</span> <span class="s1">&#39;LOAD&#39;</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;DI&#39;</span><span class="p">,</span> <span class="s1">&#39;DIS&#39;</span><span class="p">,</span> <span class="s1">&#39;DISP&#39;</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="o">=</span> <span class="s1">&#39;DISP&#39;</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;V&#39;</span><span class="p">,</span> <span class="s1">&#39;VE&#39;</span><span class="p">,</span> <span class="s1">&#39;VEL&#39;</span><span class="p">,</span> <span class="s1">&#39;VELO&#39;</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="o">=</span> <span class="s1">&#39;VELO&#39;</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;AC&#39;</span><span class="p">,</span> <span class="s1">&#39;ACC&#39;</span><span class="p">,</span> <span class="s1">&#39;ACCE&#39;</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="o">=</span> <span class="s1">&#39;ACCE&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;invalid RLOAD2 type  Type=</span><span class="si">%r</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">Type</span>
            <span class="n">is_failed</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="k">if</span> <span class="n">is_failed</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span></div>

<div class="viewcode-block" id="RLOAD2.add_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.RLOAD2.add_card">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">add_card</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">card</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a RLOAD2 card from ``BDF.add_card(...)``</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        card : BDFCard()</span>
<span class="sd">            a BDFCard object</span>
<span class="sd">        comment : str; default=&#39;&#39;</span>
<span class="sd">            a comment for the card</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">sid</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;sid&#39;</span><span class="p">)</span>
        <span class="n">excite_id</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;excite_id&#39;</span><span class="p">)</span>
        <span class="n">delay</span> <span class="o">=</span> <span class="n">integer_double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;delay&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">dphase</span> <span class="o">=</span> <span class="n">integer_double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;dphase&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">tb</span> <span class="o">=</span> <span class="n">integer_double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;tb&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">tp</span> <span class="o">=</span> <span class="n">integer_double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;tp&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">Type</span> <span class="o">=</span> <span class="n">integer_string_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;Type&#39;</span><span class="p">,</span> <span class="s1">&#39;LOAD&#39;</span><span class="p">)</span>

        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">card</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;len(RLOAD2 card) = </span><span class="si">%i</span><span class="se">\n</span><span class="s1">card=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">card</span><span class="p">),</span> <span class="n">card</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">RLOAD2</span><span class="p">(</span><span class="n">sid</span><span class="p">,</span> <span class="n">excite_id</span><span class="p">,</span> <span class="n">delay</span><span class="p">,</span> <span class="n">dphase</span><span class="p">,</span> <span class="n">tb</span><span class="p">,</span> <span class="n">tp</span><span class="p">,</span> <span class="n">Type</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span></div>

<div class="viewcode-block" id="RLOAD2.get_load_at_freq"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.RLOAD2.get_load_at_freq">[docs]</a>    <span class="k">def</span> <span class="nf">get_load_at_freq</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">freq</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mf">1.</span><span class="p">):</span>
        <span class="c1"># A = 1. # points to DAREA or SPCD</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tb</span><span class="p">,</span> <span class="nb">float</span><span class="p">):</span>
            <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tb</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">tb</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">b</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tb_ref</span><span class="o">.</span><span class="n">interpolate</span><span class="p">(</span><span class="n">freq</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tp</span><span class="p">,</span> <span class="nb">float</span><span class="p">):</span>
            <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tp</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">tp</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">p</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tp_ref</span><span class="o">.</span><span class="n">interpolate</span><span class="p">(</span><span class="n">freq</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dphase</span><span class="p">,</span> <span class="nb">float</span><span class="p">):</span>
            <span class="n">dphase</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dphase</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">dphase</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">dphase</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">dphase</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">nids</span><span class="p">,</span> <span class="n">comps</span><span class="p">,</span> <span class="n">dphases</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dphase_ref</span><span class="o">.</span><span class="n">get_dphase_at_freq</span><span class="p">(</span><span class="n">freq</span><span class="p">)</span>
            <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">dphases</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span> <span class="n">dphases</span>
            <span class="n">dphase</span> <span class="o">=</span> <span class="n">dphases</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delay</span><span class="p">,</span> <span class="nb">float</span><span class="p">):</span>
            <span class="n">tau</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">tau</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">nids</span><span class="p">,</span> <span class="n">comps</span><span class="p">,</span> <span class="n">taus</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay_ref</span><span class="o">.</span><span class="n">get_delay_at_freq</span><span class="p">(</span><span class="n">freq</span><span class="p">)</span>
            <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">taus</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span> <span class="n">taus</span>
            <span class="n">tau</span> <span class="o">=</span> <span class="n">taus</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">b</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="mf">1.</span><span class="n">j</span> <span class="o">*</span> <span class="n">p</span> <span class="o">+</span> <span class="n">dphase</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="n">freq</span> <span class="o">*</span> <span class="n">tau</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;b =&#39;</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;p =&#39;</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;dphase =&#39;</span><span class="p">,</span> <span class="n">dphase</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;freq =&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;tau =&#39;</span><span class="p">,</span> <span class="n">tau</span><span class="p">)</span>
            <span class="k">raise</span>
        <span class="k">return</span> <span class="n">out</span></div>

<div class="viewcode-block" id="RLOAD2.cross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.RLOAD2.cross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">cross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">BDF</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Cross links the card so referenced cards can be extracted directly</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        model : BDF()</span>
<span class="sd">            the BDF object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;, which is required by RLOAD2=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sid</span><span class="p">)</span>
        <span class="n">_cross_reference_excite_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">msg</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tb</span><span class="p">,</span> <span class="n">integer_types</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">tb</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tb_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">TableD</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tb</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tp</span><span class="p">,</span> <span class="n">integer_types</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">tp</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tp_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">TableD</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tp</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delay</span><span class="p">,</span> <span class="n">integer_types</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">delay_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">DELAY</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delay</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dphase</span><span class="p">,</span> <span class="n">integer_types</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">dphase</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dphase_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">DPHASE</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dphase</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span></div>

<div class="viewcode-block" id="RLOAD2.safe_cross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.RLOAD2.safe_cross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">safe_cross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">xref_errors</span><span class="p">,</span> <span class="p">):</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;, which is required by RLOAD2=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sid</span><span class="p">)</span>
        <span class="n">_cross_reference_excite_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">msg</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tb</span><span class="p">,</span> <span class="n">integer_types</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">tb</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tb_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">TableD</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tb</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tp</span><span class="p">,</span> <span class="n">integer_types</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">tp</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tp_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">TableD</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tp</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delay</span><span class="p">,</span> <span class="n">integer_types</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">delay_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">DELAY</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delay</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dphase</span><span class="p">,</span> <span class="n">integer_types</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">dphase</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dphase_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">DPHASE</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dphase</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span></div>

<div class="viewcode-block" id="RLOAD2.uncross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.RLOAD2.uncross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">uncross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Removes cross-reference links&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tb</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Tb</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Tp</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delay</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dphase</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dphase_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tb_ref</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tp_ref</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delay_ref</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dphase_ref</span> <span class="o">=</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="RLOAD2.get_loads"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.RLOAD2.get_loads">[docs]</a>    <span class="k">def</span> <span class="nf">get_loads</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="p">]</span></div>

<div class="viewcode-block" id="RLOAD2.LoadID"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.RLOAD2.LoadID">[docs]</a>    <span class="k">def</span> <span class="nf">LoadID</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">sid</span></div>

<div class="viewcode-block" id="RLOAD2.Tb"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.RLOAD2.Tb">[docs]</a>    <span class="k">def</span> <span class="nf">Tb</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tb_ref</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tb_ref</span><span class="o">.</span><span class="n">tid</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">tb</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tb</span></div>

<div class="viewcode-block" id="RLOAD2.Tp"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.RLOAD2.Tp">[docs]</a>    <span class="k">def</span> <span class="nf">Tp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tp_ref</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tp_ref</span><span class="o">.</span><span class="n">tid</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">tp</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tp</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">delay_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay_ref</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay_ref</span><span class="o">.</span><span class="n">sid</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">dphase_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dphase_ref</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dphase_ref</span><span class="o">.</span><span class="n">sid</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">dphase</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dphase</span>

<div class="viewcode-block" id="RLOAD2.raw_fields"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.RLOAD2.raw_fields">[docs]</a>    <span class="k">def</span> <span class="nf">raw_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">list_fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;RLOAD2&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">sid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">excite_id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay_id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dphase_id</span><span class="p">,</span>
                       <span class="bp">self</span><span class="o">.</span><span class="n">Tb</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">Tp</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">Type</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">list_fields</span></div>

<div class="viewcode-block" id="RLOAD2.repr_fields"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.RLOAD2.repr_fields">[docs]</a>    <span class="k">def</span> <span class="nf">repr_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">Type</span> <span class="o">=</span> <span class="n">set_blank_if_default</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Type</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="n">list_fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;RLOAD2&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">sid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">excite_id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay_id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dphase_id</span><span class="p">,</span>
                       <span class="bp">self</span><span class="o">.</span><span class="n">Tb</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">Tp</span><span class="p">(),</span> <span class="n">Type</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">list_fields</span></div>

<div class="viewcode-block" id="RLOAD2.write_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.RLOAD2.write_card">[docs]</a>    <span class="k">def</span> <span class="nf">write_card</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">is_double</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">card</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">repr_fields</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">size</span> <span class="o">==</span> <span class="mi">8</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">print_card_8</span><span class="p">(</span><span class="n">card</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">is_double</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">print_card_double</span><span class="p">(</span><span class="n">card</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">print_card_16</span><span class="p">(</span><span class="n">card</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="TLOAD1"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.TLOAD1">[docs]</a><span class="k">class</span> <span class="nc">TLOAD1</span><span class="p">(</span><span class="n">DynamicLoad</span><span class="p">):</span>
    <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Transient Response Dynamic Excitation, Form 1</span>

<span class="sd">    Defines a time-dependent dynamic load or enforced motion of the form:</span>

<span class="sd">    .. math::</span>
<span class="sd">      \left\{ P(t) \right\} = \left\{ A \right\} \cdot F(t-\tau)</span>

<span class="sd">    for use in transient response analysis.</span>

<span class="sd">    MSC 20005.2</span>
<span class="sd">    +--------+-----+----------+-------+------+-----+-----+-----+</span>
<span class="sd">    |    1   |  2  |     3    |   4   |   5  |  6  |  7  |  8  |</span>
<span class="sd">    +========+=====+==========+=======+======+=====+=====+=====+</span>
<span class="sd">    | TLOAD1 | SID | EXCITEID | DELAY | TYPE | TID | US0 | VS0 |</span>
<span class="sd">    +--------+-----+----------+-------+------+-----+-----+-----+</span>

<span class="sd">    NX 11</span>
<span class="sd">    +--------+-----+----------+-------+------+-----+</span>
<span class="sd">    |    1   |  2  |     3    |   4   |   5  |  6  |</span>
<span class="sd">    +========+=====+==========+=======+======+=====+</span>
<span class="sd">    | TLOAD1 | SID | EXCITEID | DELAY | TYPE | TID |</span>
<span class="sd">    +--------+-----+----------+-------+------+-----+</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">type</span> <span class="o">=</span> <span class="s1">&#39;TLOAD1&#39;</span>
    <span class="n">_properties</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;delay_id&#39;</span><span class="p">]</span>

<div class="viewcode-block" id="TLOAD1._init_from_empty"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.TLOAD1._init_from_empty">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_init_from_empty</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="n">sid</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">excite_id</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">tid</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">TLOAD1</span><span class="p">(</span><span class="n">sid</span><span class="p">,</span> <span class="n">excite_id</span><span class="p">,</span> <span class="n">tid</span><span class="p">,</span> <span class="n">delay</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">Type</span><span class="o">=</span><span class="s1">&#39;LOAD&#39;</span><span class="p">,</span> <span class="n">us0</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">vs0</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sid</span><span class="p">,</span> <span class="n">excite_id</span><span class="p">,</span> <span class="n">tid</span><span class="p">,</span> <span class="n">delay</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">Type</span><span class="o">=</span><span class="s1">&#39;LOAD&#39;</span><span class="p">,</span>
                 <span class="n">us0</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">vs0</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a TLOAD1 card, which defienes a time-dependent load</span>
<span class="sd">        based on a DTABLE.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        sid : int</span>
<span class="sd">            load id</span>
<span class="sd">        excite_id : int</span>
<span class="sd">            node id where the load is applied</span>
<span class="sd">        tid : int</span>
<span class="sd">            TABLEDi id that defines F(t) for all degrees of freedom in</span>
<span class="sd">            EXCITEID entry</span>
<span class="sd">            float : MSC not supported</span>
<span class="sd">        delay : int/float; default=None</span>
<span class="sd">            the delay; if it&#39;s 0/blank there is no delay</span>
<span class="sd">            float : delay in units of time</span>
<span class="sd">            int : delay id</span>
<span class="sd">        Type : int/str; default=&#39;LOAD&#39;</span>
<span class="sd">            the type of load</span>
<span class="sd">            0/LOAD</span>
<span class="sd">            1/DISP</span>
<span class="sd">            2/VELO</span>
<span class="sd">            3/ACCE</span>
<span class="sd">            4, 5, 6, 7, 12, 13 - MSC only</span>
<span class="sd">        us0 : float; default=0.</span>
<span class="sd">            Factor for initial displacements of the enforced degrees-of-freedom</span>
<span class="sd">            MSC only</span>
<span class="sd">        vs0 : float; default=0.</span>
<span class="sd">            Factor for initial velocities of the enforced degrees-of-freedom</span>
<span class="sd">            MSC only</span>
<span class="sd">        comment : str; default=&#39;&#39;</span>
<span class="sd">            a comment for the card</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">DynamicLoad</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">delay</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">delay</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">Type</span> <span class="o">=</span> <span class="n">update_loadtype</span><span class="p">(</span><span class="n">Type</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">comment</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">=</span> <span class="n">comment</span>

        <span class="c1">#: load ID</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sid</span> <span class="o">=</span> <span class="n">sid</span>

        <span class="c1">#: Identification number of DAREA or SPCD entry set or a thermal load</span>
        <span class="c1">#: set (in heat transfer analysis) that defines {A}. (Integer &gt; 0)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">excite_id</span> <span class="o">=</span> <span class="n">excite_id</span>

        <span class="c1">#: If it is a non-zero integer, it represents the</span>
        <span class="c1">#: identification number of DELAY Bulk Data entry that defines .</span>
        <span class="c1">#: If it is real, then it directly defines the value of that will</span>
        <span class="c1">#: be used for all degrees-of-freedom that are excited by this</span>
        <span class="c1">#: dynamic load entry.  See also Remark 9. (Integer &gt;= 0,</span>
        <span class="c1">#: real or blank)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delay</span> <span class="o">=</span> <span class="n">delay</span>

        <span class="c1">#: Defines the type of the dynamic excitation. (LOAD,DISP, VELO, ACCE)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="o">=</span> <span class="n">Type</span>

        <span class="c1">#: Identification number of TABLEDi entry that gives F(t). (Integer &gt; 0)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tid</span> <span class="o">=</span> <span class="n">tid</span>

        <span class="c1">#: Factor for initial displacements of the enforced degrees-of-freedom.</span>
        <span class="c1">#: (Real; Default = 0.0)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">us0</span> <span class="o">=</span> <span class="n">us0</span>
        <span class="c1">#: Factor for initial velocities of the enforced degrees-of-freedom.</span>
        <span class="c1">#: (Real; Default = 0.0)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vs0</span> <span class="o">=</span> <span class="n">vs0</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">tid_ref</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delay_ref</span> <span class="o">=</span> <span class="kc">None</span>

<div class="viewcode-block" id="TLOAD1.validate"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.TLOAD1.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;L&#39;</span><span class="p">,</span> <span class="s1">&#39;LO&#39;</span><span class="p">,</span> <span class="s1">&#39;LOA&#39;</span><span class="p">,</span> <span class="s1">&#39;LOAD&#39;</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="o">=</span> <span class="s1">&#39;LOAD&#39;</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;DI&#39;</span><span class="p">,</span> <span class="s1">&#39;DIS&#39;</span><span class="p">,</span> <span class="s1">&#39;DISP&#39;</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="o">=</span> <span class="s1">&#39;DISP&#39;</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;V&#39;</span><span class="p">,</span> <span class="s1">&#39;VE&#39;</span><span class="p">,</span> <span class="s1">&#39;VEL&#39;</span><span class="p">,</span> <span class="s1">&#39;VELO&#39;</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="o">=</span> <span class="s1">&#39;VELO&#39;</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;AC&#39;</span><span class="p">,</span> <span class="s1">&#39;ACC&#39;</span><span class="p">,</span> <span class="s1">&#39;ACCE&#39;</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="o">=</span> <span class="s1">&#39;ACCE&#39;</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">]:</span>  <span class="c1"># MSC-only</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;invalid TLOAD1 type  Type=</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">Type</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span></div>

<div class="viewcode-block" id="TLOAD1.add_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.TLOAD1.add_card">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">add_card</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">card</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a TLOAD1 card from ``BDF.add_card(...)``</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        card : BDFCard()</span>
<span class="sd">            a BDFCard object</span>
<span class="sd">        comment : str; default=&#39;&#39;</span>
<span class="sd">            a comment for the card</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">sid</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;sid&#39;</span><span class="p">)</span>
        <span class="n">excite_id</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;excite_id&#39;</span><span class="p">)</span>
        <span class="n">delay</span> <span class="o">=</span> <span class="n">integer_double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;delay&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">Type</span> <span class="o">=</span> <span class="n">integer_string_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;Type&#39;</span><span class="p">,</span> <span class="s1">&#39;LOAD&#39;</span><span class="p">)</span>
        <span class="n">tid</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;tid&#39;</span><span class="p">)</span>
        <span class="n">us0</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;us0&#39;</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="n">vs0</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;vs0&#39;</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>

        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">card</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;len(TLOAD1 card) = </span><span class="si">%i</span><span class="se">\n</span><span class="s1">card=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">card</span><span class="p">),</span> <span class="n">card</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">TLOAD1</span><span class="p">(</span><span class="n">sid</span><span class="p">,</span> <span class="n">excite_id</span><span class="p">,</span> <span class="n">tid</span><span class="p">,</span> <span class="n">delay</span><span class="o">=</span><span class="n">delay</span><span class="p">,</span> <span class="n">Type</span><span class="o">=</span><span class="n">Type</span><span class="p">,</span> <span class="n">us0</span><span class="o">=</span><span class="n">us0</span><span class="p">,</span> <span class="n">vs0</span><span class="o">=</span><span class="n">vs0</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span></div>

<div class="viewcode-block" id="TLOAD1.get_loads"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.TLOAD1.get_loads">[docs]</a>    <span class="k">def</span> <span class="nf">get_loads</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="p">]</span></div>

<div class="viewcode-block" id="TLOAD1.cross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.TLOAD1.cross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">cross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">BDF</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Cross links the card so referenced cards can be extracted directly</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        model : BDF()</span>
<span class="sd">            the BDF object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;, which is required by TLOAD1=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sid</span><span class="p">)</span>
        <span class="n">_cross_reference_excite_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">msg</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tid</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tid_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">TableD</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tid</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delay</span><span class="p">,</span> <span class="n">integer_types</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">delay_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">DELAY</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delay</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span></div>

<div class="viewcode-block" id="TLOAD1.safe_cross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.TLOAD1.safe_cross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">safe_cross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;, which is required by TLOAD1=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sid</span><span class="p">)</span>
        <span class="n">_cross_reference_excite_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">msg</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tid</span><span class="p">:</span>
            <span class="c1">#try:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tid_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">TableD</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tid</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>
            <span class="c1">#except</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delay</span><span class="p">,</span> <span class="n">integer_types</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">delay_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">DELAY</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delay_id</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span></div>

<div class="viewcode-block" id="TLOAD1.uncross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.TLOAD1.uncross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">uncross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Removes cross-reference links&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Tid</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delay</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tid_ref</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delay_ref</span> <span class="o">=</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="TLOAD1.Tid"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.TLOAD1.Tid">[docs]</a>    <span class="k">def</span> <span class="nf">Tid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tid_ref</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tid_ref</span><span class="o">.</span><span class="n">tid</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">tid</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tid</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">delay_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay_ref</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay_ref</span><span class="o">.</span><span class="n">sid</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay</span>

<div class="viewcode-block" id="TLOAD1.get_load_at_time"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.TLOAD1.get_load_at_time">[docs]</a>    <span class="k">def</span> <span class="nf">get_load_at_time</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mf">1.</span><span class="p">):</span>
        <span class="c1"># A = 1. # points to DAREA or SPCD</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="nb">float</span><span class="p">):</span>
            <span class="n">time</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">time</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">time</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">time</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delay</span><span class="p">,</span> <span class="nb">float</span><span class="p">):</span>
            <span class="n">tau</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">tau</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">tau</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay_ref</span><span class="o">.</span><span class="n">get_delay_at_time</span><span class="p">(</span><span class="n">time</span><span class="p">)</span>

        <span class="n">i</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">time</span> <span class="o">-</span> <span class="n">tau</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">time2</span> <span class="o">=</span> <span class="n">time</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tid_ref</span><span class="o">.</span><span class="n">interpolate</span><span class="p">(</span><span class="n">time2</span><span class="p">)</span>
        <span class="n">is_spcd</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="o">==</span> <span class="s1">&#39;VELO&#39;</span> <span class="ow">and</span> <span class="n">is_spcd</span><span class="p">:</span>
            <span class="n">resp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">us0</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="o">==</span> <span class="s1">&#39;ACCE&#39;</span> <span class="ow">and</span> <span class="n">is_spcd</span><span class="p">:</span>
            <span class="n">resp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vs0</span>
        <span class="k">return</span> <span class="n">resp</span> <span class="o">*</span> <span class="n">scale</span></div>

<div class="viewcode-block" id="TLOAD1.raw_fields"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.TLOAD1.raw_fields">[docs]</a>    <span class="k">def</span> <span class="nf">raw_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">list_fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;TLOAD1&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">sid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">excite_id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay_id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Type</span><span class="p">,</span>
                       <span class="bp">self</span><span class="o">.</span><span class="n">Tid</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">us0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">vs0</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">list_fields</span></div>

<div class="viewcode-block" id="TLOAD1.repr_fields"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.TLOAD1.repr_fields">[docs]</a>    <span class="k">def</span> <span class="nf">repr_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">us0</span> <span class="o">=</span> <span class="n">set_blank_if_default</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">us0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="n">vs0</span> <span class="o">=</span> <span class="n">set_blank_if_default</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vs0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="n">list_fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;TLOAD1&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">sid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">excite_id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay_id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Type</span><span class="p">,</span>
                       <span class="bp">self</span><span class="o">.</span><span class="n">Tid</span><span class="p">(),</span> <span class="n">us0</span><span class="p">,</span> <span class="n">vs0</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">list_fields</span></div>

<div class="viewcode-block" id="TLOAD1.write_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.TLOAD1.write_card">[docs]</a>    <span class="k">def</span> <span class="nf">write_card</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">is_double</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">card</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">repr_fields</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">size</span> <span class="o">==</span> <span class="mi">8</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">print_card_8</span><span class="p">(</span><span class="n">card</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">is_double</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">print_card_double</span><span class="p">(</span><span class="n">card</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">print_card_16</span><span class="p">(</span><span class="n">card</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="TLOAD2"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.TLOAD2">[docs]</a><span class="k">class</span> <span class="nc">TLOAD2</span><span class="p">(</span><span class="n">DynamicLoad</span><span class="p">):</span>
    <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Transient Response Dynamic Excitation, Form 1</span>

<span class="sd">    Defines a time-dependent dynamic load or enforced motion of the form:</span>

<span class="sd">    .. math::</span>
<span class="sd">    \left\{ P(t) \right\} = \left\{ A \right\} e^(C*t) cos(2 \pi f t + \phi)</span>

<span class="sd">      P(t) = 0                                            (t&lt;T1+tau or t &gt;  T2+tau)</span>
<span class="sd">      P(t) = {A} * t^b * e^(C*t) * cos(2*pi*f*t + phase)  (T1+tau &lt;=   t &lt;= T2+tau)</span>

<span class="sd">    for use in transient response analysis.</span>

<span class="sd">    MSC 2016.1</span>
<span class="sd">    +--------+-----+----------+-------+------+-----+-----+--------+---------+</span>
<span class="sd">    |    1   |  2  |     3    |   4   |   5  |  6  |  7  |    8   |    9    |</span>
<span class="sd">    +========+=====+==========+=======+======+=====+=====+========+=========+</span>
<span class="sd">    | TLOAD2 | SID | EXCITEID | DELAY | TYPE | T1  | T2  |  FREQ  |  PHASE  |</span>
<span class="sd">    +--------+-----+----------+-------+------+-----+-----+--------+---------+</span>
<span class="sd">    |        |  C  |     B    |  US0  |  VS0 |     |     |        |         |</span>
<span class="sd">    +--------+-----+----------+-------+------+-----+-----+--------+---------+</span>

<span class="sd">    NX 11</span>
<span class="sd">    +--------+-----+----------+-------+------+-----+-----+--------+---------+</span>
<span class="sd">    |    1   |  2  |     3    |   4   |   5  |  6  |  7  |    8   |    9    |</span>
<span class="sd">    +========+=====+==========+=======+======+=====+=====+========+=========+</span>
<span class="sd">    | TLOAD2 | SID | EXCITEID | DELAY | TYPE | T1  | T2  |  FREQ  |  PHASE  |</span>
<span class="sd">    +--------+-----+----------+-------+------+-----+-----+--------+---------+</span>
<span class="sd">    |        |  C  |     B    |       |      |     |     |        |         |</span>
<span class="sd">    +--------+-----+----------+-------+------+-----+-----+--------+---------+</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">type</span> <span class="o">=</span> <span class="s1">&#39;TLOAD2&#39;</span>
    <span class="n">_properties</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;delay_id&#39;</span><span class="p">]</span>

<div class="viewcode-block" id="TLOAD2._init_from_empty"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.TLOAD2._init_from_empty">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_init_from_empty</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="n">sid</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">excite_id</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">TLOAD2</span><span class="p">(</span><span class="n">sid</span><span class="p">,</span> <span class="n">excite_id</span><span class="p">,</span> <span class="n">delay</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">Type</span><span class="o">=</span><span class="s1">&#39;LOAD&#39;</span><span class="p">,</span> <span class="n">T1</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">T2</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                      <span class="n">frequency</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">phase</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">us0</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">vs0</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sid</span><span class="p">,</span> <span class="n">excite_id</span><span class="p">,</span> <span class="n">delay</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">Type</span><span class="o">=</span><span class="s1">&#39;LOAD&#39;</span><span class="p">,</span> <span class="n">T1</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">T2</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">frequency</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">phase</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">us0</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">vs0</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a TLOAD2 card, which defines a exponential time dependent</span>
<span class="sd">        load based on constants.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        sid : int</span>
<span class="sd">            load id</span>
<span class="sd">        excite_id : int</span>
<span class="sd">            node id where the load is applied</span>
<span class="sd">        delay : int/float; default=None</span>
<span class="sd">            the delay; if it&#39;s 0/blank there is no delay</span>
<span class="sd">            float : delay in units of time</span>
<span class="sd">            int : delay id</span>
<span class="sd">        Type : int/str; default=&#39;LOAD&#39;</span>
<span class="sd">            the type of load</span>
<span class="sd">            0/LOAD</span>
<span class="sd">            1/DISP</span>
<span class="sd">            2/VELO</span>
<span class="sd">            3/ACCE</span>
<span class="sd">            4, 5, 6, 7, 12, 13 - MSC only</span>
<span class="sd">        T1 : float; default=0.</span>
<span class="sd">            time constant (t1 &gt; 0.0)</span>
<span class="sd">            times below this are ignored</span>
<span class="sd">        T2 : float; default=None</span>
<span class="sd">            time constant (t2 &gt; t1)</span>
<span class="sd">            times above this are ignored</span>
<span class="sd">        frequency : float; default=0.</span>
<span class="sd">            Frequency in cycles per unit time.</span>
<span class="sd">        phase : float; default=0.</span>
<span class="sd">            Phase angle in degrees.</span>
<span class="sd">        c : float; default=0.</span>
<span class="sd">            Exponential coefficient.</span>
<span class="sd">        b : float; default=0.</span>
<span class="sd">            Growth coefficient.</span>
<span class="sd">        us0 : float; default=0.</span>
<span class="sd">            Factor for initial displacements of the enforced degrees-of-freedom</span>
<span class="sd">            MSC only</span>
<span class="sd">        vs0 : float; default=0.</span>
<span class="sd">            Factor for initial velocities of the enforced degrees-of-freedom</span>
<span class="sd">            MSC only</span>
<span class="sd">        comment : str; default=&#39;&#39;</span>
<span class="sd">            a comment for the card</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">DynamicLoad</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">comment</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">=</span> <span class="n">comment</span>
        <span class="k">if</span> <span class="n">T2</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">T2</span> <span class="o">=</span> <span class="n">T1</span>

        <span class="n">Type</span> <span class="o">=</span> <span class="n">update_loadtype</span><span class="p">(</span><span class="n">Type</span><span class="p">)</span>

        <span class="c1">#: load ID</span>
        <span class="c1">#: SID must be unique for all TLOAD1, TLOAD2, RLOAD1, RLOAD2, and ACSRCE entries.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sid</span> <span class="o">=</span> <span class="n">sid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">excite_id</span> <span class="o">=</span> <span class="n">excite_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delay</span> <span class="o">=</span> <span class="n">delay</span>

        <span class="c1">#: Defines the type of the dynamic excitation. (Integer; character</span>
        <span class="c1">#: or blank; Default = 0)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="o">=</span> <span class="n">Type</span>

        <span class="c1">#: Time constant. (Real &gt;= 0.0)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">T1</span> <span class="o">=</span> <span class="n">T1</span>
        <span class="c1">#: Time constant. (Real; T2 &gt; T1)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">T2</span> <span class="o">=</span> <span class="n">T2</span>

        <span class="c1">#: Frequency in cycles per unit time. (Real &gt;= 0.0; Default = 0.0)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frequency</span> <span class="o">=</span> <span class="n">frequency</span>

        <span class="c1">#: Phase angle in degrees. (Real; Default = 0.0)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">phase</span> <span class="o">=</span> <span class="n">phase</span>

        <span class="c1">#: Exponential coefficient. (Real; Default = 0.0)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">c</span> <span class="o">=</span> <span class="n">c</span>

        <span class="c1">#: Growth coefficient. (Real; Default = 0.0)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">b</span> <span class="o">=</span> <span class="n">b</span>

        <span class="c1">#: Factor for initial displacements of the enforced degrees-of-freedom.</span>
        <span class="c1">#: (Real; Default = 0.0)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">us0</span> <span class="o">=</span> <span class="n">us0</span>

        <span class="c1">#: Factor for initial velocities of the enforced degrees-of-freedom</span>
        <span class="c1">#: (Real; Default = 0.0)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vs0</span> <span class="o">=</span> <span class="n">vs0</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">delay_ref</span> <span class="o">=</span> <span class="kc">None</span>

<div class="viewcode-block" id="TLOAD2.validate"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.TLOAD2.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;L&#39;</span><span class="p">,</span> <span class="s1">&#39;LO&#39;</span><span class="p">,</span> <span class="s1">&#39;LOA&#39;</span><span class="p">,</span> <span class="s1">&#39;LOAD&#39;</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="o">=</span> <span class="s1">&#39;LOAD&#39;</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;DI&#39;</span><span class="p">,</span> <span class="s1">&#39;DIS&#39;</span><span class="p">,</span> <span class="s1">&#39;DISP&#39;</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="o">=</span> <span class="s1">&#39;DISP&#39;</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;V&#39;</span><span class="p">,</span> <span class="s1">&#39;VE&#39;</span><span class="p">,</span> <span class="s1">&#39;VEL&#39;</span><span class="p">,</span> <span class="s1">&#39;VELO&#39;</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="o">=</span> <span class="s1">&#39;VELO&#39;</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;AC&#39;</span><span class="p">,</span> <span class="s1">&#39;ACC&#39;</span><span class="p">,</span> <span class="s1">&#39;ACCE&#39;</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="o">=</span> <span class="s1">&#39;ACCE&#39;</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">]:</span> <span class="c1"># MSC only</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;invalid TLOAD2 type  Type=</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">Type</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span></div>

<div class="viewcode-block" id="TLOAD2.add_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.TLOAD2.add_card">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">add_card</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">card</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a TLOAD2 card from ``BDF.add_card(...)``</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        card : BDFCard()</span>
<span class="sd">            a BDFCard object</span>
<span class="sd">        comment : str; default=&#39;&#39;</span>
<span class="sd">            a comment for the card</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">sid</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;sid&#39;</span><span class="p">)</span>
        <span class="n">excite_id</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;excite_id&#39;</span><span class="p">)</span>
        <span class="n">delay</span> <span class="o">=</span> <span class="n">integer_double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;delay&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">Type</span> <span class="o">=</span> <span class="n">integer_string_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;Type&#39;</span><span class="p">,</span> <span class="s1">&#39;LOAD&#39;</span><span class="p">)</span>

        <span class="n">T1</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;T1&#39;</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="n">T2</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;T2&#39;</span><span class="p">,</span> <span class="n">T1</span><span class="p">)</span>
        <span class="n">frequency</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;frequency&#39;</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>
        <span class="n">phase</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;phase&#39;</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>
        <span class="n">b</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>
        <span class="n">us0</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="s1">&#39;us0&#39;</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>
        <span class="n">vs0</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="s1">&#39;vs0&#39;</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>

        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">card</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">13</span><span class="p">,</span> <span class="s1">&#39;len(TLOAD2 card) = </span><span class="si">%i</span><span class="se">\n</span><span class="s1">card=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">card</span><span class="p">),</span> <span class="n">card</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">TLOAD2</span><span class="p">(</span><span class="n">sid</span><span class="p">,</span> <span class="n">excite_id</span><span class="p">,</span> <span class="n">delay</span><span class="p">,</span> <span class="n">Type</span><span class="p">,</span> <span class="n">T1</span><span class="p">,</span> <span class="n">T2</span><span class="p">,</span> <span class="n">frequency</span><span class="p">,</span> <span class="n">phase</span><span class="p">,</span>
                      <span class="n">c</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">us0</span><span class="p">,</span> <span class="n">vs0</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span></div>

<div class="viewcode-block" id="TLOAD2.get_load_at_time"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.TLOAD2.get_load_at_time">[docs]</a>    <span class="k">def</span> <span class="nf">get_load_at_time</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mf">1.</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="nb">float</span><span class="p">):</span>
            <span class="n">time</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">time</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">time</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">time</span><span class="p">)</span>

        <span class="c1"># A = 1. # points to DAREA or SPCD</span>
        <span class="c1">#xy = array(self.tid.table.table)</span>
        <span class="c1">#x = xy[:, 0]</span>
        <span class="c1">#y = xy[:, 1]</span>
        <span class="c1">#assert x.shape == y.shape, &#39;x.shape=%s y.shape=%s&#39; % (str(x.shape), str(y.shape))</span>
        <span class="c1">#f = interp1d(x, y)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delay</span><span class="p">,</span> <span class="nb">float</span><span class="p">):</span>
            <span class="n">tau</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">tau</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">tau</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay_ref</span><span class="o">.</span><span class="n">get_delay_at_time</span><span class="p">(</span><span class="n">time</span><span class="p">)</span>

        <span class="n">t1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">T1</span> <span class="o">+</span> <span class="n">tau</span>
        <span class="n">t2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">T2</span> <span class="o">+</span> <span class="n">tau</span>
        <span class="n">f</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">frequency</span>
        <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">phase</span>
        <span class="n">f</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>

        <span class="n">i</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">t1</span> <span class="o">&lt;=</span> <span class="n">time</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">j</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">time</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">t2</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">i</span> <span class="o">=</span> <span class="n">i</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
        <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">scale</span> <span class="o">*</span> <span class="n">time</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">**</span> <span class="bp">self</span><span class="o">.</span><span class="n">b</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">c</span> <span class="o">*</span> <span class="n">time</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="n">f</span> <span class="o">*</span> <span class="n">time</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="n">p</span><span class="p">)</span>

        <span class="n">is_spcd</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="c1">#resp = f</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="o">==</span> <span class="s1">&#39;VELO&#39;</span> <span class="ow">and</span> <span class="n">is_spcd</span><span class="p">:</span>
            <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">us0</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="o">==</span> <span class="s1">&#39;ACCE&#39;</span> <span class="ow">and</span> <span class="n">is_spcd</span><span class="p">:</span>
            <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vs0</span>
        <span class="k">return</span> <span class="n">f</span></div>

<div class="viewcode-block" id="TLOAD2.get_loads"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.TLOAD2.get_loads">[docs]</a>    <span class="k">def</span> <span class="nf">get_loads</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="p">]</span></div>

<div class="viewcode-block" id="TLOAD2.cross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.TLOAD2.cross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">cross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">BDF</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Cross links the card so referenced cards can be extracted directly</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        model : BDF()</span>
<span class="sd">            the BDF object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;, which is required by TLOAD2 sid=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sid</span><span class="p">)</span>
        <span class="n">_cross_reference_excite_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">msg</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delay</span><span class="p">,</span> <span class="n">integer_types</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">delay_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">DELAY</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delay_id</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span></div>
        <span class="c1"># TODO: excite_id</span>

<div class="viewcode-block" id="TLOAD2.safe_cross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.TLOAD2.safe_cross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">safe_cross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">xref_errors</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;, which is required by TLOAD2 sid=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sid</span><span class="p">)</span>
        <span class="n">_cross_reference_excite_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">msg</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delay</span><span class="p">,</span> <span class="n">integer_types</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">delay_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">DELAY</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delay_id</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span></div>
        <span class="c1"># TODO: excite_id</span>

<div class="viewcode-block" id="TLOAD2.uncross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.TLOAD2.uncross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">uncross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Removes cross-reference links&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delay</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delay_ref</span> <span class="o">=</span> <span class="kc">None</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">delay_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay_ref</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay_ref</span><span class="o">.</span><span class="n">sid</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay</span>

<div class="viewcode-block" id="TLOAD2.raw_fields"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.TLOAD2.raw_fields">[docs]</a>    <span class="k">def</span> <span class="nf">raw_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">list_fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;TLOAD2&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">sid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">excite_id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay_id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Type</span><span class="p">,</span>
                       <span class="bp">self</span><span class="o">.</span><span class="n">T1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">T2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">frequency</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">phase</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">c</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b</span><span class="p">,</span>
                       <span class="bp">self</span><span class="o">.</span><span class="n">us0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">vs0</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">list_fields</span></div>

<div class="viewcode-block" id="TLOAD2.repr_fields"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.TLOAD2.repr_fields">[docs]</a>    <span class="k">def</span> <span class="nf">repr_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">frequency</span> <span class="o">=</span> <span class="n">set_blank_if_default</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frequency</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="n">phase</span> <span class="o">=</span> <span class="n">set_blank_if_default</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">phase</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">set_blank_if_default</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">c</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="n">b</span> <span class="o">=</span> <span class="n">set_blank_if_default</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">b</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>

        <span class="n">us0</span> <span class="o">=</span> <span class="n">set_blank_if_default</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">us0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="n">vs0</span> <span class="o">=</span> <span class="n">set_blank_if_default</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vs0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="n">list_fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;TLOAD2&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">sid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">excite_id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">delay_id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Type</span><span class="p">,</span>
                       <span class="bp">self</span><span class="o">.</span><span class="n">T1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">T2</span><span class="p">,</span> <span class="n">frequency</span><span class="p">,</span> <span class="n">phase</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">us0</span><span class="p">,</span> <span class="n">vs0</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">list_fields</span></div>

<div class="viewcode-block" id="TLOAD2.write_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.TLOAD2.write_card">[docs]</a>    <span class="k">def</span> <span class="nf">write_card</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">is_double</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">card</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">repr_fields</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">size</span> <span class="o">==</span> <span class="mi">8</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">print_card_8</span><span class="p">(</span><span class="n">card</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">is_double</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">print_card_double</span><span class="p">(</span><span class="n">card</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">print_card_16</span><span class="p">(</span><span class="n">card</span><span class="p">)</span></div></div>

<div class="viewcode-block" id="update_loadtype"><a class="viewcode-back" href="../../../../../reference/bdf/cards/loads/pyNastran.bdf.cards.loads.dloads.html#pyNastran.bdf.cards.loads.dloads.update_loadtype">[docs]</a><span class="k">def</span> <span class="nf">update_loadtype</span><span class="p">(</span><span class="n">load_type</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">load_type</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;L&#39;</span><span class="p">,</span> <span class="s1">&#39;LO&#39;</span><span class="p">,</span> <span class="s1">&#39;LOA&#39;</span><span class="p">,</span> <span class="s1">&#39;LOAD&#39;</span><span class="p">]:</span>
        <span class="n">load_type</span> <span class="o">=</span> <span class="s1">&#39;LOAD&#39;</span>
    <span class="k">elif</span> <span class="n">load_type</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;DI&#39;</span><span class="p">,</span> <span class="s1">&#39;DIS&#39;</span><span class="p">,</span> <span class="s1">&#39;DISP&#39;</span><span class="p">]:</span>
        <span class="n">load_type</span> <span class="o">=</span> <span class="s1">&#39;DISP&#39;</span>
    <span class="k">elif</span> <span class="n">load_type</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;V&#39;</span><span class="p">,</span> <span class="s1">&#39;VE&#39;</span><span class="p">,</span> <span class="s1">&#39;VEL&#39;</span><span class="p">,</span> <span class="s1">&#39;VELO&#39;</span><span class="p">]:</span>
        <span class="n">load_type</span> <span class="o">=</span> <span class="s1">&#39;VELO&#39;</span>
    <span class="k">elif</span> <span class="n">load_type</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;AC&#39;</span><span class="p">,</span> <span class="s1">&#39;ACC&#39;</span><span class="p">,</span> <span class="s1">&#39;ACCE&#39;</span><span class="p">]:</span>
        <span class="n">load_type</span> <span class="o">=</span> <span class="s1">&#39;ACCE&#39;</span>
    <span class="k">return</span> <span class="n">load_type</span></div>
</pre></div>

           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Steven Doyle.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>