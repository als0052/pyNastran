

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>pyNastran.bdf.cards.properties.bars &mdash; pyNastran 1.4-dev 1.4-dev documentation</title>
  

  
  <link rel="stylesheet" href="../../../../../_static/css/my_theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/css/my_theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/graphviz.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../../" src="../../../../../_static/documentation_options.js"></script>
        <script data-url_root="../../../../../" id="documentation_options" src="../../../../../_static/documentation_options.js"></script>
        <script src="../../../../../_static/jquery.js"></script>
        <script src="../../../../../_static/underscore.js"></script>
        <script src="../../../../../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="../../../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../../index.html" class="icon icon-home"> pyNastran 1.4-dev
          

          
            
            <img src="../../../../../_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.4-dev
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../installation/index.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../quick_start/index.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../how_to/index.html">How To: pyNastran</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../reference/pyNastran.html">pyNastran Package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../manual/index.html">pyNastran Manual</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">pyNastran 1.4-dev</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../../../index.html">Module code</a> &raquo;</li>
        
      <li>pyNastran.bdf.cards.properties.bars</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for pyNastran.bdf.cards.properties.bars</h1><div class="highlight"><pre>
<span></span><span class="c1"># pylint: disable=C0103,R0914,R0902,R0913</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">All bar properties are defined in this file.  This includes:</span>
<span class="sd"> *   PBAR</span>
<span class="sd"> *   PBARL</span>
<span class="sd"> *   PBEAM3</span>
<span class="sd"> *   PBEND</span>
<span class="sd"> *   PBRSECT</span>

<span class="sd">All bars are LineProperty objects.</span>
<span class="sd">Multi-segment beams are IntegratedLineProperty objects.</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>
<span class="kn">from</span> <span class="nn">itertools</span> <span class="kn">import</span> <span class="n">count</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">,</span> <span class="n">Union</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="n">TYPE_CHECKING</span>
<span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">pi</span><span class="p">,</span> <span class="n">array</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="kn">from</span> <span class="nn">pyNastran.bdf.field_writer_8</span> <span class="kn">import</span> <span class="n">set_blank_if_default</span>
<span class="kn">from</span> <span class="nn">pyNastran.bdf.cards.base_card</span> <span class="kn">import</span> <span class="n">Property</span>
<span class="kn">from</span> <span class="nn">pyNastran.bdf.bdf_interface.assign_type</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">integer</span><span class="p">,</span> <span class="n">double</span><span class="p">,</span> <span class="n">double_or_blank</span><span class="p">,</span> <span class="n">string</span><span class="p">,</span> <span class="n">string_or_blank</span><span class="p">,</span>
    <span class="n">blank</span><span class="p">,</span> <span class="n">integer_or_double</span><span class="p">,</span> <span class="c1">#integer_or_blank,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">pyNastran.utils.mathematics</span> <span class="kn">import</span> <span class="n">integrate_unit_line</span><span class="p">,</span> <span class="n">integrate_positive_unit_line</span>
<span class="kn">from</span> <span class="nn">pyNastran.bdf.field_writer_8</span> <span class="kn">import</span> <span class="n">print_card_8</span>
<span class="kn">from</span> <span class="nn">pyNastran.bdf.field_writer_16</span> <span class="kn">import</span> <span class="n">print_card_16</span>
<span class="kn">from</span> <span class="nn">pyNastran.bdf.bdf_interface.bdf_card</span> <span class="kn">import</span> <span class="n">BDFCard</span>
<span class="kn">from</span> <span class="nn">pyNastran.bdf.bdf_interface.utils</span> <span class="kn">import</span> <span class="n">to_fields</span>
<span class="kn">from</span> <span class="nn">pyNastran.utils.numpy_utils</span> <span class="kn">import</span> <span class="n">float_types</span>
<span class="k">if</span> <span class="n">TYPE_CHECKING</span><span class="p">:</span>  <span class="c1"># pragma: no cover</span>
    <span class="kn">from</span> <span class="nn">pyNastran.bdf.bdf</span> <span class="kn">import</span> <span class="n">BDF</span>


<div class="viewcode-block" id="Iyy_beam"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.Iyy_beam">[docs]</a><span class="k">def</span> <span class="nf">Iyy_beam</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">h</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;gets the Iyy for a solid beam&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="mi">1</span> <span class="o">/</span> <span class="mf">12.</span> <span class="o">*</span> <span class="n">b</span> <span class="o">*</span> <span class="n">h</span> <span class="o">**</span> <span class="mi">3</span></div>


<div class="viewcode-block" id="get_inertia_rectangular"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.get_inertia_rectangular">[docs]</a><span class="k">def</span> <span class="nf">get_inertia_rectangular</span><span class="p">(</span><span class="n">sections</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Calculates the moment of inertia for a section about the CG.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    sections : [[b,h,y,z]_1,...]</span>
<span class="sd">        [[b,h,y,z]_1,...] y,z is the centroid</span>
<span class="sd">        (x in the direction of the beam, y right, z up)</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    interia_parameters : List[Area, Iyy, Izz, Iyz]</span>
<span class="sd">        the inertia parameters</span>

<span class="sd">    .. seealso:: http://www.webs1.uidaho.edu/mindworks/Machine_Design/Posters/PDF/Moment%20of%20Inertia.pdf</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">As</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">Ax</span> <span class="o">=</span> <span class="mf">0.</span>
    <span class="n">Ay</span> <span class="o">=</span> <span class="mf">0.</span>
    <span class="k">for</span> <span class="n">section</span> <span class="ow">in</span> <span class="n">sections</span><span class="p">:</span>
        <span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="o">=</span> <span class="n">section</span>
        <span class="n">A</span> <span class="o">=</span> <span class="n">b</span> <span class="o">*</span> <span class="n">h</span>
        <span class="n">As</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
        <span class="n">Ax</span> <span class="o">+=</span> <span class="n">A</span> <span class="o">*</span> <span class="n">x</span>
        <span class="n">Ay</span> <span class="o">+=</span> <span class="n">A</span> <span class="o">*</span> <span class="n">y</span>

    <span class="n">xcg</span> <span class="o">=</span> <span class="n">Ax</span> <span class="o">/</span> <span class="n">A</span>
    <span class="n">ycg</span> <span class="o">=</span> <span class="n">Ay</span> <span class="o">/</span> <span class="n">A</span>
    <span class="n">Axx</span> <span class="o">=</span> <span class="mf">0.</span>
    <span class="n">Ayy</span> <span class="o">=</span> <span class="mf">0.</span>
    <span class="n">Axy</span> <span class="o">=</span> <span class="mf">0.</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">section</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">sections</span><span class="p">):</span>
        <span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="o">=</span> <span class="n">section</span>
        <span class="c1">#A = b*h</span>
        <span class="c1">#As.append(A)</span>
        <span class="n">Axx</span> <span class="o">+=</span> <span class="n">As</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">xcg</span><span class="p">)</span> <span class="o">**</span> <span class="mi">2</span>
        <span class="n">Ayy</span> <span class="o">+=</span> <span class="n">As</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">y</span> <span class="o">-</span> <span class="n">ycg</span><span class="p">)</span> <span class="o">**</span> <span class="mi">2</span>
        <span class="n">Axy</span> <span class="o">+=</span> <span class="n">As</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">xcg</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">y</span> <span class="o">-</span> <span class="n">ycg</span><span class="p">)</span>
    <span class="n">Ixx</span> <span class="o">=</span> <span class="n">Axx</span> <span class="o">/</span> <span class="n">A</span>
    <span class="n">Iyy</span> <span class="o">=</span> <span class="n">Ayy</span> <span class="o">/</span> <span class="n">A</span>
    <span class="n">Ixy</span> <span class="o">=</span> <span class="n">Axy</span> <span class="o">/</span> <span class="n">A</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">Ixx</span><span class="p">,</span> <span class="n">Iyy</span><span class="p">,</span> <span class="n">Ixy</span><span class="p">)</span></div>


<div class="viewcode-block" id="_IAreaL"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars._IAreaL">[docs]</a><span class="k">def</span> <span class="nf">_IAreaL</span><span class="p">(</span><span class="n">prop</span><span class="p">,</span> <span class="n">dim</span><span class="p">):</span>
    <span class="c1"># type: (Any, List[float]) -&gt; Tuple[float, float, float, float]</span>
    <span class="n">beam_type</span> <span class="o">=</span> <span class="n">prop</span><span class="o">.</span><span class="n">beam_type</span>
    <span class="k">if</span> <span class="n">beam_type</span> <span class="o">==</span> <span class="s1">&#39;ROD&#39;</span><span class="p">:</span>
        <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span> <span class="o">=</span> <span class="n">rod_section</span><span class="p">(</span><span class="n">prop</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">prop</span><span class="o">.</span><span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">beam_type</span> <span class="o">==</span> <span class="s1">&#39;TUBE&#39;</span><span class="p">:</span>
        <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span> <span class="o">=</span> <span class="n">tube_section</span><span class="p">(</span><span class="n">prop</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">prop</span><span class="o">.</span><span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">beam_type</span> <span class="o">==</span> <span class="s1">&#39;TUBE2&#39;</span><span class="p">:</span>
        <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span> <span class="o">=</span> <span class="n">tube2_section</span><span class="p">(</span><span class="n">prop</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">prop</span><span class="o">.</span><span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">)</span>

    <span class="k">elif</span> <span class="n">beam_type</span> <span class="o">==</span> <span class="s1">&#39;I&#39;</span><span class="p">:</span>
        <span class="c1"># |  ------------</span>
        <span class="c1"># |  |    A     | d6</span>
        <span class="c1"># |  ------------</span>
        <span class="c1"># |     &gt;| |&lt;--d3</span>
        <span class="c1"># |      |B|           &quot;I&quot; beam</span>
        <span class="c1"># | d1   | |</span>
        <span class="c1"># |      | |</span>
        <span class="c1"># |   ----------</span>
        <span class="c1"># |   |   C    |  d5</span>
        <span class="c1"># |   ----------</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">h1</span> <span class="o">=</span> <span class="n">dim</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>  <span class="c1"># d2</span>
        <span class="n">w1</span> <span class="o">=</span> <span class="n">dim</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">y1</span> <span class="o">=</span> <span class="n">dim</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mf">2.</span> <span class="o">-</span> <span class="n">h1</span>
        <span class="n">sections</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">w1</span><span class="p">,</span> <span class="n">h1</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="n">y1</span><span class="p">])</span>

        <span class="n">h3</span> <span class="o">=</span> <span class="n">dim</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
        <span class="n">w3</span> <span class="o">=</span> <span class="n">dim</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="c1">#y3 = -dim[0] / 2. + h3</span>
        <span class="n">sections</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">w3</span><span class="p">,</span> <span class="n">h3</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="n">y1</span><span class="p">])</span>

        <span class="n">h2</span> <span class="o">=</span> <span class="n">dim</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">h1</span> <span class="o">-</span> <span class="n">h3</span>
        <span class="n">w2</span> <span class="o">=</span> <span class="n">dim</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>  <span class="c1"># d1</span>
        <span class="n">sections</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">w2</span><span class="p">,</span> <span class="n">h2</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">])</span>

        <span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">Iyy</span><span class="p">,</span> <span class="n">Izz</span><span class="p">,</span> <span class="n">Iyz</span><span class="p">)</span> <span class="o">=</span> <span class="n">get_inertia_rectangular</span><span class="p">(</span><span class="n">sections</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">Iyz</span> <span class="o">==</span> <span class="mf">0.</span>

    <span class="k">elif</span> <span class="n">beam_type</span> <span class="o">==</span> <span class="s1">&#39;BAR&#39;</span><span class="p">:</span>
        <span class="c1">#: *-------*</span>
        <span class="c1">#: |       |</span>
        <span class="c1">#: |  BAR  |h1</span>
        <span class="c1">#: |       |</span>
        <span class="c1">#: *-------*</span>
        <span class="c1">#:    w1</span>
        <span class="c1">#: I_{xx}=\frac{bh^3}{12}</span>
        <span class="c1">#: I_{yy}=\frac{hb^3}{12}</span>
        <span class="n">h1</span> <span class="o">=</span> <span class="n">dim</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">w1</span> <span class="o">=</span> <span class="n">dim</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">A</span> <span class="o">=</span> <span class="n">h1</span> <span class="o">*</span> <span class="n">w1</span>
        <span class="n">Iyy</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="mf">12.</span> <span class="o">*</span> <span class="n">w1</span> <span class="o">*</span> <span class="n">h1</span> <span class="o">**</span> <span class="mi">3</span>
        <span class="n">Izz</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="mf">12.</span> <span class="o">*</span> <span class="n">h1</span> <span class="o">*</span> <span class="n">w1</span> <span class="o">**</span> <span class="mi">3</span>
        <span class="n">Iyz</span> <span class="o">=</span> <span class="mf">0.</span>  <span class="c1">#: .. todo:: is the Ixy of a bar 0 ???</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;beam_type=</span><span class="si">%r</span><span class="s1"> is not supported for </span><span class="si">%s</span><span class="s1"> class...&#39;</span> <span class="o">%</span> <span class="p">(</span>
            <span class="n">beam_type</span><span class="p">,</span> <span class="n">prop</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">Iyy</span><span class="p">,</span> <span class="n">Izz</span><span class="p">,</span> <span class="n">Iyz</span><span class="p">)</span></div>

<div class="viewcode-block" id="LineProperty"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.LineProperty">[docs]</a><span class="k">class</span> <span class="nc">LineProperty</span><span class="p">(</span><span class="n">Property</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">beam_type</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">A</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">i1</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">i2</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">i12</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">j</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nsm</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">Property</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mid_ref</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1">#def D_bending(self):</span>
        <span class="c1">#pass</span>

    <span class="c1">#def D_axial(self):</span>
        <span class="c1">#pass</span>

    <span class="c1">#def D_thermal(self):</span>
        <span class="c1">#pass</span>

    <span class="c1">#def D_shear(self):</span>
        <span class="c1">#pass</span>

<div class="viewcode-block" id="LineProperty.Area"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.LineProperty.Area">[docs]</a>    <span class="k">def</span> <span class="nf">Area</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;gets area&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">A</span></div>

<div class="viewcode-block" id="LineProperty.Nsm"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.LineProperty.Nsm">[docs]</a>    <span class="k">def</span> <span class="nf">Nsm</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;gets nonstructural mass per unit length&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">nsm</span></div>

<div class="viewcode-block" id="LineProperty.J"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.LineProperty.J">[docs]</a>    <span class="k">def</span> <span class="nf">J</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;gets J&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">j</span></div>

<div class="viewcode-block" id="LineProperty.I11"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.LineProperty.I11">[docs]</a>    <span class="k">def</span> <span class="nf">I11</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;gets I11&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">i1</span></div>

<div class="viewcode-block" id="LineProperty.I22"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.LineProperty.I22">[docs]</a>    <span class="k">def</span> <span class="nf">I22</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;gets I22&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">i2</span></div>

<div class="viewcode-block" id="LineProperty.Rho"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.LineProperty.Rho">[docs]</a>    <span class="k">def</span> <span class="nf">Rho</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;gets the material density&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">mid_ref</span><span class="o">.</span><span class="n">rho</span></div>

<div class="viewcode-block" id="LineProperty.E"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.LineProperty.E">[docs]</a>    <span class="k">def</span> <span class="nf">E</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;gets the material Young&#39;s ratio&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">mid_ref</span><span class="o">.</span><span class="n">E</span></div>

<div class="viewcode-block" id="LineProperty.G"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.LineProperty.G">[docs]</a>    <span class="k">def</span> <span class="nf">G</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;gets the material Shear ratio&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">mid_ref</span><span class="o">.</span><span class="n">G</span></div>

<div class="viewcode-block" id="LineProperty.Nu"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.LineProperty.Nu">[docs]</a>    <span class="k">def</span> <span class="nf">Nu</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;gets the material Poisson&#39;s ratio&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">mid_ref</span><span class="o">.</span><span class="n">nu</span></div></div>


<div class="viewcode-block" id="A_I1_I2_I12"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.A_I1_I2_I12">[docs]</a><span class="k">def</span> <span class="nf">A_I1_I2_I12</span><span class="p">(</span><span class="n">prop</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                <span class="n">dim</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
    <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    ::</span>

<span class="sd">      BAR</span>
<span class="sd">          2</span>
<span class="sd">          ^</span>
<span class="sd">          |</span>
<span class="sd">      *---|--*</span>
<span class="sd">      |   |  |</span>
<span class="sd">      |   |  |</span>
<span class="sd">      |h  *-----------&gt; 1</span>
<span class="sd">      |      |</span>
<span class="sd">      |   b  |</span>
<span class="sd">      *------*</span>

<span class="sd">    .. math:: I_1 = \frac{1}{12} b h^3</span>

<span class="sd">    .. math:: I_2 = \frac{1}{12} h b^3</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">beam_type</span> <span class="o">==</span> <span class="s1">&#39;ROD&#39;</span><span class="p">:</span>
        <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span> <span class="o">=</span> <span class="n">rod_section</span><span class="p">(</span><span class="n">prop</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">beam_type</span> <span class="o">==</span> <span class="s1">&#39;TUBE&#39;</span><span class="p">:</span>
        <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span> <span class="o">=</span> <span class="n">tube_section</span><span class="p">(</span><span class="n">prop</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">)</span>

    <span class="k">elif</span> <span class="n">beam_type</span> <span class="o">==</span> <span class="s1">&#39;BAR&#39;</span><span class="p">:</span>
        <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span> <span class="o">=</span> <span class="n">bar_section</span><span class="p">(</span><span class="n">prop</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">beam_type</span> <span class="o">==</span> <span class="s1">&#39;BOX&#39;</span><span class="p">:</span>
        <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span> <span class="o">=</span> <span class="n">box_section</span><span class="p">(</span><span class="n">prop</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">beam_type</span> <span class="o">==</span> <span class="s1">&#39;L&#39;</span><span class="p">:</span>
        <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span> <span class="o">=</span> <span class="n">l_section</span><span class="p">(</span><span class="n">prop</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>  <span class="c1"># pragma: no cover</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;A_I1_I2_I12; beam_type=</span><span class="si">%s</span><span class="s1"> is not supported for </span><span class="si">%s</span><span class="s1"> class...&#39;</span> <span class="o">%</span> <span class="p">(</span>
            <span class="n">beam_type</span><span class="p">,</span> <span class="n">prop</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">A</span> <span class="o">==</span> <span class="n">prop</span><span class="o">.</span><span class="n">Area</span><span class="p">(),</span> <span class="n">prop</span>
    <span class="k">return</span> <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span></div>

<div class="viewcode-block" id="_bar_areaL"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars._bar_areaL">[docs]</a><span class="k">def</span> <span class="nf">_bar_areaL</span><span class="p">(</span><span class="n">class_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">dim</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span>
               <span class="n">prop</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Area(x) method for the PBARL and PBEAML classes (pronounced **Area-L**)</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    dim : List[float]</span>
<span class="sd">        a list of the dimensions associated with **beam_type**</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    Area : float</span>
<span class="sd">        Area of the given cross section defined by **self.beam_type**</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    internal method</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">beam_type</span> <span class="o">==</span> <span class="s1">&#39;ROD&#39;</span><span class="p">:</span>
        <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span> <span class="o">=</span> <span class="n">rod_section</span><span class="p">(</span><span class="n">class_name</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">beam_type</span> <span class="o">==</span> <span class="s1">&#39;TUBE&#39;</span><span class="p">:</span>
        <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span> <span class="o">=</span> <span class="n">tube_section</span><span class="p">(</span><span class="n">class_name</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">beam_type</span> <span class="o">==</span> <span class="s1">&#39;TUBE2&#39;</span><span class="p">:</span>
        <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span> <span class="o">=</span> <span class="n">tube2_section</span><span class="p">(</span><span class="n">class_name</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">)</span>

    <span class="k">elif</span> <span class="n">beam_type</span> <span class="o">==</span> <span class="s1">&#39;I&#39;</span><span class="p">:</span>
        <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span> <span class="o">=</span> <span class="n">i_section</span><span class="p">(</span><span class="n">class_name</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">beam_type</span> <span class="o">==</span> <span class="s1">&#39;I1&#39;</span><span class="p">:</span>
        <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span> <span class="o">=</span> <span class="n">i1_section</span><span class="p">(</span><span class="n">class_name</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">)</span>

    <span class="k">elif</span> <span class="n">beam_type</span> <span class="o">==</span> <span class="s1">&#39;L&#39;</span><span class="p">:</span>
        <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span> <span class="o">=</span> <span class="n">l_section</span><span class="p">(</span><span class="n">class_name</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">)</span>

    <span class="k">elif</span> <span class="n">beam_type</span> <span class="o">==</span> <span class="s1">&#39;CHAN&#39;</span><span class="p">:</span>
        <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span> <span class="o">=</span> <span class="n">chan_section</span><span class="p">(</span><span class="n">class_name</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">beam_type</span> <span class="o">==</span> <span class="s1">&#39;CHAN1&#39;</span><span class="p">:</span>
        <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span> <span class="o">=</span> <span class="n">chan1_section</span><span class="p">(</span><span class="n">class_name</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">beam_type</span> <span class="o">==</span> <span class="s1">&#39;CHAN2&#39;</span><span class="p">:</span>
        <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span> <span class="o">=</span> <span class="n">chan2_section</span><span class="p">(</span><span class="n">class_name</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">)</span>

    <span class="k">elif</span> <span class="n">beam_type</span> <span class="o">==</span> <span class="s1">&#39;T&#39;</span><span class="p">:</span>
        <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span> <span class="o">=</span> <span class="n">t_section</span><span class="p">(</span><span class="n">class_name</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">beam_type</span> <span class="o">==</span> <span class="s1">&#39;T1&#39;</span><span class="p">:</span>
        <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span> <span class="o">=</span> <span class="n">t1_section</span><span class="p">(</span><span class="n">class_name</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">beam_type</span> <span class="o">==</span> <span class="s1">&#39;T2&#39;</span><span class="p">:</span>
        <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span> <span class="o">=</span> <span class="n">t2_section</span><span class="p">(</span><span class="n">class_name</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">)</span>

    <span class="k">elif</span> <span class="n">beam_type</span> <span class="o">==</span> <span class="s1">&#39;BOX&#39;</span><span class="p">:</span>
        <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span> <span class="o">=</span> <span class="n">box_section</span><span class="p">(</span><span class="n">class_name</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">beam_type</span> <span class="o">==</span> <span class="s1">&#39;BOX1&#39;</span><span class="p">:</span>
        <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span> <span class="o">=</span> <span class="n">box1_section</span><span class="p">(</span><span class="n">class_name</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">)</span>

    <span class="k">elif</span> <span class="n">beam_type</span> <span class="o">==</span> <span class="s1">&#39;BAR&#39;</span><span class="p">:</span>
        <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span> <span class="o">=</span> <span class="n">bar_section</span><span class="p">(</span><span class="n">class_name</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">)</span>

    <span class="k">elif</span> <span class="n">beam_type</span> <span class="o">==</span> <span class="s1">&#39;CROSS&#39;</span><span class="p">:</span>
        <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span> <span class="o">=</span> <span class="n">cross_section</span><span class="p">(</span><span class="n">class_name</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">)</span>

    <span class="k">elif</span> <span class="n">beam_type</span> <span class="o">==</span> <span class="s1">&#39;H&#39;</span><span class="p">:</span>
        <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span> <span class="o">=</span> <span class="n">h_section</span><span class="p">(</span><span class="n">class_name</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">beam_type</span> <span class="o">==</span> <span class="s1">&#39;Z&#39;</span><span class="p">:</span>
        <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span> <span class="o">=</span> <span class="n">zee_section</span><span class="p">(</span><span class="n">class_name</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">)</span>

    <span class="k">elif</span> <span class="n">beam_type</span> <span class="o">==</span> <span class="s1">&#39;HEXA&#39;</span><span class="p">:</span>
        <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span> <span class="o">=</span> <span class="n">hexa_section</span><span class="p">(</span><span class="n">class_name</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">beam_type</span> <span class="o">==</span> <span class="s1">&#39;HAT&#39;</span><span class="p">:</span>
        <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span> <span class="o">=</span> <span class="n">hat_section</span><span class="p">(</span><span class="n">class_name</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">beam_type</span> <span class="o">==</span> <span class="s1">&#39;HAT1&#39;</span><span class="p">:</span>
        <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span> <span class="o">=</span> <span class="n">hat1_section</span><span class="p">(</span><span class="n">class_name</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">beam_type</span> <span class="o">==</span> <span class="s1">&#39;DBOX&#39;</span><span class="p">:</span>
        <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span> <span class="o">=</span> <span class="n">dbox_section</span><span class="p">(</span><span class="n">class_name</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>  <span class="c1"># pragma: no cover</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;areaL; beam_type=</span><span class="si">%s</span><span class="s1"> is not supported for </span><span class="si">%s</span><span class="s1"> class...&#39;</span> <span class="o">%</span> <span class="p">(</span>
            <span class="n">beam_type</span><span class="p">,</span> <span class="n">class_name</span><span class="p">)</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">A</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;beam_type=</span><span class="si">%r</span><span class="s1"> dim=</span><span class="si">%r</span><span class="s1"> A=</span><span class="si">%s</span><span class="se">\n</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">A</span><span class="p">,</span> <span class="n">prop</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">A</span></div>

<div class="viewcode-block" id="rod_section"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.rod_section">[docs]</a><span class="k">def</span> <span class="nf">rod_section</span><span class="p">(</span><span class="n">class_name</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">):</span>
    <span class="c1"># This is a circle if you couldn&#39;t tell...</span>
    <span class="c1">#   __C__</span>
    <span class="c1">#  /     \</span>
    <span class="c1"># |       |</span>
    <span class="c1"># F       D</span>
    <span class="c1"># |       |</span>
    <span class="c1">#  \     /</span>
    <span class="c1">#   \_E_/</span>
    <span class="c1">#</span>
    <span class="n">R</span> <span class="o">=</span> <span class="n">dim</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">A</span> <span class="o">=</span> <span class="n">pi</span> <span class="o">*</span> <span class="n">R</span> <span class="o">**</span> <span class="mi">2</span>
    <span class="n">I1</span> <span class="o">=</span> <span class="n">A</span> <span class="o">*</span> <span class="n">R</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">/</span> <span class="mf">4.</span>
    <span class="n">I2</span> <span class="o">=</span> <span class="n">I1</span>
    <span class="n">I12</span> <span class="o">=</span> <span class="mf">0.</span>
    <span class="k">return</span> <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span></div>

<div class="viewcode-block" id="tube_section"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.tube_section">[docs]</a><span class="k">def</span> <span class="nf">tube_section</span><span class="p">(</span><span class="n">class_type</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">):</span>
    <span class="n">r_outer</span><span class="p">,</span> <span class="n">r_inner</span> <span class="o">=</span> <span class="n">dim</span>
    <span class="k">assert</span> <span class="n">r_outer</span> <span class="o">&gt;</span> <span class="n">r_inner</span><span class="p">,</span> <span class="s1">&#39;TUBE; r_outer=</span><span class="si">%s</span><span class="s1"> r_inner=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">r_outer</span><span class="p">,</span> <span class="n">r_inner</span><span class="p">)</span>
    <span class="n">A</span> <span class="o">=</span> <span class="n">pi</span> <span class="o">*</span> <span class="p">(</span><span class="n">r_outer</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">-</span> <span class="n">r_inner</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">I1</span> <span class="o">=</span> <span class="n">pi</span> <span class="o">*</span> <span class="p">(</span><span class="n">r_outer</span> <span class="o">**</span> <span class="mi">4</span> <span class="o">-</span> <span class="n">r_inner</span> <span class="o">**</span> <span class="mi">4</span><span class="p">)</span> <span class="o">/</span> <span class="mf">4.</span>
    <span class="n">I2</span> <span class="o">=</span> <span class="n">I1</span>
    <span class="n">I12</span> <span class="o">=</span> <span class="mf">0.</span>
    <span class="k">return</span> <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span></div>

<div class="viewcode-block" id="tube2_section"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.tube2_section">[docs]</a><span class="k">def</span> <span class="nf">tube2_section</span><span class="p">(</span><span class="n">class_type</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">):</span>
    <span class="n">r_outer</span><span class="p">,</span> <span class="n">thick</span> <span class="o">=</span> <span class="n">dim</span>
    <span class="n">r_inner</span> <span class="o">=</span> <span class="n">r_outer</span> <span class="o">-</span> <span class="n">thick</span>
    <span class="k">assert</span> <span class="n">r_outer</span> <span class="o">&gt;</span> <span class="n">r_inner</span><span class="p">,</span> <span class="s1">&#39;TUBE2; r_outer=</span><span class="si">%s</span><span class="s1"> r_inner=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">r_outer</span><span class="p">,</span> <span class="n">r_inner</span><span class="p">)</span>

    <span class="c1"># same as tube</span>
    <span class="n">A</span> <span class="o">=</span> <span class="n">pi</span> <span class="o">*</span> <span class="p">(</span><span class="n">r_outer</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">-</span> <span class="n">r_inner</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">I1</span> <span class="o">=</span> <span class="n">pi</span> <span class="o">*</span> <span class="p">(</span><span class="n">r_outer</span> <span class="o">**</span> <span class="mi">4</span> <span class="o">-</span> <span class="n">r_inner</span> <span class="o">**</span> <span class="mi">4</span><span class="p">)</span> <span class="o">/</span> <span class="mf">4.</span>
    <span class="n">I2</span> <span class="o">=</span> <span class="n">I1</span>
    <span class="n">I12</span> <span class="o">=</span> <span class="mf">0.</span>
    <span class="k">return</span> <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span></div>

<div class="viewcode-block" id="bar_section"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.bar_section">[docs]</a><span class="k">def</span> <span class="nf">bar_section</span><span class="p">(</span><span class="n">class_type</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">):</span>
    <span class="c1">#per https://docs.plm.automation.siemens.com/data_services/resources/nxnastran/10/help/en_US/tdocExt/pdf/element.pdf</span>
    <span class="c1"># &lt;------&gt; D1</span>
    <span class="c1">#</span>
    <span class="c1"># F------C  ^</span>
    <span class="c1"># |      |  |</span>
    <span class="c1"># |      |  | D2</span>
    <span class="c1"># |      |  |</span>
    <span class="c1"># E------D  v</span>
    <span class="n">b</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="n">dim</span>
    <span class="n">A</span> <span class="o">=</span> <span class="n">b</span> <span class="o">*</span> <span class="n">h</span>
    <span class="n">I1</span> <span class="o">=</span> <span class="n">b</span> <span class="o">*</span> <span class="n">h</span> <span class="o">**</span> <span class="mi">3</span> <span class="o">/</span> <span class="mf">12.</span>
    <span class="n">I2</span> <span class="o">=</span> <span class="n">h</span> <span class="o">*</span> <span class="n">b</span> <span class="o">**</span> <span class="mi">3</span> <span class="o">/</span> <span class="mf">12.</span>
    <span class="n">I12</span> <span class="o">=</span> <span class="mf">0.</span>
    <span class="c1">#J = b*h**3*(1/3. - 0.21*h/b*(1-h**4/(12*b**4)))</span>
    <span class="k">return</span> <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span></div>

<div class="viewcode-block" id="box_section"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.box_section">[docs]</a><span class="k">def</span> <span class="nf">box_section</span><span class="p">(</span><span class="n">class_name</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">):</span>
    <span class="c1">#</span>
    <span class="c1"># +----------+ ^     ^</span>
    <span class="c1"># |          | | d3  |</span>
    <span class="c1"># |  +----+  | v     |</span>
    <span class="c1"># |  |    |  |       |  d2</span>
    <span class="c1"># |  +----+  |       |</span>
    <span class="c1"># |          |       |</span>
    <span class="c1"># +----------+       v</span>
    <span class="c1">#          &lt;-&gt; d4</span>
    <span class="c1"># &lt;----d1----&gt;</span>
    <span class="c1">#</span>
    <span class="n">dim1</span><span class="p">,</span> <span class="n">dim2</span><span class="p">,</span> <span class="n">dim3</span><span class="p">,</span> <span class="n">dim4</span> <span class="o">=</span> <span class="n">dim</span>
    <span class="k">assert</span> <span class="n">dim1</span> <span class="o">&gt;</span> <span class="mf">2.</span><span class="o">*</span><span class="n">dim4</span><span class="p">,</span> <span class="s1">&#39;BOX; required: dim1 &gt; 2*dim4; dim1=</span><span class="si">%s</span><span class="s1"> dim4=</span><span class="si">%s</span><span class="se">\n</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">dim1</span><span class="p">,</span> <span class="n">dim4</span><span class="p">,</span> <span class="n">prop</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">dim2</span> <span class="o">&gt;</span> <span class="mf">2.</span><span class="o">*</span><span class="n">dim3</span><span class="p">,</span> <span class="s1">&#39;BOX; required: dim2 &gt; 2*dim3; dim2=</span><span class="si">%s</span><span class="s1"> dim3=</span><span class="si">%s</span><span class="se">\n</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">dim2</span><span class="p">,</span> <span class="n">dim3</span><span class="p">,</span> <span class="n">prop</span><span class="p">)</span>

    <span class="c1"># per https://docs.plm.automation.siemens.com/data_services/resources/nxnastran/10/help/en_US/tdocExt/pdf/element.pdf</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">dim1</span>
    <span class="n">h</span> <span class="o">=</span> <span class="n">dim2</span>
    <span class="n">t1</span> <span class="o">=</span> <span class="n">dim3</span>
    <span class="n">t2</span> <span class="o">=</span> <span class="n">dim4</span>
    <span class="n">bi</span> <span class="o">=</span> <span class="n">b</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">t2</span>
    <span class="n">hi</span> <span class="o">=</span> <span class="n">h</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">t1</span>
    <span class="n">A</span> <span class="o">=</span> <span class="n">b</span> <span class="o">*</span> <span class="n">h</span> <span class="o">-</span> <span class="n">bi</span> <span class="o">*</span> <span class="n">hi</span>

    <span class="n">I1</span> <span class="o">=</span> <span class="p">(</span><span class="n">b</span> <span class="o">*</span> <span class="n">h</span> <span class="o">**</span> <span class="mi">3</span> <span class="o">-</span> <span class="n">bi</span> <span class="o">*</span> <span class="n">hi</span> <span class="o">**</span> <span class="mi">3</span><span class="p">)</span> <span class="o">/</span> <span class="mi">12</span>
    <span class="n">I2</span> <span class="o">=</span> <span class="p">(</span><span class="n">h</span> <span class="o">*</span> <span class="n">b</span> <span class="o">**</span> <span class="mi">3</span> <span class="o">-</span> <span class="n">bi</span> <span class="o">*</span> <span class="n">hi</span> <span class="o">**</span> <span class="mi">3</span><span class="p">)</span> <span class="o">/</span> <span class="mi">12</span>
    <span class="n">I12</span> <span class="o">=</span> <span class="mf">0.</span>
    <span class="c1">#j = (2*t2*t1*(b-t2)**2*(h-t1)**2)/(b*t2+h*t1-t2**2-t1**2)</span>
    <span class="k">return</span> <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span></div>

<div class="viewcode-block" id="box1_section"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.box1_section">[docs]</a><span class="k">def</span> <span class="nf">box1_section</span><span class="p">(</span><span class="n">class_name</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">):</span>
    <span class="n">dim1</span><span class="p">,</span> <span class="n">dim2</span><span class="p">,</span> <span class="n">dim3</span><span class="p">,</span> <span class="n">dim4</span><span class="p">,</span> <span class="n">dim5</span><span class="p">,</span> <span class="n">dim6</span> <span class="o">=</span> <span class="n">dim</span>
    <span class="n">h1</span> <span class="o">=</span> <span class="n">dim3</span>  <span class="c1"># top</span>
    <span class="n">w1</span> <span class="o">=</span> <span class="n">dim1</span>

    <span class="n">h2</span> <span class="o">=</span> <span class="n">dim4</span>  <span class="c1"># btm</span>
    <span class="n">A1</span> <span class="o">=</span> <span class="p">(</span><span class="n">h1</span> <span class="o">+</span> <span class="n">h2</span><span class="p">)</span> <span class="o">*</span> <span class="n">w1</span>

    <span class="n">h3</span> <span class="o">=</span> <span class="n">dim2</span> <span class="o">-</span> <span class="n">h1</span> <span class="o">-</span> <span class="n">h2</span>  <span class="c1"># left</span>
    <span class="n">w3</span> <span class="o">=</span> <span class="n">dim6</span>

    <span class="n">w4</span> <span class="o">=</span> <span class="n">dim5</span>  <span class="c1"># right</span>
    <span class="n">A2</span> <span class="o">=</span> <span class="n">h3</span> <span class="o">*</span> <span class="p">(</span><span class="n">w3</span> <span class="o">+</span> <span class="n">w4</span><span class="p">)</span>
    <span class="n">A</span> <span class="o">=</span> <span class="n">A1</span> <span class="o">+</span> <span class="n">A2</span>
    <span class="n">I1</span> <span class="o">=</span> <span class="n">I2</span> <span class="o">=</span> <span class="n">I12</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span></div>

<div class="viewcode-block" id="cross_section"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.cross_section">[docs]</a><span class="k">def</span> <span class="nf">cross_section</span><span class="p">(</span><span class="n">class_type</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">):</span>
    <span class="n">dim1</span><span class="p">,</span> <span class="n">dim2</span><span class="p">,</span> <span class="n">dim3</span><span class="p">,</span> <span class="n">dim4</span> <span class="o">=</span> <span class="n">dim</span>
    <span class="n">h1</span> <span class="o">=</span> <span class="n">dim3</span>
    <span class="n">w1</span> <span class="o">=</span> <span class="n">dim2</span>

    <span class="n">h2</span> <span class="o">=</span> <span class="n">dim4</span>
    <span class="n">w2</span> <span class="o">=</span> <span class="n">dim1</span>
    <span class="n">A</span> <span class="o">=</span> <span class="n">h1</span> <span class="o">*</span> <span class="n">w1</span> <span class="o">+</span> <span class="n">h2</span> <span class="o">*</span> <span class="n">w2</span>
    <span class="n">I1</span> <span class="o">=</span> <span class="n">I2</span> <span class="o">=</span> <span class="n">I12</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span></div>

<div class="viewcode-block" id="h_section"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.h_section">[docs]</a><span class="k">def</span> <span class="nf">h_section</span><span class="p">(</span><span class="n">class_name</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">):</span>
    <span class="n">dim1</span><span class="p">,</span> <span class="n">dim2</span><span class="p">,</span> <span class="n">dim3</span><span class="p">,</span> <span class="n">dim4</span> <span class="o">=</span> <span class="n">dim</span>
    <span class="n">h1</span> <span class="o">=</span> <span class="n">dim3</span>
    <span class="n">w1</span> <span class="o">=</span> <span class="n">dim2</span>

    <span class="n">h2</span> <span class="o">=</span> <span class="n">dim4</span>
    <span class="n">w2</span> <span class="o">=</span> <span class="n">dim1</span>
    <span class="n">A</span> <span class="o">=</span> <span class="n">h1</span> <span class="o">*</span> <span class="n">w1</span> <span class="o">+</span> <span class="n">h2</span> <span class="o">*</span> <span class="n">w2</span>
    <span class="n">I1</span> <span class="o">=</span> <span class="n">I2</span> <span class="o">=</span> <span class="n">I12</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span></div>

<div class="viewcode-block" id="t_section"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.t_section">[docs]</a><span class="k">def</span> <span class="nf">t_section</span><span class="p">(</span><span class="n">class_name</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">):</span>
    <span class="c1"># per https://docs.plm.automation.siemens.com/data_services/resources/nxnastran/10/help/en_US/tdocExt/pdf/element.pdf</span>
    <span class="c1">#       ^ y</span>
    <span class="c1">#       |</span>
    <span class="c1">#       |</span>
    <span class="c1">#  &lt;----d1=d---&gt;</span>
    <span class="c1">#  +-----------+ ^     ^</span>
    <span class="c1">#  | 1         | |     | d3=tf ----&gt; z</span>
    <span class="c1">#  +---+  +----+ |     v</span>
    <span class="c1">#      |  |      |     ^</span>
    <span class="c1">#      |  |      | d2  |</span>
    <span class="c1">#      |  |      |     | hw</span>
    <span class="c1">#      |  |      |     |</span>
    <span class="c1">#      +--+      v     v</span>
    <span class="c1">#</span>
    <span class="c1">#      &lt;--&gt; d4=tw</span>
    <span class="c1">#</span>
    <span class="n">dim1</span><span class="p">,</span> <span class="n">dim2</span><span class="p">,</span> <span class="n">dim3</span><span class="p">,</span> <span class="n">dim4</span> <span class="o">=</span> <span class="n">dim</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">dim1</span> <span class="c1"># bf</span>
    <span class="n">tf</span> <span class="o">=</span> <span class="n">dim3</span>
    <span class="n">tw</span> <span class="o">=</span> <span class="n">dim4</span>
    <span class="n">h</span> <span class="o">=</span> <span class="n">dim2</span> <span class="o">-</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">tf</span>
    <span class="n">hw</span> <span class="o">=</span> <span class="n">dim2</span> <span class="o">-</span> <span class="n">tf</span>
    <span class="c1">#print(&#39;tf=%s tw=%s bf=%s&#39; % (tf, tw, bf))</span>
    <span class="c1">#print(&#39;h=%s hw=%s&#39; % (h, hw))</span>

    <span class="n">A</span> <span class="o">=</span> <span class="n">d</span><span class="o">*</span><span class="n">tf</span> <span class="o">+</span> <span class="n">hw</span><span class="o">*</span><span class="n">tw</span>
    <span class="n">yna</span> <span class="o">=</span> <span class="n">hw</span><span class="o">*</span><span class="n">tw</span><span class="o">*</span><span class="p">(</span><span class="n">hw</span><span class="o">+</span><span class="n">tf</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">A</span><span class="p">)</span>
    <span class="n">i1</span> <span class="o">=</span> <span class="p">(</span>
       <span class="p">(</span><span class="n">d</span><span class="o">*</span><span class="n">tf</span><span class="o">**</span><span class="mi">3</span> <span class="o">+</span> <span class="n">tw</span><span class="o">*</span><span class="n">hw</span><span class="o">**</span><span class="mi">3</span><span class="p">)</span> <span class="o">/</span> <span class="mf">12.</span> <span class="o">+</span>
       <span class="n">hw</span><span class="o">*</span><span class="n">tw</span><span class="o">*</span><span class="p">(</span><span class="n">yna</span> <span class="o">+</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="p">(</span><span class="n">hw</span> <span class="o">+</span><span class="n">tf</span><span class="p">))</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">d</span><span class="o">*</span><span class="n">tf</span><span class="o">*</span><span class="n">yna</span><span class="o">**</span><span class="mi">2</span>
    <span class="p">)</span>
    <span class="n">i2</span> <span class="o">=</span> <span class="p">(</span><span class="n">tf</span><span class="o">*</span><span class="n">d</span><span class="o">**</span><span class="mi">3</span> <span class="o">+</span> <span class="n">hw</span><span class="o">*</span><span class="n">tw</span><span class="o">**</span><span class="mi">3</span><span class="p">)</span><span class="o">/</span><span class="mf">12.</span>
    <span class="n">i12</span> <span class="o">=</span> <span class="mf">0.</span>
    <span class="c1">#j = 1/3 * (tf**3*d + tw**3 * h)</span>
    <span class="k">return</span> <span class="n">A</span><span class="p">,</span> <span class="n">i1</span><span class="p">,</span> <span class="n">i2</span><span class="p">,</span> <span class="n">i12</span></div>

<div class="viewcode-block" id="t1_section"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.t1_section">[docs]</a><span class="k">def</span> <span class="nf">t1_section</span><span class="p">(</span><span class="n">class_name</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">):</span>
    <span class="n">dim1</span><span class="p">,</span> <span class="n">dim2</span><span class="p">,</span> <span class="n">dim3</span><span class="p">,</span> <span class="n">dim4</span> <span class="o">=</span> <span class="n">dim</span>
    <span class="n">h1</span> <span class="o">=</span> <span class="n">dim1</span>
    <span class="n">w1</span> <span class="o">=</span> <span class="n">dim3</span>

    <span class="n">h2</span> <span class="o">=</span> <span class="n">dim4</span>
    <span class="n">w2</span> <span class="o">=</span> <span class="n">dim2</span>
    <span class="n">A</span> <span class="o">=</span> <span class="n">h1</span> <span class="o">*</span> <span class="n">w1</span> <span class="o">+</span> <span class="n">h2</span> <span class="o">*</span> <span class="n">w2</span>
    <span class="n">I1</span> <span class="o">=</span> <span class="n">I2</span> <span class="o">=</span> <span class="n">I12</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span></div>

<div class="viewcode-block" id="t2_section"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.t2_section">[docs]</a><span class="k">def</span> <span class="nf">t2_section</span><span class="p">(</span><span class="n">class_name</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">):</span>
    <span class="c1">#       ^ y</span>
    <span class="c1">#       |</span>
    <span class="c1">#       |</span>
    <span class="c1">#      +--+      ^     v</span>
    <span class="c1">#      |  |      |     ^</span>
    <span class="c1">#      |1 |      | d2  |</span>
    <span class="c1">#      |  |      |     | hw=bweb</span>
    <span class="c1">#      |  |      |     |</span>
    <span class="c1">#  +---+  +----+ |     v</span>
    <span class="c1">#  | 2 |  |    | |     | d3=tf ----&gt; z</span>
    <span class="c1">#  +---+--+----+ v     v</span>
    <span class="c1">#  &lt;----d1=d---&gt;</span>
    <span class="c1">#</span>
    <span class="c1">#      &lt;--&gt; d4=tweb</span>
    <span class="c1">#</span>
    <span class="n">dim1</span><span class="p">,</span> <span class="n">dim2</span><span class="p">,</span> <span class="n">dim3</span><span class="p">,</span> <span class="n">dim4</span> <span class="o">=</span> <span class="n">dim</span>
    <span class="n">ball</span> <span class="o">=</span> <span class="n">dim1</span>
    <span class="n">hall</span> <span class="o">=</span> <span class="n">dim2</span>
    <span class="n">tflange</span> <span class="o">=</span> <span class="n">dim3</span>
    <span class="n">tweb</span> <span class="o">=</span> <span class="n">dim4</span>
    <span class="c1"># bweb = hall - tflange</span>
    <span class="n">bflange</span> <span class="o">=</span> <span class="n">ball</span> <span class="o">-</span> <span class="n">tweb</span>
    <span class="c1">#print(f&#39;hall={hall} ball={ball} tweb={tweb} bflange={bflange}&#39;)</span>
    <span class="k">assert</span> <span class="n">hall</span> <span class="o">-</span> <span class="n">tflange</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;bweb=</span><span class="si">{</span><span class="n">hall</span><span class="o">-</span><span class="n">tflange</span><span class="si">}</span><span class="s1"> hall(dim2)=</span><span class="si">{</span><span class="n">hall</span><span class="si">}</span><span class="s1"> tflange(dim3)=</span><span class="si">{</span><span class="n">tflange</span><span class="si">}</span><span class="s1">&#39;</span>
    <span class="k">assert</span> <span class="n">ball</span> <span class="o">-</span> <span class="n">tweb</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;bflange=</span><span class="si">{</span><span class="n">bflange</span><span class="si">}</span><span class="s1"> ball(dim1)=</span><span class="si">{</span><span class="n">ball</span><span class="si">}</span><span class="s1"> tweb(dim4)=</span><span class="si">{</span><span class="n">tweb</span><span class="si">}</span><span class="s1">&#39;</span>
    <span class="n">A</span> <span class="o">=</span> <span class="n">tweb</span> <span class="o">*</span> <span class="n">hall</span> <span class="o">+</span> <span class="n">tflange</span> <span class="o">*</span> <span class="n">bflange</span>
    <span class="n">I1</span> <span class="o">=</span> <span class="n">I2</span> <span class="o">=</span> <span class="n">I12</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span></div>

<div class="viewcode-block" id="zee_section"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.zee_section">[docs]</a><span class="k">def</span> <span class="nf">zee_section</span><span class="p">(</span><span class="n">class_name</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">):</span>
    <span class="c1">#  bflange bweb</span>
    <span class="c1"># &lt;--d1-&gt;&lt;--d2--&gt;</span>
    <span class="c1"># +-------------+            ^</span>
    <span class="c1"># |             |            |</span>
    <span class="c1"># +------+      |  ^         |</span>
    <span class="c1">#        |      |  |         |</span>
    <span class="c1">#        |      |  | d3=hweb |  d4 = hall</span>
    <span class="c1">#        |      |  v         |</span>
    <span class="c1">#        |      +---------+  |</span>
    <span class="c1">#        |                |  |</span>
    <span class="c1">#        +----------------+  v</span>
    <span class="c1">#</span>
    <span class="n">dim1</span><span class="p">,</span> <span class="n">dim2</span><span class="p">,</span> <span class="n">dim3</span><span class="p">,</span> <span class="n">dim4</span> <span class="o">=</span> <span class="n">dim</span>
    <span class="n">bflange</span> <span class="o">=</span> <span class="n">dim1</span>
    <span class="n">bweb</span> <span class="o">=</span> <span class="n">dim2</span>
    <span class="n">hweb</span> <span class="o">=</span> <span class="n">dim3</span>
    <span class="n">hall</span> <span class="o">=</span> <span class="n">dim4</span>
    <span class="n">tflange</span> <span class="o">=</span> <span class="n">hall</span> <span class="o">-</span> <span class="n">hweb</span> <span class="c1"># actually 2*tflange</span>
    <span class="n">A</span> <span class="o">=</span> <span class="n">bflange</span> <span class="o">*</span> <span class="n">tflange</span> <span class="o">+</span> <span class="n">hall</span> <span class="o">*</span> <span class="n">bweb</span>
    <span class="n">I1</span> <span class="o">=</span> <span class="n">I2</span> <span class="o">=</span> <span class="n">I12</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span></div>

<div class="viewcode-block" id="hexa_section"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.hexa_section">[docs]</a><span class="k">def</span> <span class="nf">hexa_section</span><span class="p">(</span><span class="n">class_name</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">):</span>
    <span class="c1">#     _______</span>
    <span class="c1">#   /        \     ^</span>
    <span class="c1">#  /          \    |</span>
    <span class="c1"># *            *   |  d3 = h</span>
    <span class="c1">#  \          /    |</span>
    <span class="c1">#   \        /     |</span>
    <span class="c1">#    \______/      v</span>
    <span class="c1">#           |d1| = wtri</span>
    <span class="c1"># &lt;-----d2----&gt; = wall</span>
    <span class="c1">#</span>
    <span class="n">dim1</span><span class="p">,</span> <span class="n">dim2</span><span class="p">,</span> <span class="n">dim3</span> <span class="o">=</span> <span class="n">dim</span>
    <span class="n">hbox</span> <span class="o">=</span> <span class="n">dim3</span>
    <span class="n">wall</span> <span class="o">=</span> <span class="n">dim2</span>
    <span class="n">wtri</span> <span class="o">=</span> <span class="n">dim1</span>
    <span class="n">wbox</span> <span class="o">=</span> <span class="n">wall</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">wtri</span>
    <span class="k">assert</span> <span class="n">wbox</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;wbox=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">wbox</span><span class="p">)</span>
    <span class="n">A</span> <span class="o">=</span> <span class="n">hbox</span> <span class="o">*</span> <span class="n">wbox</span> <span class="o">+</span> <span class="n">hbox</span> <span class="o">*</span> <span class="n">wtri</span>
    <span class="c1">#print(&#39;hbox=%s wbox=%s hbox*wbox=%s 2*wtri*hbox=%s A=%s&#39; % (</span>
        <span class="c1">#hbox, wbox, hbox*wbox, 2*wtri*hbox, A))</span>
    <span class="n">I1</span> <span class="o">=</span> <span class="n">I2</span> <span class="o">=</span> <span class="n">I12</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span></div>

<div class="viewcode-block" id="hat_section"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.hat_section">[docs]</a><span class="k">def</span> <span class="nf">hat_section</span><span class="p">(</span><span class="n">class_name</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">):</span>
    <span class="c1">#</span>
    <span class="c1">#        &lt;--------d3-------&gt;</span>
    <span class="c1">#</span>
    <span class="c1">#        +-----------------+              ^</span>
    <span class="c1">#   d4   |        A        |   d4         |</span>
    <span class="c1"># &lt;----&gt; +-d2-+-------+-d2-+ &lt;----&gt;       |</span>
    <span class="c1">#        | B  |       |  B |              | d1</span>
    <span class="c1"># +------+----+       +----+------+       |</span>
    <span class="c1"># |     C     |       |     C     | t=d2  |</span>
    <span class="c1"># +-----------+       +-----------+       v</span>
    <span class="n">dim1</span><span class="p">,</span> <span class="n">dim2</span><span class="p">,</span> <span class="n">dim3</span><span class="p">,</span> <span class="n">dim4</span> <span class="o">=</span> <span class="n">dim</span>
    <span class="n">t</span> <span class="o">=</span> <span class="n">dim2</span>
    <span class="n">wa</span> <span class="o">=</span> <span class="n">dim3</span>
    <span class="k">assert</span> <span class="n">wa</span> <span class="o">&gt;</span> <span class="mf">2.</span><span class="o">*</span><span class="n">t</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;HAT; required: dim3 &gt; 2*dim2; dim2=</span><span class="si">{</span><span class="n">t</span><span class="si">}</span><span class="s1"> dim3=</span><span class="si">{</span><span class="n">wa</span><span class="si">}</span><span class="s1">; delta=</span><span class="si">{</span><span class="n">wa</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">t</span><span class="si">}</span><span class="se">\n</span><span class="si">{</span><span class="n">prop</span><span class="si">}</span><span class="s1">&#39;</span>
    <span class="c1">#DIM3, CAN NOT BE LESS THAN THE SUM OF FLANGE</span>
        <span class="c1">#THICKNESSES, 2*DIM2</span>
    <span class="n">hb</span> <span class="o">=</span> <span class="n">dim1</span> <span class="o">-</span> <span class="mf">2.</span> <span class="o">*</span> <span class="n">t</span>
    <span class="n">wc</span> <span class="o">=</span> <span class="n">dim4</span> <span class="o">+</span> <span class="n">t</span>
    <span class="k">assert</span> <span class="n">hb</span> <span class="o">&gt;</span> <span class="mf">0.</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;HAT; required hb=dim1-2*dim2=</span><span class="si">{</span><span class="n">hb</span><span class="si">}</span><span class="s1"> dim1=</span><span class="si">{</span><span class="n">dim1</span><span class="si">}</span><span class="s1"> dim2=</span><span class="si">{</span><span class="n">dim2</span><span class="si">}</span><span class="s1">&#39;</span>
    <span class="n">A</span> <span class="o">=</span> <span class="n">wa</span> <span class="o">*</span> <span class="n">t</span> <span class="o">+</span> <span class="p">(</span><span class="mf">2.</span> <span class="o">*</span> <span class="n">wc</span> <span class="o">*</span> <span class="n">t</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="mf">2.</span> <span class="o">*</span> <span class="n">hb</span> <span class="o">*</span> <span class="n">t</span><span class="p">)</span>
    <span class="n">I1</span> <span class="o">=</span> <span class="n">I2</span> <span class="o">=</span> <span class="n">I12</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span></div>

<div class="viewcode-block" id="hat1_section"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.hat1_section">[docs]</a><span class="k">def</span> <span class="nf">hat1_section</span><span class="p">(</span><span class="n">class_name</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">):</span>
    <span class="c1"># per https://docs.plm.automation.siemens.com/data_services/resources/nxnastran/10/help/en_US/tdocExt/pdf/element.pdf</span>
    <span class="c1">#</span>
    <span class="c1">#        &lt;-----d3=wmid-----&gt;</span>
    <span class="c1">#</span>
    <span class="c1">#        +-----------------+              ^</span>
    <span class="c1">#   d4   |                 |              |</span>
    <span class="c1">#        +----+-------+-d4-+  d4=t        |</span>
    <span class="c1">#        |    |       |    |              | d2=hall</span>
    <span class="c1"># +------+----+   x   +----+------+       |</span>
    <span class="c1"># |           |       |           | t=d2  |</span>
    <span class="c1"># +-----------+-------+-----------+       |  ^</span>
    <span class="c1"># |                               |       |  |</span>
    <span class="c1"># |                               |       |  | d5=hbox</span>
    <span class="c1"># +-------------------------------+       v  v</span>
    <span class="c1">#</span>
    <span class="c1"># &lt;------------d1=wbox------------&gt;</span>
    <span class="n">dim1</span><span class="p">,</span> <span class="n">dim2</span><span class="p">,</span> <span class="n">dim3</span><span class="p">,</span> <span class="n">dim4</span><span class="p">,</span> <span class="n">dim5</span> <span class="o">=</span> <span class="n">dim</span>
    <span class="n">wbox</span> <span class="o">=</span> <span class="n">dim1</span>
    <span class="n">hall</span> <span class="o">=</span> <span class="n">dim2</span>
    <span class="n">unused_wmid</span> <span class="o">=</span> <span class="n">dim3</span>
    <span class="n">t</span> <span class="o">=</span> <span class="n">dim4</span>
    <span class="n">hbox</span> <span class="o">=</span> <span class="n">dim5</span>
    <span class="n">hweb</span> <span class="o">=</span> <span class="n">hall</span> <span class="o">-</span> <span class="n">hbox</span> <span class="o">-</span> <span class="n">t</span>
    <span class="k">assert</span> <span class="n">hweb</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="n">hweb</span>

    <span class="n">Abox</span> <span class="o">=</span> <span class="n">hbox</span> <span class="o">*</span> <span class="n">wbox</span>
    <span class="c1"># we do a first pass assuming the hat is flat and then</span>
    <span class="c1"># add the leftover web sections</span>
    <span class="n">Ahat</span> <span class="o">=</span> <span class="n">wbox</span> <span class="o">*</span> <span class="n">t</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">hweb</span> <span class="o">*</span> <span class="n">t</span>
    <span class="n">A</span> <span class="o">=</span> <span class="n">Abox</span> <span class="o">+</span> <span class="n">Ahat</span>

    <span class="n">b1</span> <span class="o">=</span> <span class="n">dim1</span>
    <span class="n">h</span> <span class="o">=</span> <span class="n">dim2</span>
    <span class="n">b2</span> <span class="o">=</span> <span class="n">dim3</span>
    <span class="n">t2</span> <span class="o">=</span> <span class="n">dim4</span>
    <span class="n">t1</span> <span class="o">=</span> <span class="n">dim5</span>
    <span class="n">A0</span> <span class="o">=</span> <span class="n">b1</span> <span class="o">*</span> <span class="n">t1</span> <span class="o">+</span> <span class="n">t2</span> <span class="o">*</span> <span class="p">(</span><span class="n">b1</span> <span class="o">-</span> <span class="n">b2</span><span class="p">)</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">t2</span> <span class="o">*</span> <span class="p">(</span><span class="n">h</span> <span class="o">-</span> <span class="n">t1</span><span class="p">)</span> <span class="o">+</span> <span class="n">t2</span> <span class="o">*</span> <span class="p">(</span><span class="n">b2</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">t2</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">np</span><span class="o">.</span><span class="n">allclose</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">A0</span><span class="p">),</span> <span class="s1">&#39;A=</span><span class="si">%s</span><span class="s1"> A0=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">A0</span><span class="p">)</span>
    <span class="c1">#assert dim2 &gt; dim4+dim5, &#39;HAT1; required: dim2 &gt; dim4+dim5; dim2=%s dim4=%s; dim5=%s\n%s&#39; % (dim2, dim4, dim5, prop)</span>
    <span class="c1">#*DIM4+DIM5, CAN NOT BE LARGER THAN THE HEIGHT OF</span>
        <span class="c1">#THE HAT, DIM2.</span>


    <span class="c1">#h1 = w  # upper, horizontal lower bar (see HAT)</span>
    <span class="c1">#w1 = w0 - w3</span>
    <span class="c1">#A = 2. * (h0 * w0 + h1 * w1 + h2 * w2 + h3 * w3)</span>
    <span class="n">I1</span> <span class="o">=</span> <span class="n">I2</span> <span class="o">=</span> <span class="n">I12</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span></div>

<div class="viewcode-block" id="i_section"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.i_section">[docs]</a><span class="k">def</span> <span class="nf">i_section</span><span class="p">(</span><span class="n">class_name</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">):</span>
    <span class="c1"># per https://docs.plm.automation.siemens.com/data_services/resources/nxnastran/10/help/en_US/tdocExt/pdf/element.pdf</span>

    <span class="c1">#  &lt;----d3=b----&gt;</span>
    <span class="c1">#</span>
    <span class="c1">#  1------------2         ^</span>
    <span class="c1">#  |      B     |  d6=tb  |</span>
    <span class="c1"># 12---11---4---3         |</span>
    <span class="c1">#       |   |             |</span>
    <span class="c1">#       |   |             |  d1=h</span>
    <span class="c1">#       | C | &lt;--- d4=tw  |</span>
    <span class="c1">#       |   |             |</span>
    <span class="c1">#  9---10---5---6         |</span>
    <span class="c1">#  |      A     |  d5=ta  |</span>
    <span class="c1">#  8------------7         v</span>
    <span class="c1">#</span>
    <span class="c1">#  &lt;----d2=a----&gt;</span>
    <span class="c1">#</span>
    <span class="n">dim1</span><span class="p">,</span> <span class="n">dim2</span><span class="p">,</span> <span class="n">dim3</span><span class="p">,</span> <span class="n">dim4</span><span class="p">,</span> <span class="n">dim5</span><span class="p">,</span> <span class="n">dim6</span> <span class="o">=</span> <span class="n">dim</span>

    <span class="n">h</span> <span class="o">=</span> <span class="n">dim1</span>
    <span class="n">a</span> <span class="o">=</span> <span class="n">dim2</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">dim3</span>
    <span class="n">tw</span> <span class="o">=</span> <span class="n">dim4</span>
    <span class="n">ta</span> <span class="o">=</span> <span class="n">dim5</span>
    <span class="n">tb</span> <span class="o">=</span> <span class="n">dim6</span>
    <span class="n">hw</span> <span class="o">=</span> <span class="n">h</span> <span class="o">-</span> <span class="p">(</span><span class="n">ta</span> <span class="o">+</span> <span class="n">tb</span><span class="p">)</span>
    <span class="n">hf</span> <span class="o">=</span> <span class="n">h</span> <span class="o">-</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="p">(</span><span class="n">ta</span> <span class="o">+</span> <span class="n">tb</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">hw</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;hw=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">hw</span>
    <span class="k">assert</span> <span class="n">hf</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;hf=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">hf</span>

    <span class="n">A</span> <span class="o">=</span> <span class="n">ta</span> <span class="o">*</span> <span class="n">a</span> <span class="o">+</span> <span class="n">hw</span> <span class="o">*</span> <span class="n">tw</span> <span class="o">+</span> <span class="n">b</span> <span class="o">*</span> <span class="n">tb</span>
    <span class="n">yc</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.5</span> <span class="o">*</span> <span class="n">hw</span> <span class="o">*</span> <span class="p">(</span><span class="n">hw</span> <span class="o">+</span> <span class="n">ta</span><span class="p">)</span><span class="o">*</span><span class="n">tw</span> <span class="o">+</span> <span class="n">hf</span><span class="o">*</span><span class="n">tb</span><span class="o">*</span><span class="n">b</span><span class="p">)</span> <span class="o">/</span> <span class="n">A</span>
    <span class="c1">#ys = tb * hf * b**3/(tb * b**3 + ta * a**a)</span>
    <span class="c1">#yna = yc - ys</span>
    <span class="n">i1</span> <span class="o">=</span> <span class="p">(</span>
       <span class="mi">1</span> <span class="o">/</span> <span class="mi">12</span> <span class="o">*</span> <span class="p">(</span><span class="n">h</span><span class="o">*</span><span class="n">tb</span><span class="o">**</span><span class="mi">3</span> <span class="o">+</span> <span class="n">a</span><span class="o">*</span><span class="n">ta</span><span class="o">**</span><span class="mi">3</span> <span class="o">+</span> <span class="n">tw</span><span class="o">*</span><span class="n">hw</span><span class="o">**</span><span class="mi">3</span><span class="p">)</span>
       <span class="o">+</span> <span class="p">(</span><span class="n">hf</span><span class="o">-</span><span class="n">yc</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="o">*</span><span class="n">b</span><span class="o">*</span><span class="n">tb</span><span class="o">+</span><span class="n">yc</span><span class="o">**</span><span class="mi">2</span><span class="o">*</span><span class="n">a</span><span class="o">*</span><span class="n">ta</span>
       <span class="o">+</span> <span class="p">(</span><span class="n">yc</span> <span class="o">-</span> <span class="mf">0.5</span><span class="o">*</span><span class="p">(</span><span class="n">hw</span><span class="o">+</span><span class="n">ta</span><span class="p">))</span><span class="o">**</span><span class="mi">2</span><span class="o">*</span><span class="n">hw</span><span class="o">*</span><span class="n">tw</span>
    <span class="p">)</span>
    <span class="n">i2</span> <span class="o">=</span> <span class="p">(</span><span class="n">b</span><span class="o">**</span><span class="mi">3</span> <span class="o">*</span> <span class="n">tb</span> <span class="o">+</span> <span class="n">ta</span> <span class="o">*</span> <span class="n">a</span><span class="o">**</span><span class="mi">3</span> <span class="o">+</span> <span class="n">hw</span><span class="o">*</span><span class="n">tw</span><span class="o">**</span><span class="mi">3</span><span class="p">)</span> <span class="o">/</span> <span class="mf">12.</span>
    <span class="n">i12</span> <span class="o">=</span> <span class="mf">0.</span>
    <span class="c1">#j = 1/3 * (tb**3*b + ta**3*a + tw**3*hf)</span>
    <span class="c1">#assert np.allclose(i1+i2, j), &#39;I1+I2=%s+%s=%s J=%s&#39; % (i1, i2, i1 + i2, j)</span>

    <span class="k">assert</span> <span class="n">dim1</span> <span class="o">&gt;</span> <span class="n">dim5</span><span class="o">+</span><span class="n">dim6</span><span class="p">,</span> <span class="s1">&#39;I; required: dim1 &gt; dim5+dim6; dim1=</span><span class="si">%s</span><span class="s1"> dim5=</span><span class="si">%s</span><span class="s1"> dim6=</span><span class="si">%s</span><span class="se">\n</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">dim1</span><span class="p">,</span> <span class="n">dim5</span><span class="p">,</span> <span class="n">dim6</span><span class="p">,</span> <span class="n">prop</span><span class="p">)</span>
    <span class="c1">#THE SUM OF THE FLANGE THICKNESSES,DIM5 + DIM6,</span>
    <span class="c1">#CAN NOT BE GREATER THAT THE WEB HEIGHT, DIM1.</span>
    <span class="k">return</span> <span class="n">A</span><span class="p">,</span> <span class="n">i1</span><span class="p">,</span> <span class="n">i2</span><span class="p">,</span> <span class="n">i12</span></div>

<div class="viewcode-block" id="i1_section"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.i1_section">[docs]</a><span class="k">def</span> <span class="nf">i1_section</span><span class="p">(</span><span class="n">class_name</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">):</span>
    <span class="c1">#</span>
    <span class="c1">#  d1/2   d2  d1/2</span>
    <span class="c1">#  &lt;---&gt;&lt;---&gt;&lt;---&gt;</span>
    <span class="c1">#</span>
    <span class="c1">#  1--------------2     ^</span>
    <span class="c1">#  |      A       |     |</span>
    <span class="c1"># 12---11---4-----3     |</span>
    <span class="c1">#       |   |        ^  |</span>
    <span class="c1">#       |   |        |  |  d4</span>
    <span class="c1">#       | B |     d3 |  |</span>
    <span class="c1">#       |   |        v  |</span>
    <span class="c1">#  9----10---5----6     |</span>
    <span class="c1">#  |      C       |     |</span>
    <span class="c1">#  8--------------7     v</span>
    <span class="c1">#</span>
    <span class="c1">#  &lt;----d2----&gt;</span>
    <span class="c1">#</span>
    <span class="c1">#</span>
    <span class="c1"># h1 = hA = (d4 - d3) / 2</span>
    <span class="c1"># h2 = hB = d3</span>
    <span class="c1">#</span>
    <span class="c1"># w1 = wA = d1 + d2</span>
    <span class="c1"># w2 = d2</span>
    <span class="c1">#</span>
    <span class="c1"># A3 = A1</span>
    <span class="c1"># A = A1 + A2 + A3</span>
    <span class="n">dim1</span><span class="p">,</span> <span class="n">dim2</span><span class="p">,</span> <span class="n">dim3</span><span class="p">,</span> <span class="n">dim4</span> <span class="o">=</span> <span class="n">dim</span>
    <span class="n">w1</span> <span class="o">=</span> <span class="n">dim1</span> <span class="o">+</span> <span class="n">dim2</span>
    <span class="n">h1</span> <span class="o">=</span> <span class="p">(</span><span class="n">dim4</span> <span class="o">-</span> <span class="n">dim3</span><span class="p">)</span> <span class="o">/</span> <span class="mf">2.</span>

    <span class="n">w2</span> <span class="o">=</span> <span class="n">dim2</span>
    <span class="n">h2</span> <span class="o">=</span> <span class="n">dim3</span>

    <span class="n">A</span> <span class="o">=</span> <span class="mf">2.</span> <span class="o">*</span> <span class="p">(</span><span class="n">h1</span> <span class="o">*</span> <span class="n">w1</span><span class="p">)</span> <span class="o">+</span> <span class="n">h2</span> <span class="o">*</span> <span class="n">w2</span>
    <span class="n">I1</span> <span class="o">=</span> <span class="n">I2</span> <span class="o">=</span> <span class="n">I12</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span></div>

<div class="viewcode-block" id="l_section"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.l_section">[docs]</a><span class="k">def</span> <span class="nf">l_section</span><span class="p">(</span><span class="n">class_type</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">):</span>
    <span class="c1"># per https://docs.plm.automation.siemens.com/data_services/resources/nxnastran/10/help/en_US/tdocExt/pdf/element.pdf</span>
    <span class="c1">#</span>
    <span class="c1">#  D4</span>
    <span class="c1"># F---C      ^</span>
    <span class="c1"># |   |      |</span>
    <span class="c1"># | 2 |      |</span>
    <span class="c1"># |   |      | D2</span>
    <span class="c1"># +---+---+  |</span>
    <span class="c1"># |1   D3 |  |</span>
    <span class="c1"># E-------D  v</span>
    <span class="c1">#</span>
    <span class="c1"># &lt;------&gt; D1</span>
    <span class="c1">#</span>
    <span class="n">dim1</span><span class="p">,</span> <span class="n">dim2</span><span class="p">,</span> <span class="n">dim3</span><span class="p">,</span> <span class="n">dim4</span> <span class="o">=</span> <span class="n">dim</span>
    <span class="n">t1</span> <span class="o">=</span> <span class="n">dim3</span>
    <span class="n">t2</span> <span class="o">=</span> <span class="n">dim4</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">dim1</span> <span class="o">-</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">t2</span>
    <span class="n">h</span> <span class="o">=</span> <span class="n">dim2</span> <span class="o">-</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">t1</span>
    <span class="n">h2</span> <span class="o">=</span> <span class="n">dim2</span> <span class="o">-</span> <span class="n">t1</span>
    <span class="n">b1</span> <span class="o">=</span> <span class="n">dim1</span> <span class="o">-</span> <span class="n">t2</span>
    <span class="n">A</span> <span class="o">=</span> <span class="p">(</span><span class="n">b</span> <span class="o">+</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">t2</span><span class="p">)</span> <span class="o">*</span> <span class="n">t1</span> <span class="o">+</span> <span class="n">h2</span> <span class="o">*</span> <span class="n">t2</span>

    <span class="n">yc</span> <span class="o">=</span> <span class="n">t2</span><span class="o">*</span><span class="n">h2</span> <span class="o">*</span> <span class="p">(</span><span class="n">h2</span> <span class="o">+</span> <span class="n">t1</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">A</span><span class="p">)</span>
    <span class="n">zc</span> <span class="o">=</span> <span class="n">t1</span><span class="o">*</span><span class="n">b1</span> <span class="o">*</span> <span class="p">(</span><span class="n">b1</span> <span class="o">+</span> <span class="n">t2</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">A</span><span class="p">)</span>
    <span class="n">i1</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">t1</span> <span class="o">**</span> <span class="mi">3</span> <span class="o">*</span> <span class="p">(</span><span class="n">b</span> <span class="o">+</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">t2</span><span class="p">)</span> <span class="o">/</span> <span class="mf">12.</span> <span class="o">+</span>
        <span class="n">t1</span> <span class="o">*</span> <span class="p">(</span><span class="n">b</span> <span class="o">+</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">t2</span><span class="p">)</span> <span class="o">*</span> <span class="n">yc</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span>
        <span class="n">t2</span> <span class="o">*</span> <span class="n">h</span> <span class="o">**</span> <span class="mi">3</span> <span class="o">/</span> <span class="mi">12</span> <span class="o">+</span>
        <span class="n">h2</span> <span class="o">*</span> <span class="n">t2</span> <span class="o">*</span> <span class="p">(</span><span class="mf">0.5</span> <span class="o">*</span> <span class="p">(</span><span class="n">h2</span> <span class="o">+</span> <span class="n">t1</span><span class="p">)</span> <span class="o">-</span> <span class="n">yc</span><span class="p">)</span> <span class="o">**</span> <span class="mi">2</span>
    <span class="p">)</span>
    <span class="n">i2</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">t2</span> <span class="o">**</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">h2</span> <span class="o">/</span> <span class="mf">12.</span> <span class="o">+</span>
        <span class="n">t1</span><span class="o">*</span><span class="p">(</span><span class="n">b</span> <span class="o">+</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">t2</span><span class="p">)</span> <span class="o">**</span> <span class="mi">3</span> <span class="o">/</span> <span class="mf">12.</span> <span class="o">+</span>
        <span class="n">t1</span><span class="o">*</span><span class="p">(</span><span class="n">b</span> <span class="o">+</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">t2</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mf">0.5</span> <span class="o">*</span> <span class="n">b1</span> <span class="o">-</span> <span class="n">zc</span><span class="p">)</span> <span class="o">**</span> <span class="mi">2</span>  <span class="c1"># zc is z2 in the docs...</span>
    <span class="p">)</span>
    <span class="n">i12</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">zc</span> <span class="o">*</span> <span class="n">yc</span> <span class="o">*</span> <span class="n">t1</span> <span class="o">*</span> <span class="n">t2</span>
        <span class="o">-</span> <span class="n">b1</span> <span class="o">*</span> <span class="n">t1</span> <span class="o">*</span> <span class="n">yc</span> <span class="o">*</span> <span class="p">(</span><span class="mf">0.5</span> <span class="o">*</span> <span class="p">(</span><span class="n">b1</span> <span class="o">+</span> <span class="n">t2</span><span class="p">)</span> <span class="o">-</span> <span class="n">zc</span><span class="p">)</span>
        <span class="o">-</span> <span class="n">h2</span> <span class="o">*</span> <span class="n">t2</span> <span class="o">*</span> <span class="n">zc</span> <span class="o">*</span> <span class="p">(</span><span class="mf">0.5</span> <span class="o">*</span> <span class="p">(</span><span class="n">h2</span> <span class="o">+</span> <span class="n">t1</span><span class="p">)</span> <span class="o">-</span> <span class="n">yc</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="c1">#j = 1/3 * (t1**3*b + t2**3 * h)</span>
    <span class="c1">#k1 = h2 * t2 / A</span>
    <span class="c1">#k2 = b1 * t1 / A</span>
    <span class="c1">#yna = yc</span>
    <span class="c1">#zna = zc</span>
    <span class="k">return</span> <span class="n">A</span><span class="p">,</span> <span class="n">i1</span><span class="p">,</span> <span class="n">i2</span><span class="p">,</span> <span class="n">i12</span></div>

<div class="viewcode-block" id="chan_section"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.chan_section">[docs]</a><span class="k">def</span> <span class="nf">chan_section</span><span class="p">(</span><span class="n">class_name</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">):</span>
    <span class="c1">#</span>
    <span class="c1"># +-+----+   ^  ^</span>
    <span class="c1"># | |    |   |  | d4 = tf</span>
    <span class="c1"># | +----+   |  v</span>
    <span class="c1"># | |        |         ^</span>
    <span class="c1"># | |&lt;-- d3  |         |</span>
    <span class="c1"># | |    tw  | d2 = h  | hw</span>
    <span class="c1"># | |        |         |</span>
    <span class="c1"># | +----+   |         v</span>
    <span class="c1"># | |    |   |</span>
    <span class="c1"># +-+----+   v</span>
    <span class="c1">#   &lt;-bf-&gt;</span>
    <span class="c1"># &lt;--d1--&gt;</span>
    <span class="c1">#</span>

    <span class="n">dim1</span><span class="p">,</span> <span class="n">dim2</span><span class="p">,</span> <span class="n">dim3</span><span class="p">,</span> <span class="n">dim4</span> <span class="o">=</span> <span class="n">dim</span>
    <span class="n">tw</span> <span class="o">=</span> <span class="n">tweb</span> <span class="o">=</span> <span class="n">dim3</span>
    <span class="n">tf</span> <span class="o">=</span> <span class="n">tflange</span> <span class="o">=</span> <span class="n">dim4</span>
    <span class="n">bflange_tweb</span> <span class="o">=</span> <span class="n">dim1</span>

    <span class="n">bflange</span> <span class="o">=</span> <span class="n">bflange_tweb</span> <span class="o">-</span> <span class="n">tweb</span>
    <span class="n">hweb_all</span> <span class="o">=</span> <span class="n">dim2</span>
    <span class="n">hweb</span> <span class="o">=</span> <span class="n">dim2</span> <span class="o">-</span> <span class="mf">2.</span> <span class="o">*</span> <span class="n">tf</span>
    <span class="c1">#print(f&#39;tflange={tflange} bflage={bflange} hweb_all={hweb_all} hweb={hweb} tweb={tweb}&#39;)</span>
    <span class="n">A0</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">tflange</span> <span class="o">*</span> <span class="n">bflange</span><span class="p">)</span> <span class="o">+</span> <span class="n">tweb</span> <span class="o">*</span> <span class="n">hweb_all</span>

    <span class="n">d</span> <span class="o">=</span> <span class="n">dim2</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">tf</span>

    <span class="c1"># per https://docs.plm.automation.siemens.com/data_services/resources/nxnastran/10/help/en_US/tdocExt/pdf/element.pdf</span>
    <span class="c1">#b = dim1 - 0.5 * tw</span>
    <span class="c1">#h = dim2 - tf</span>
    <span class="c1">#bf = dim1 - tw</span>
    <span class="c1">#hw = dim2 - 2 * tf</span>

    <span class="c1">#A = 2 * tf * bf + (h + tf) * tweb  # I think tt is tf...</span>
    <span class="c1">#zc = bf * tf * (bf + tw) / A</span>
    <span class="c1">#zs = b**2 * tf / (2 * b * tw + h * tf / 3)</span>
    <span class="c1">#i1 = (</span>
        <span class="c1">#h ** 2 * tf * bf / 2</span>
        <span class="c1">#+ bf * tf ** 3 / 6</span>
        <span class="c1">#+ (h + tf) ** 3 * tw / 12</span>
    <span class="c1">#)</span>
    <span class="c1">#i2 = (</span>
        <span class="c1">#(h + tf) * tw**3/12</span>
        <span class="c1">#+ bf**3 * tf / 6</span>
        <span class="c1">#+ 0.5 * (bf + tw) ** 2 * bf * tf</span>
        <span class="c1">#- zc ** 2 * A</span>
    <span class="c1">#)</span>
    <span class="c1">#j = (2 * b * tf **3 + h * tw ** 3) / 3</span>

    <span class="c1"># warping coefficient for the cross section relative to the shear center</span>
    <span class="c1">#iw = tf * b**3 * h**2 / 12 * (2 * tw * h + 3 * tf * b) / (tw * h + 6 * tf * b)</span>
    <span class="c1">#k1 = tw * hw / A</span>
    <span class="c1">#k2 = 2 * tf * bf / A</span>
    <span class="c1">#zna = zc + zs</span>
    <span class="n">hweb</span> <span class="o">=</span> <span class="n">dim2</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">tf</span>
    <span class="n">A1</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">tf</span> <span class="o">*</span> <span class="n">dim1</span> <span class="o">+</span> <span class="n">hweb</span> <span class="o">*</span> <span class="n">tweb</span>
    <span class="n">A</span> <span class="o">=</span> <span class="n">A1</span>
    <span class="n">I1</span> <span class="o">=</span> <span class="n">I2</span> <span class="o">=</span> <span class="n">I12</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span></div>

<div class="viewcode-block" id="chan1_section"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.chan1_section">[docs]</a><span class="k">def</span> <span class="nf">chan1_section</span><span class="p">(</span><span class="n">class_name</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">):</span>
    <span class="c1">#</span>
    <span class="c1"># +--------+  ^</span>
    <span class="c1"># |        |  |</span>
    <span class="c1"># +---+----+  |</span>
    <span class="c1"># |   |       |         ^</span>
    <span class="c1"># |   |       |         |</span>
    <span class="c1"># |   |       | d4 = h  | d3 = hw = h2</span>
    <span class="c1"># |   |       |         |</span>
    <span class="c1"># +---+----+  |         v</span>
    <span class="c1"># |        |  |</span>
    <span class="c1"># +--------+  v</span>
    <span class="c1"># &lt;---w1---&gt;</span>
    <span class="c1"># &lt;--&gt;&lt;----&gt;</span>
    <span class="c1"># dim2 dim1</span>
    <span class="c1"># tw    bf</span>
    <span class="n">dim1</span><span class="p">,</span> <span class="n">dim2</span><span class="p">,</span> <span class="n">dim3</span><span class="p">,</span> <span class="n">dim4</span> <span class="o">=</span> <span class="n">dim</span>
    <span class="n">tweb</span> <span class="o">=</span> <span class="n">dim2</span>
    <span class="n">bflange</span> <span class="o">=</span> <span class="n">dim1</span>
    <span class="n">h_all</span> <span class="o">=</span> <span class="n">dim4</span>
    <span class="n">h_inner</span> <span class="o">=</span> <span class="n">dim3</span>

    <span class="n">h1</span> <span class="o">=</span> <span class="n">h_all</span> <span class="o">-</span> <span class="n">h_inner</span>  <span class="c1"># 2*tflange</span>
    <span class="k">assert</span> <span class="n">h_all</span> <span class="o">&gt;</span> <span class="n">h_inner</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;h_all(dim4)=</span><span class="si">{</span><span class="n">h_all</span><span class="si">}</span><span class="s1"> h_inner(dim3)=</span><span class="si">{</span><span class="n">h_inner</span><span class="si">}</span><span class="s1">&#39;</span>
    <span class="n">tflange</span> <span class="o">=</span> <span class="n">h1</span> <span class="o">/</span> <span class="mf">2.</span>
    <span class="n">w_all</span> <span class="o">=</span> <span class="n">bflange</span> <span class="o">+</span> <span class="n">tweb</span>  <span class="c1"># bf + tw</span>
    <span class="n">A</span> <span class="o">=</span> <span class="n">h1</span> <span class="o">*</span> <span class="n">w_all</span> <span class="o">+</span> <span class="n">h_inner</span> <span class="o">*</span> <span class="n">tweb</span>
    <span class="c1">#print(f&#39;h_all={h_all} h_inner={h_inner} tweb={tweb} tflange={tflange} bflange={bflange}&#39;)</span>
    <span class="n">A2</span> <span class="o">=</span> <span class="n">dim2</span> <span class="o">*</span> <span class="n">dim3</span> <span class="o">+</span> <span class="p">(</span><span class="n">h_all</span> <span class="o">-</span> <span class="n">dim3</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">dim1</span> <span class="o">+</span> <span class="n">dim2</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">np</span><span class="o">.</span><span class="n">allclose</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">A2</span><span class="p">),</span> <span class="s1">&#39;A=</span><span class="si">%s</span><span class="s1"> A2=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">A2</span><span class="p">)</span>
    <span class="n">I1</span> <span class="o">=</span> <span class="n">I2</span> <span class="o">=</span> <span class="n">I12</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span></div>

<div class="viewcode-block" id="chan2_section"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.chan2_section">[docs]</a><span class="k">def</span> <span class="nf">chan2_section</span><span class="p">(</span><span class="n">class_name</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">):</span>
    <span class="c1">#  d1        d1</span>
    <span class="c1"># &lt;--&gt;      &lt;--&gt;</span>
    <span class="c1"># +--+      +--+        ^</span>
    <span class="c1"># |  |      |  |        |</span>
    <span class="c1"># |  |      |  |        | d3</span>
    <span class="c1"># +--+------+--+  ^     |</span>
    <span class="c1"># |            |  | d2  |</span>
    <span class="c1"># +------------+  v     v</span>
    <span class="c1">#</span>
    <span class="c1"># &lt;-----d4-----&gt;</span>
    <span class="c1">#</span>
    <span class="n">dim1</span><span class="p">,</span> <span class="n">dim2</span><span class="p">,</span> <span class="n">dim3</span><span class="p">,</span> <span class="n">dim4</span> <span class="o">=</span> <span class="n">dim</span>
    <span class="n">hupper</span> <span class="o">=</span> <span class="n">dim3</span> <span class="o">-</span> <span class="n">dim2</span>
    <span class="n">hlower</span> <span class="o">=</span> <span class="n">dim2</span>
    <span class="n">wlower</span> <span class="o">=</span> <span class="n">dim4</span>
    <span class="n">wupper</span> <span class="o">=</span> <span class="n">dim1</span>
    <span class="n">A</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">hupper</span> <span class="o">*</span> <span class="n">wupper</span> <span class="o">+</span> <span class="n">hlower</span> <span class="o">*</span> <span class="n">wlower</span>

    <span class="n">h2</span> <span class="o">=</span> <span class="n">dim2</span>
    <span class="n">w2</span> <span class="o">=</span> <span class="n">dim4</span>

    <span class="n">h1</span> <span class="o">=</span> <span class="n">dim3</span> <span class="o">-</span> <span class="n">h2</span>
    <span class="n">w1</span> <span class="o">=</span> <span class="n">dim1</span> <span class="o">*</span> <span class="mi">2</span>
    <span class="n">A2</span> <span class="o">=</span> <span class="n">h1</span> <span class="o">*</span> <span class="n">w1</span> <span class="o">+</span> <span class="n">h2</span> <span class="o">*</span> <span class="n">w2</span>
    <span class="n">A3</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">dim1</span> <span class="o">*</span> <span class="n">dim3</span> <span class="o">+</span> <span class="p">(</span><span class="n">dim4</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">dim1</span><span class="p">)</span> <span class="o">*</span> <span class="n">dim2</span>
    <span class="k">assert</span> <span class="n">np</span><span class="o">.</span><span class="n">allclose</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">A2</span><span class="p">),</span> <span class="s1">&#39;A=</span><span class="si">%s</span><span class="s1"> A2=</span><span class="si">%s</span><span class="s1"> A3=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">A2</span><span class="p">,</span> <span class="n">A3</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">np</span><span class="o">.</span><span class="n">allclose</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">A3</span><span class="p">),</span> <span class="s1">&#39;A=</span><span class="si">%s</span><span class="s1"> A2=</span><span class="si">%s</span><span class="s1"> A3=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">A2</span><span class="p">,</span> <span class="n">A3</span><span class="p">)</span>
    <span class="n">I1</span> <span class="o">=</span> <span class="n">I2</span> <span class="o">=</span> <span class="n">I12</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span></div>

<div class="viewcode-block" id="dbox_section"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.dbox_section">[docs]</a><span class="k">def</span> <span class="nf">dbox_section</span><span class="p">(</span><span class="n">class_name</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">prop</span><span class="p">):</span>
    <span class="c1">#DBOX = ((DIM2*DIM3)-((DIM2-DIM7-DIM8)*(DIM3-((0.5*DIM5)+DIM4)))) +</span>
    <span class="c1">#       (((DIM1-DIM3)*DIM2)-((DIM2-(DIM9+DIM10))*(DIM1-DIM3-(0.5*DIM5)-DIM6)))</span>
    <span class="c1">#</span>
    <span class="c1">#  |--2--|---5---|</span>
    <span class="c1">#  |     |       |</span>
    <span class="c1">#  1     3       6</span>
    <span class="c1">#  |     |       |</span>
    <span class="c1">#  |--4--|---7---|</span>
    <span class="c1">#</span>
    <span class="n">dim1</span><span class="p">,</span> <span class="n">dim2</span><span class="p">,</span> <span class="n">dim3</span><span class="p">,</span> <span class="n">dim4</span><span class="p">,</span> <span class="n">dim5</span><span class="p">,</span> <span class="n">dim6</span><span class="p">,</span> <span class="n">dim7</span><span class="p">,</span> <span class="n">dim8</span><span class="p">,</span> <span class="n">dim9</span><span class="p">,</span> <span class="n">dim10</span> <span class="o">=</span> <span class="n">dim</span>

    <span class="c1">#0,1,2,6,11</span>
    <span class="c1">#1,2,3,7,12</span>

    <span class="n">htotal</span> <span class="o">=</span> <span class="n">dim2</span>
    <span class="n">wtotal</span> <span class="o">=</span> <span class="n">dim1</span>

    <span class="n">wleft</span> <span class="o">=</span> <span class="n">dim3</span> <span class="o">-</span> <span class="n">dim4</span> <span class="o">-</span> <span class="n">dim5</span> <span class="o">/</span> <span class="mf">2.</span>
    <span class="n">wright</span> <span class="o">=</span> <span class="n">dim1</span> <span class="o">-</span> <span class="n">dim3</span> <span class="o">-</span> <span class="n">dim6</span> <span class="o">-</span> <span class="n">dim5</span> <span class="o">/</span> <span class="mf">2.</span>
    <span class="k">assert</span> <span class="n">wleft</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="n">wleft</span>
    <span class="c1">#assert wright &gt; 0, wright</span>

    <span class="c1">#A1 = dim4 * htotal</span>
    <span class="c1">#A2 = dim7 * wleft</span>
    <span class="c1">#A3 = dim5 * htotal</span>
    <span class="c1">#A4 = dim8 * wleft</span>
    <span class="c1">#A5 = dim9 * wright</span>
    <span class="c1">#A6 = dim6 * htotal</span>
    <span class="c1">#A7 = dim10 * wright</span>
    <span class="c1">#A = A1 + A2 + A3 + A4 + A5 + A6 + A7</span>

    <span class="n">A1</span> <span class="o">=</span> <span class="n">dim4</span> <span class="o">*</span> <span class="n">htotal</span>
    <span class="n">A2</span> <span class="o">=</span> <span class="n">wleft</span> <span class="o">*</span> <span class="n">dim7</span>
    <span class="n">A3</span> <span class="o">=</span> <span class="n">dim5</span> <span class="o">*</span> <span class="n">htotal</span>
    <span class="n">A4</span> <span class="o">=</span> <span class="n">wleft</span> <span class="o">*</span> <span class="n">dim8</span>
    <span class="n">A5</span> <span class="o">=</span> <span class="n">wright</span> <span class="o">*</span> <span class="n">dim9</span>
    <span class="n">A6</span> <span class="o">=</span> <span class="n">dim6</span> <span class="o">*</span> <span class="n">htotal</span>
    <span class="n">A7</span> <span class="o">=</span> <span class="n">wright</span> <span class="o">*</span> <span class="n">dim10</span>
    <span class="n">A</span> <span class="o">=</span> <span class="n">A1</span> <span class="o">+</span> <span class="n">A2</span> <span class="o">+</span> <span class="n">A3</span> <span class="o">+</span> <span class="n">A4</span> <span class="o">+</span> <span class="n">A5</span> <span class="o">+</span> <span class="n">A6</span> <span class="o">+</span> <span class="n">A7</span>

    <span class="n">z1</span> <span class="o">=</span> <span class="n">dim4</span> <span class="o">/</span> <span class="mi">2</span>
    <span class="n">z2</span> <span class="o">=</span> <span class="n">dim4</span> <span class="o">+</span> <span class="n">wleft</span> <span class="o">/</span> <span class="mi">2</span>
    <span class="n">z3</span> <span class="o">=</span> <span class="n">dim3</span>
    <span class="n">z4</span> <span class="o">=</span> <span class="n">z2</span>
    <span class="n">z5</span> <span class="o">=</span> <span class="n">dim3</span> <span class="o">+</span> <span class="n">dim5</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">wright</span> <span class="o">/</span> <span class="mi">2</span>
    <span class="n">z6</span> <span class="o">=</span> <span class="n">dim1</span> <span class="o">-</span> <span class="n">dim6</span> <span class="o">/</span> <span class="mi">2</span>
    <span class="n">z7</span> <span class="o">=</span> <span class="n">z5</span>

    <span class="n">y1</span> <span class="o">=</span> <span class="n">htotal</span> <span class="o">/</span> <span class="mi">2</span>
    <span class="n">y2</span> <span class="o">=</span> <span class="n">htotal</span> <span class="o">-</span> <span class="n">dim7</span> <span class="o">/</span> <span class="mi">2</span>
    <span class="n">y3</span> <span class="o">=</span> <span class="n">y1</span>
    <span class="n">y4</span> <span class="o">=</span> <span class="n">dim8</span> <span class="o">/</span> <span class="mi">2</span>
    <span class="n">y5</span> <span class="o">=</span> <span class="n">htotal</span> <span class="o">-</span> <span class="n">dim9</span> <span class="o">/</span> <span class="mf">2.</span>
    <span class="n">y6</span> <span class="o">=</span> <span class="n">y1</span>
    <span class="n">y7</span> <span class="o">=</span> <span class="n">dim10</span> <span class="o">/</span> <span class="mi">2</span>

    <span class="n">cg_y</span> <span class="o">=</span> <span class="p">(</span><span class="n">A1</span> <span class="o">*</span> <span class="n">y1</span> <span class="o">+</span> <span class="n">A2</span> <span class="o">*</span> <span class="n">y2</span> <span class="o">+</span> <span class="n">A3</span> <span class="o">*</span> <span class="n">y3</span> <span class="o">+</span> <span class="n">A4</span> <span class="o">*</span> <span class="n">y4</span> <span class="o">+</span> <span class="n">A5</span> <span class="o">*</span> <span class="n">y5</span> <span class="o">+</span> <span class="n">A6</span> <span class="o">*</span> <span class="n">y6</span> <span class="o">+</span> <span class="n">A7</span> <span class="o">*</span> <span class="n">y7</span><span class="p">)</span> <span class="o">/</span> <span class="n">A</span>
    <span class="n">cg_z</span> <span class="o">=</span> <span class="p">(</span><span class="n">A1</span> <span class="o">*</span> <span class="n">z1</span> <span class="o">+</span> <span class="n">A2</span> <span class="o">*</span> <span class="n">z2</span> <span class="o">+</span> <span class="n">A3</span> <span class="o">*</span> <span class="n">z3</span> <span class="o">+</span> <span class="n">A4</span> <span class="o">*</span> <span class="n">z4</span> <span class="o">+</span> <span class="n">A5</span> <span class="o">*</span> <span class="n">z5</span> <span class="o">+</span> <span class="n">A6</span> <span class="o">*</span> <span class="n">z6</span> <span class="o">+</span> <span class="n">A7</span> <span class="o">*</span> <span class="n">z7</span><span class="p">)</span> <span class="o">/</span> <span class="n">A</span>

    <span class="n">dy1</span> <span class="o">=</span> <span class="n">y1</span> <span class="o">-</span> <span class="n">cg_y</span>
    <span class="n">dy2</span> <span class="o">=</span> <span class="n">y2</span> <span class="o">-</span> <span class="n">cg_y</span>
    <span class="n">dy3</span> <span class="o">=</span> <span class="n">y3</span> <span class="o">-</span> <span class="n">cg_y</span>
    <span class="n">dy4</span> <span class="o">=</span> <span class="n">y4</span> <span class="o">-</span> <span class="n">cg_y</span>
    <span class="n">dy5</span> <span class="o">=</span> <span class="n">y5</span> <span class="o">-</span> <span class="n">cg_y</span>
    <span class="n">dy6</span> <span class="o">=</span> <span class="n">y6</span> <span class="o">-</span> <span class="n">cg_y</span>
    <span class="n">dy7</span> <span class="o">=</span> <span class="n">y7</span> <span class="o">-</span> <span class="n">cg_y</span>

    <span class="n">dz1</span> <span class="o">=</span> <span class="n">z1</span> <span class="o">-</span> <span class="n">cg_z</span>
    <span class="n">dz2</span> <span class="o">=</span> <span class="n">z2</span> <span class="o">-</span> <span class="n">cg_z</span>
    <span class="n">dz3</span> <span class="o">=</span> <span class="n">z3</span> <span class="o">-</span> <span class="n">cg_z</span>
    <span class="n">dz4</span> <span class="o">=</span> <span class="n">z4</span> <span class="o">-</span> <span class="n">cg_z</span>
    <span class="n">dz5</span> <span class="o">=</span> <span class="n">z5</span> <span class="o">-</span> <span class="n">cg_z</span>
    <span class="n">dz6</span> <span class="o">=</span> <span class="n">z6</span> <span class="o">-</span> <span class="n">cg_z</span>
    <span class="n">dz7</span> <span class="o">=</span> <span class="n">z7</span> <span class="o">-</span> <span class="n">cg_z</span>
    <span class="k">assert</span> <span class="n">dz1</span> <span class="o">&lt;</span> <span class="mf">0.</span><span class="p">,</span> <span class="n">dz1</span>
    <span class="k">assert</span> <span class="n">dy2</span> <span class="o">&gt;</span> <span class="mf">0.</span><span class="p">,</span> <span class="n">dy2</span>

    <span class="c1"># inertia taken about the centroid</span>
    <span class="c1"># 1/12 * b * h^3 = 1/12 * A * h^2</span>
    <span class="n">Iy1</span> <span class="o">=</span> <span class="n">A1</span> <span class="o">*</span> <span class="n">htotal</span> <span class="o">**</span> <span class="mi">2</span>
    <span class="n">Iy2</span> <span class="o">=</span> <span class="n">A2</span> <span class="o">*</span> <span class="n">dim7</span> <span class="o">**</span> <span class="mi">2</span>
    <span class="n">Iy3</span> <span class="o">=</span> <span class="n">A3</span> <span class="o">*</span> <span class="n">htotal</span> <span class="o">**</span> <span class="mi">2</span>
    <span class="n">Iy4</span> <span class="o">=</span> <span class="n">A4</span> <span class="o">*</span> <span class="n">dim8</span> <span class="o">**</span> <span class="mi">2</span>
    <span class="n">Iy5</span> <span class="o">=</span> <span class="n">A5</span> <span class="o">*</span> <span class="n">dim9</span> <span class="o">**</span> <span class="mi">2</span>
    <span class="n">Iy6</span> <span class="o">=</span> <span class="n">A6</span> <span class="o">*</span> <span class="n">htotal</span> <span class="o">**</span> <span class="mi">2</span>
    <span class="n">Iy7</span> <span class="o">=</span> <span class="n">A7</span> <span class="o">*</span> <span class="n">dim10</span> <span class="o">**</span> <span class="mi">2</span>
    <span class="n">dI1</span> <span class="o">=</span> <span class="n">A1</span> <span class="o">*</span> <span class="n">dy1</span> <span class="o">+</span> <span class="n">A2</span> <span class="o">*</span> <span class="n">dy2</span> <span class="o">+</span> <span class="n">A3</span> <span class="o">*</span> <span class="n">dy3</span> <span class="o">+</span> <span class="n">A4</span> <span class="o">*</span> <span class="n">dy4</span> <span class="o">+</span> <span class="n">A5</span> <span class="o">*</span> <span class="n">dy5</span> <span class="o">+</span> <span class="n">A6</span> <span class="o">*</span> <span class="n">dy6</span> <span class="o">+</span> <span class="n">A7</span> <span class="o">*</span> <span class="n">dy7</span>
    <span class="n">I1</span> <span class="o">=</span> <span class="p">(</span><span class="n">Iy1</span> <span class="o">+</span> <span class="n">Iy2</span> <span class="o">+</span> <span class="n">Iy3</span> <span class="o">+</span> <span class="n">Iy4</span> <span class="o">+</span> <span class="n">Iy5</span> <span class="o">+</span> <span class="n">Iy6</span> <span class="o">+</span> <span class="n">Iy7</span><span class="p">)</span> <span class="o">/</span> <span class="mf">12.</span> <span class="o">+</span> <span class="n">dI1</span>

    <span class="c1"># 1/12 * b^3 * h = 1/12 * A * b^2</span>
    <span class="n">Iz1</span> <span class="o">=</span> <span class="n">A1</span> <span class="o">*</span> <span class="n">dim4</span> <span class="o">**</span> <span class="mi">2</span>
    <span class="n">Iz2</span> <span class="o">=</span> <span class="n">A2</span> <span class="o">*</span> <span class="n">wleft</span> <span class="o">**</span> <span class="mi">2</span>
    <span class="n">Iz3</span> <span class="o">=</span> <span class="n">A3</span> <span class="o">*</span> <span class="n">dim5</span> <span class="o">**</span> <span class="mi">2</span>
    <span class="n">Iz4</span> <span class="o">=</span> <span class="n">A4</span> <span class="o">*</span> <span class="n">wleft</span> <span class="o">**</span> <span class="mi">2</span>
    <span class="n">Iz5</span> <span class="o">=</span> <span class="n">A5</span> <span class="o">*</span> <span class="n">wright</span> <span class="o">**</span> <span class="mi">2</span>
    <span class="n">Iz6</span> <span class="o">=</span> <span class="n">A6</span> <span class="o">*</span> <span class="n">dim6</span> <span class="o">**</span> <span class="mi">2</span>
    <span class="n">Iz7</span> <span class="o">=</span> <span class="n">A7</span> <span class="o">*</span> <span class="n">wright</span> <span class="o">**</span> <span class="mi">2</span>
    <span class="n">dI2</span> <span class="o">=</span> <span class="n">A1</span> <span class="o">*</span> <span class="n">dz1</span> <span class="o">+</span> <span class="n">A2</span> <span class="o">*</span> <span class="n">dz2</span> <span class="o">+</span> <span class="n">A3</span> <span class="o">*</span> <span class="n">dz3</span> <span class="o">+</span> <span class="n">A4</span> <span class="o">*</span> <span class="n">dz4</span> <span class="o">+</span> <span class="n">A5</span> <span class="o">*</span> <span class="n">dz5</span> <span class="o">+</span> <span class="n">A6</span> <span class="o">*</span> <span class="n">dz6</span> <span class="o">+</span> <span class="n">A7</span> <span class="o">*</span> <span class="n">dz7</span>
    <span class="n">I2</span> <span class="o">=</span> <span class="p">(</span><span class="n">Iz1</span> <span class="o">+</span> <span class="n">Iz2</span> <span class="o">+</span> <span class="n">Iz3</span> <span class="o">+</span> <span class="n">Iz4</span> <span class="o">+</span> <span class="n">Iz5</span> <span class="o">+</span> <span class="n">Iz6</span> <span class="o">+</span> <span class="n">Iz7</span><span class="p">)</span> <span class="o">/</span> <span class="mf">12.</span> <span class="o">+</span> <span class="n">dI2</span>

    <span class="n">I12</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span></div>


<div class="viewcode-block" id="IntegratedLineProperty"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.IntegratedLineProperty">[docs]</a><span class="k">class</span> <span class="nc">IntegratedLineProperty</span><span class="p">(</span><span class="n">LineProperty</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">xxb</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">A</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">j</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">i1</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">i2</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">i12</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">LineProperty</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

<div class="viewcode-block" id="IntegratedLineProperty.Area"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.IntegratedLineProperty.Area">[docs]</a>    <span class="k">def</span> <span class="nf">Area</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="n">A</span> <span class="o">=</span> <span class="n">integrate_positive_unit_line</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xxb</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">A</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">A</span></div>

<div class="viewcode-block" id="IntegratedLineProperty.J"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.IntegratedLineProperty.J">[docs]</a>    <span class="k">def</span> <span class="nf">J</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="n">J</span> <span class="o">=</span> <span class="n">integrate_positive_unit_line</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xxb</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">j</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">J</span></div>

<div class="viewcode-block" id="IntegratedLineProperty.I11"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.IntegratedLineProperty.I11">[docs]</a>    <span class="k">def</span> <span class="nf">I11</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="n">i1</span> <span class="o">=</span> <span class="n">integrate_positive_unit_line</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xxb</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">i1</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">i1</span></div>

<div class="viewcode-block" id="IntegratedLineProperty.I22"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.IntegratedLineProperty.I22">[docs]</a>    <span class="k">def</span> <span class="nf">I22</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="n">i2</span> <span class="o">=</span> <span class="n">integrate_positive_unit_line</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xxb</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">i2</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">i2</span></div>

<div class="viewcode-block" id="IntegratedLineProperty.I12"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.IntegratedLineProperty.I12">[docs]</a>    <span class="k">def</span> <span class="nf">I12</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="n">i12</span> <span class="o">=</span> <span class="n">integrate_unit_line</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xxb</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">i12</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">i12</span></div>

<div class="viewcode-block" id="IntegratedLineProperty.Nsm"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.IntegratedLineProperty.Nsm">[docs]</a>    <span class="k">def</span> <span class="nf">Nsm</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="n">nsm</span> <span class="o">=</span> <span class="n">integrate_positive_unit_line</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xxb</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nsm</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">nsm</span></div></div>


<div class="viewcode-block" id="PBAR"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBAR">[docs]</a><span class="k">class</span> <span class="nc">PBAR</span><span class="p">(</span><span class="n">LineProperty</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Defines the properties of a simple beam element (CBAR entry).</span>

<span class="sd">    +------+-----+-----+-----+----+----+----+-----+-----+</span>
<span class="sd">    |   1  |  2  |  3  |  4  |  5 |  6 |  7 |  8  |  9  |</span>
<span class="sd">    +======+=====+=====+=====+====+====+====+=====+=====+</span>
<span class="sd">    | PBAR | PID | MID |  A  | I1 | I2 | J  | NSM |     |</span>
<span class="sd">    +------+-----+-----+-----+----+----+----+-----+-----+</span>
<span class="sd">    |      | C1  | C2  | D1  | D2 | E1 | E2 | F1  | F2  |</span>
<span class="sd">    +------+-----+-----+-----+----+----+----+-----+-----+</span>
<span class="sd">    |      | K1  | K2  | I12 |    |    |    |     |     |</span>
<span class="sd">    +------+-----+-----+-----+----+----+----+-----+-----+</span>

<span class="sd">    .. todo::</span>
<span class="sd">        support solution 600 default</span>
<span class="sd">        do a check for mid -&gt; MAT1      for structural</span>
<span class="sd">        do a check for mid -&gt; MAT4/MAT5 for thermal</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">type</span> <span class="o">=</span> <span class="s1">&#39;PBAR&#39;</span>
    <span class="n">pname_fid_map</span> <span class="o">=</span> <span class="p">{</span>
        <span class="c1"># 1-based</span>
        <span class="mi">4</span> <span class="p">:</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span> <span class="p">:</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span>
        <span class="mi">5</span> <span class="p">:</span> <span class="s1">&#39;i1&#39;</span><span class="p">,</span> <span class="s1">&#39;I1&#39;</span> <span class="p">:</span> <span class="s1">&#39;i1&#39;</span><span class="p">,</span>
        <span class="mi">6</span> <span class="p">:</span> <span class="s1">&#39;i2&#39;</span><span class="p">,</span> <span class="s1">&#39;I2&#39;</span> <span class="p">:</span> <span class="s1">&#39;i2&#39;</span><span class="p">,</span>
        <span class="mi">7</span> <span class="p">:</span> <span class="s1">&#39;j&#39;</span><span class="p">,</span> <span class="s1">&#39;J&#39;</span> <span class="p">:</span> <span class="s1">&#39;j&#39;</span><span class="p">,</span>
        <span class="mi">10</span> <span class="p">:</span> <span class="s1">&#39;c1&#39;</span><span class="p">,</span>
        <span class="mi">11</span> <span class="p">:</span> <span class="s1">&#39;c2&#39;</span><span class="p">,</span>
        <span class="mi">12</span> <span class="p">:</span> <span class="s1">&#39;d1&#39;</span><span class="p">,</span>
        <span class="mi">13</span> <span class="p">:</span> <span class="s1">&#39;d2&#39;</span><span class="p">,</span>
        <span class="mi">14</span> <span class="p">:</span> <span class="s1">&#39;e1&#39;</span><span class="p">,</span>
        <span class="mi">15</span> <span class="p">:</span> <span class="s1">&#39;e2&#39;</span><span class="p">,</span>
        <span class="mi">16</span> <span class="p">:</span> <span class="s1">&#39;f1&#39;</span><span class="p">,</span>
        <span class="mi">17</span> <span class="p">:</span> <span class="s1">&#39;f2&#39;</span><span class="p">,</span>
        <span class="mi">18</span> <span class="p">:</span> <span class="s1">&#39;k1&#39;</span><span class="p">,</span>
        <span class="mi">19</span> <span class="p">:</span> <span class="s1">&#39;k1&#39;</span><span class="p">,</span>
        <span class="mi">20</span> <span class="p">:</span> <span class="s1">&#39;i12&#39;</span><span class="p">,</span> <span class="s1">&#39;I12&#39;</span> <span class="p">:</span> <span class="s1">&#39;i12&#39;</span><span class="p">,</span>
    <span class="p">}</span>

<div class="viewcode-block" id="PBAR.export_to_hdf5"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBAR.export_to_hdf5">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">export_to_hdf5</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">h5_file</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">pids</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;exports the properties in a vectorized way&quot;&quot;&quot;</span>
        <span class="c1">#comments = []</span>
        <span class="n">mids</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">A</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">J</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">I</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="n">c</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">d</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">e</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">f</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">k</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">nsm</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">pid</span> <span class="ow">in</span> <span class="n">pids</span><span class="p">:</span>
            <span class="n">prop</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">properties</span><span class="p">[</span><span class="n">pid</span><span class="p">]</span>
            <span class="c1">#comments.append(prop.comment)</span>
            <span class="n">mids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">prop</span><span class="o">.</span><span class="n">mid</span><span class="p">)</span>
            <span class="n">A</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">prop</span><span class="o">.</span><span class="n">A</span><span class="p">)</span>
            <span class="n">I</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">prop</span><span class="o">.</span><span class="n">i1</span><span class="p">,</span> <span class="n">prop</span><span class="o">.</span><span class="n">i2</span><span class="p">,</span> <span class="n">prop</span><span class="o">.</span><span class="n">i12</span><span class="p">])</span>
            <span class="n">J</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">prop</span><span class="o">.</span><span class="n">j</span><span class="p">)</span>

            <span class="n">c</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">prop</span><span class="o">.</span><span class="n">c1</span><span class="p">,</span> <span class="n">prop</span><span class="o">.</span><span class="n">c2</span><span class="p">])</span>
            <span class="n">d</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">prop</span><span class="o">.</span><span class="n">d1</span><span class="p">,</span> <span class="n">prop</span><span class="o">.</span><span class="n">d2</span><span class="p">])</span>
            <span class="n">e</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">prop</span><span class="o">.</span><span class="n">e1</span><span class="p">,</span> <span class="n">prop</span><span class="o">.</span><span class="n">e2</span><span class="p">])</span>
            <span class="n">f</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">prop</span><span class="o">.</span><span class="n">f1</span><span class="p">,</span> <span class="n">prop</span><span class="o">.</span><span class="n">f2</span><span class="p">])</span>

            <span class="n">ki</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">if</span> <span class="n">prop</span><span class="o">.</span><span class="n">k1</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">ki</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">ki</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">prop</span><span class="o">.</span><span class="n">k1</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">prop</span><span class="o">.</span><span class="n">k2</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">ki</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">ki</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">prop</span><span class="o">.</span><span class="n">k2</span><span class="p">)</span>

            <span class="n">k</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ki</span><span class="p">)</span>
            <span class="n">nsm</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">prop</span><span class="o">.</span><span class="n">nsm</span><span class="p">)</span>
        <span class="c1">#h5_file.create_dataset(&#39;_comment&#39;, data=comments)</span>
        <span class="n">h5_file</span><span class="o">.</span><span class="n">create_dataset</span><span class="p">(</span><span class="s1">&#39;pid&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">pids</span><span class="p">)</span>
        <span class="n">h5_file</span><span class="o">.</span><span class="n">create_dataset</span><span class="p">(</span><span class="s1">&#39;mid&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">mids</span><span class="p">)</span>
        <span class="n">h5_file</span><span class="o">.</span><span class="n">create_dataset</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">A</span><span class="p">)</span>
        <span class="n">h5_file</span><span class="o">.</span><span class="n">create_dataset</span><span class="p">(</span><span class="s1">&#39;J&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">J</span><span class="p">)</span>
        <span class="n">h5_file</span><span class="o">.</span><span class="n">create_dataset</span><span class="p">(</span><span class="s1">&#39;I&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">I</span><span class="p">)</span>
        <span class="n">h5_file</span><span class="o">.</span><span class="n">create_dataset</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">c</span><span class="p">)</span>
        <span class="n">h5_file</span><span class="o">.</span><span class="n">create_dataset</span><span class="p">(</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">d</span><span class="p">)</span>
        <span class="n">h5_file</span><span class="o">.</span><span class="n">create_dataset</span><span class="p">(</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">e</span><span class="p">)</span>
        <span class="n">h5_file</span><span class="o">.</span><span class="n">create_dataset</span><span class="p">(</span><span class="s1">&#39;f&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">f</span><span class="p">)</span>
        <span class="n">h5_file</span><span class="o">.</span><span class="n">create_dataset</span><span class="p">(</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">k</span><span class="p">)</span>
        <span class="n">h5_file</span><span class="o">.</span><span class="n">create_dataset</span><span class="p">(</span><span class="s1">&#39;nsm&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">nsm</span><span class="p">)</span></div>
        <span class="c1">#h5_file.create_dataset(&#39;_comment&#39;, data=comments)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">A</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">i1</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">i2</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">i12</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">j</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">nsm</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span>
                 <span class="n">c1</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">c2</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">d1</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">d2</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">e1</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">e2</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">f1</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">f2</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span>
                 <span class="n">k1</span><span class="o">=</span><span class="mf">1.e8</span><span class="p">,</span> <span class="n">k2</span><span class="o">=</span><span class="mf">1.e8</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a PBAR card</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        pid : int</span>
<span class="sd">            property id</span>
<span class="sd">        mid : int</span>
<span class="sd">            material id</span>
<span class="sd">        area : float</span>
<span class="sd">            area</span>
<span class="sd">        i1, i2, i12, j : float</span>
<span class="sd">            moments of inertia</span>
<span class="sd">        nsm : float; default=0.</span>
<span class="sd">            nonstructural mass per unit length</span>
<span class="sd">        c1/c2, d1/d2, e1/e2, f1/f2 : float</span>
<span class="sd">           the y/z locations of the stress recovery points</span>
<span class="sd">           c1 - point C.y</span>
<span class="sd">           c2 - point C.z</span>

<span class="sd">        k1 / k2 : float; default=1.e8</span>
<span class="sd">            Shear stiffness factor K in K*A*G for plane 1/2.</span>
<span class="sd">        comment : str; default=&#39;&#39;</span>
<span class="sd">            a comment for the card</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">LineProperty</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">comment</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">=</span> <span class="n">comment</span>
        <span class="c1">#: property ID -&gt; use Pid()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pid</span> <span class="o">=</span> <span class="n">pid</span>
        <span class="c1">#: material ID -&gt; use Mid()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mid</span> <span class="o">=</span> <span class="n">mid</span>
        <span class="c1">#: Area -&gt; use Area()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">A</span> <span class="o">=</span> <span class="n">A</span>
        <span class="c1">#: I1 -&gt; use I1()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">i1</span> <span class="o">=</span> <span class="n">i1</span>
        <span class="c1">#: I2 -&gt; use I2()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">i2</span> <span class="o">=</span> <span class="n">i2</span>

        <span class="c1">#: I12 -&gt; use I12()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">i12</span> <span class="o">=</span> <span class="n">i12</span>

        <span class="c1">#: Polar Moment of Inertia J -&gt; use J()</span>
        <span class="c1">#: default=1/2(I1+I2) for SOL=600, otherwise 0.0</span>
        <span class="c1">#: .. todo:: support SOL 600 default</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">j</span> <span class="o">=</span> <span class="n">j</span>

        <span class="c1">#: nonstructral mass -&gt; use Nsm()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nsm</span> <span class="o">=</span> <span class="n">nsm</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">c1</span> <span class="o">=</span> <span class="n">c1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">c2</span> <span class="o">=</span> <span class="n">c2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">d1</span> <span class="o">=</span> <span class="n">d1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">d2</span> <span class="o">=</span> <span class="n">d2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">e1</span> <span class="o">=</span> <span class="n">e1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">e2</span> <span class="o">=</span> <span class="n">e2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">f1</span> <span class="o">=</span> <span class="n">f1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">f2</span> <span class="o">=</span> <span class="n">f2</span>

        <span class="c1"># K1/K2 must be blank</span>
        <span class="c1">#: default=infinite; assume 1e8</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">k1</span> <span class="o">=</span> <span class="n">k1</span>
        <span class="c1">#: default=infinite; assume 1e8</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">k2</span> <span class="o">=</span> <span class="n">k2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mid_ref</span> <span class="o">=</span> <span class="kc">None</span>

<div class="viewcode-block" id="PBAR.validate"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBAR.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">i1</span> <span class="o">&lt;</span> <span class="mf">0.</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;I1=</span><span class="si">%r</span><span class="s1"> must be greater than or equal to 0.0&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">i1</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">i2</span> <span class="o">&lt;</span> <span class="mf">0.</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;I2=</span><span class="si">%r</span><span class="s1"> must be greater than or equal to 0.0&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">i2</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">j</span> <span class="o">&lt;</span> <span class="mf">0.</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;J=</span><span class="si">%r</span><span class="s1"> must be greater than or equal to 0.0&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">j</span><span class="p">)</span></div>

<div class="viewcode-block" id="PBAR.add_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBAR.add_card">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">add_card</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">card</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a PBAR card from ``BDF.add_card(...)``</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        card : BDFCard()</span>
<span class="sd">            a BDFCard object</span>
<span class="sd">        comment : str; default=&#39;&#39;</span>
<span class="sd">            a comment for the card</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;pid&#39;</span><span class="p">)</span>
        <span class="n">mid</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;mid&#39;</span><span class="p">)</span>
        <span class="n">A</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="n">i1</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;I1&#39;</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="n">i2</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;I2&#39;</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>

        <span class="n">j</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;J&#39;</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="n">nsm</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;nsm&#39;</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>

        <span class="n">c1</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="s1">&#39;C1&#39;</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="n">c2</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;C2&#39;</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="n">d1</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="s1">&#39;D1&#39;</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="n">d2</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="s1">&#39;D2&#39;</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="n">e1</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="s1">&#39;E1&#39;</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="n">e2</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="s1">&#39;E2&#39;</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="n">f1</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="s1">&#39;F1&#39;</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="n">f2</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="s1">&#39;F2&#39;</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>

        <span class="n">i12</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="s1">&#39;I12&#39;</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">A</span> <span class="o">==</span> <span class="mf">0.0</span><span class="p">:</span>
            <span class="n">k1</span> <span class="o">=</span> <span class="n">blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="s1">&#39;K1&#39;</span><span class="p">)</span>
            <span class="n">k2</span> <span class="o">=</span> <span class="n">blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="s1">&#39;K2&#39;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">i12</span> <span class="o">!=</span> <span class="mf">0.0</span><span class="p">:</span>
            <span class="c1"># K1 / K2 are ignored</span>
            <span class="n">k1</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">k2</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1">#: default=infinite; assume 1e8</span>
            <span class="n">k1</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="s1">&#39;K1&#39;</span><span class="p">,</span> <span class="mf">1e8</span><span class="p">)</span>
            <span class="c1">#: default=infinite; assume 1e8</span>
            <span class="n">k2</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="s1">&#39;K2&#39;</span><span class="p">,</span> <span class="mf">1e8</span><span class="p">)</span>

        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">card</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">20</span><span class="p">,</span> <span class="s1">&#39;len(PBAR card) = </span><span class="si">%i</span><span class="se">\n</span><span class="s1">card=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">card</span><span class="p">),</span> <span class="n">card</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">PBAR</span><span class="p">(</span><span class="n">pid</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">A</span><span class="p">,</span> <span class="n">i1</span><span class="p">,</span> <span class="n">i2</span><span class="p">,</span> <span class="n">i12</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">nsm</span><span class="p">,</span>
                    <span class="n">c1</span><span class="p">,</span> <span class="n">c2</span><span class="p">,</span> <span class="n">d1</span><span class="p">,</span> <span class="n">d2</span><span class="p">,</span> <span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">,</span>
                    <span class="n">f1</span><span class="p">,</span> <span class="n">f2</span><span class="p">,</span> <span class="n">k1</span><span class="p">,</span> <span class="n">k2</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span></div>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">add_op2_data</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">mid</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">A</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">i1</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
        <span class="n">i2</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
        <span class="n">j</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>

        <span class="n">nsm</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span>
        <span class="c1">#self.fe  = data[7] #: .. todo:: not documented....</span>
        <span class="n">c1</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span>
        <span class="n">c2</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span>
        <span class="n">d1</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span>
        <span class="n">d2</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span>
        <span class="n">e1</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">12</span><span class="p">]</span>
        <span class="n">e2</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">13</span><span class="p">]</span>
        <span class="n">f1</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">14</span><span class="p">]</span>
        <span class="n">f2</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">15</span><span class="p">]</span>
        <span class="n">k1</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">16</span><span class="p">]</span>
        <span class="n">k2</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">17</span><span class="p">]</span>
        <span class="n">i12</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">18</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">k1</span> <span class="o">==</span> <span class="mf">0.</span><span class="p">:</span>
            <span class="n">k1</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">k2</span> <span class="o">==</span> <span class="mf">0.</span><span class="p">:</span>
            <span class="n">k2</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">return</span> <span class="n">PBAR</span><span class="p">(</span><span class="n">pid</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">A</span><span class="o">=</span><span class="n">A</span><span class="p">,</span> <span class="n">i1</span><span class="o">=</span><span class="n">i1</span><span class="p">,</span> <span class="n">i2</span><span class="o">=</span><span class="n">i2</span><span class="p">,</span> <span class="n">i12</span><span class="o">=</span><span class="n">i12</span><span class="p">,</span> <span class="n">j</span><span class="o">=</span><span class="n">j</span><span class="p">,</span> <span class="n">nsm</span><span class="o">=</span><span class="n">nsm</span><span class="p">,</span>
                    <span class="n">c1</span><span class="o">=</span><span class="n">c1</span><span class="p">,</span> <span class="n">c2</span><span class="o">=</span><span class="n">c2</span><span class="p">,</span> <span class="n">d1</span><span class="o">=</span><span class="n">d1</span><span class="p">,</span> <span class="n">d2</span><span class="o">=</span><span class="n">d2</span><span class="p">,</span> <span class="n">e1</span><span class="o">=</span><span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="o">=</span><span class="n">e2</span><span class="p">,</span>
                    <span class="n">f1</span><span class="o">=</span><span class="n">f1</span><span class="p">,</span> <span class="n">f2</span><span class="o">=</span><span class="n">f2</span><span class="p">,</span> <span class="n">k1</span><span class="o">=</span><span class="n">k1</span><span class="p">,</span> <span class="n">k2</span><span class="o">=</span><span class="n">k2</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_verify</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xref</span><span class="p">):</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pid</span>
        <span class="n">mid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Mid</span><span class="p">()</span>
        <span class="n">A</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Area</span><span class="p">()</span>
        <span class="n">J</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">J</span><span class="p">()</span>
        <span class="c1">#c = self.c</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pid</span><span class="p">,</span> <span class="nb">int</span><span class="p">),</span> <span class="s1">&#39;pid=</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">pid</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">mid</span><span class="p">,</span> <span class="nb">int</span><span class="p">),</span> <span class="s1">&#39;mid=</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">mid</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="nb">float</span><span class="p">),</span> <span class="s1">&#39;pid=</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">A</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">J</span><span class="p">,</span> <span class="nb">float</span><span class="p">),</span> <span class="s1">&#39;cid=</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">J</span>
        <span class="c1">#assert isinstance(c, float), &#39;c=%r&#39; % c</span>
        <span class="k">if</span> <span class="n">xref</span><span class="p">:</span>
            <span class="n">nsm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Nsm</span><span class="p">()</span>
            <span class="n">mpa</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">MassPerLength</span><span class="p">()</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">nsm</span><span class="p">,</span> <span class="nb">float</span><span class="p">),</span> <span class="s1">&#39;nsm=</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">nsm</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">mpa</span><span class="p">,</span> <span class="nb">float</span><span class="p">),</span> <span class="s1">&#39;mass_per_length=</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">mpa</span>

<div class="viewcode-block" id="PBAR.MassPerLength"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBAR.MassPerLength">[docs]</a>    <span class="k">def</span> <span class="nf">MassPerLength</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the mass per length :math:`\frac{m}{L}` of the CBAR.</span>

<span class="sd">        .. math:: \frac{m}{L} = \rho A + nsm</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">A</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Area</span><span class="p">()</span>
        <span class="n">rho</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Rho</span><span class="p">()</span>
        <span class="n">nsm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Nsm</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">rho</span> <span class="o">*</span> <span class="n">A</span> <span class="o">+</span> <span class="n">nsm</span></div>

<div class="viewcode-block" id="PBAR.get_cdef"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBAR.get_cdef">[docs]</a>    <span class="k">def</span> <span class="nf">get_cdef</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cdef</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>
                <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">c1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">c2</span><span class="p">],</span>
                <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">d1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">d2</span><span class="p">],</span>
                <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">e1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">e2</span><span class="p">],</span>
                <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">f1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">f2</span><span class="p">],</span>
            <span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;float64&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">cdef</span></div>

<div class="viewcode-block" id="PBAR.cross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBAR.cross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">cross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">BDF</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Cross links the card so referenced cards can be extracted directly</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        model : BDF()</span>
<span class="sd">            the BDF object</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;, which is required by PBAR mid=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">mid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mid_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">Material</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mid</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span></div>

<div class="viewcode-block" id="PBAR.uncross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBAR.uncross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">uncross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Removes cross-reference links&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Mid</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mid_ref</span> <span class="o">=</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="PBAR.Area"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBAR.Area">[docs]</a>    <span class="k">def</span> <span class="nf">Area</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Gets the area :math:`A` of the CBAR.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">A</span></div>

    <span class="c1">#def Nsm(self) -&gt; float:</span>
    <span class="c1">#    return self.nsm</span>

    <span class="c1">#def J(self) -&gt; float:</span>
       <span class="c1">#return self.j</span>

<div class="viewcode-block" id="PBAR.I11"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBAR.I11">[docs]</a>    <span class="k">def</span> <span class="nf">I11</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;gets the section I11 moment of inertia&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">i1</span></div>

<div class="viewcode-block" id="PBAR.I22"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBAR.I22">[docs]</a>    <span class="k">def</span> <span class="nf">I22</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;gets the section I22 moment of inertia&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">i2</span></div>

<div class="viewcode-block" id="PBAR.I12"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBAR.I12">[docs]</a>    <span class="k">def</span> <span class="nf">I12</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;gets the section I12 moment of inertia&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">i12</span></div>

<div class="viewcode-block" id="PBAR.raw_fields"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBAR.raw_fields">[docs]</a>    <span class="k">def</span> <span class="nf">raw_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">list_fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;PBAR&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Mid</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">A</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">i1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">i2</span><span class="p">,</span>
                       <span class="bp">self</span><span class="o">.</span><span class="n">j</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nsm</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">c1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">c2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">d1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">d2</span><span class="p">,</span>
                       <span class="bp">self</span><span class="o">.</span><span class="n">e1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">e2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">f1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">f2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">k1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">k2</span><span class="p">,</span>
                       <span class="bp">self</span><span class="o">.</span><span class="n">i12</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">list_fields</span></div>

<div class="viewcode-block" id="PBAR.repr_fields"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBAR.repr_fields">[docs]</a>    <span class="k">def</span> <span class="nf">repr_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1">#A  = set_blank_if_default(self.A,0.0)</span>
        <span class="n">i1</span> <span class="o">=</span> <span class="n">set_blank_if_default</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">i1</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="n">i2</span> <span class="o">=</span> <span class="n">set_blank_if_default</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">i2</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="n">i12</span> <span class="o">=</span> <span class="n">set_blank_if_default</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">i12</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="n">j</span> <span class="o">=</span> <span class="n">set_blank_if_default</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">j</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="n">nsm</span> <span class="o">=</span> <span class="n">set_blank_if_default</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nsm</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>

        <span class="n">c1</span> <span class="o">=</span> <span class="n">set_blank_if_default</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">c1</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="n">c2</span> <span class="o">=</span> <span class="n">set_blank_if_default</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">c2</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>

        <span class="n">d1</span> <span class="o">=</span> <span class="n">set_blank_if_default</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">d1</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="n">d2</span> <span class="o">=</span> <span class="n">set_blank_if_default</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">d2</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>

        <span class="n">e1</span> <span class="o">=</span> <span class="n">set_blank_if_default</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">e1</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="n">e2</span> <span class="o">=</span> <span class="n">set_blank_if_default</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">e2</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>

        <span class="n">f1</span> <span class="o">=</span> <span class="n">set_blank_if_default</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">f1</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="n">f2</span> <span class="o">=</span> <span class="n">set_blank_if_default</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">f2</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>

        <span class="n">k1</span> <span class="o">=</span> <span class="n">set_blank_if_default</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">k1</span><span class="p">,</span> <span class="mf">1e8</span><span class="p">)</span>
        <span class="n">k2</span> <span class="o">=</span> <span class="n">set_blank_if_default</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">k2</span><span class="p">,</span> <span class="mf">1e8</span><span class="p">)</span>

        <span class="n">list_fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;PBAR&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Mid</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">A</span><span class="p">,</span> <span class="n">i1</span><span class="p">,</span> <span class="n">i2</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">nsm</span><span class="p">,</span>
                       <span class="kc">None</span><span class="p">,</span> <span class="n">c1</span><span class="p">,</span> <span class="n">c2</span><span class="p">,</span> <span class="n">d1</span><span class="p">,</span> <span class="n">d2</span><span class="p">,</span> <span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">,</span> <span class="n">f1</span><span class="p">,</span> <span class="n">f2</span><span class="p">,</span> <span class="n">k1</span><span class="p">,</span> <span class="n">k2</span><span class="p">,</span> <span class="n">i12</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">list_fields</span></div>

<div class="viewcode-block" id="PBAR.write_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBAR.write_card">[docs]</a>    <span class="k">def</span> <span class="nf">write_card</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">is_double</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">card</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">repr_fields</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">size</span> <span class="o">==</span> <span class="mi">8</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">print_card_8</span><span class="p">(</span><span class="n">card</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">print_card_16</span><span class="p">(</span><span class="n">card</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="PBARL"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBARL">[docs]</a><span class="k">class</span> <span class="nc">PBARL</span><span class="p">(</span><span class="n">LineProperty</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    .. todo:: doesnt support user-defined types</span>

<span class="sd">    +-------+------+------+-------+------+------+------+------+------+</span>
<span class="sd">    |   1   |   2  |   3  |   4   |   5  |   6  |   7  |   8  |   9  |</span>
<span class="sd">    +=======+======+======+=======+======+======+======+======+======+</span>
<span class="sd">    | PBARL | PID  | MID  | GROUP | TYPE |      |      |      |      |</span>
<span class="sd">    +-------+------+------+-------+------+------+------+------+------+</span>
<span class="sd">    |       | DIM1 | DIM2 | DIM3  | DIM4 | DIM5 | DIM6 | DIM7 | DIM8 |</span>
<span class="sd">    +-------+------+------+-------+------+------+------+------+------+</span>
<span class="sd">    |       | DIM9 | etc. |  NSM  |      |      |      |      |      |</span>
<span class="sd">    +-------+------+------+-------+------+------+------+------+------+</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">type</span> <span class="o">=</span> <span class="s1">&#39;PBARL&#39;</span>
    <span class="n">_properties</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Type&#39;</span><span class="p">,</span> <span class="s1">&#39;valid_types&#39;</span><span class="p">]</span>
    <span class="n">valid_types</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;ROD&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">&quot;TUBE&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
        <span class="s2">&quot;TUBE2&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
        <span class="s2">&quot;I&quot;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
        <span class="s2">&quot;CHAN&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
        <span class="s2">&quot;T&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
        <span class="s2">&quot;BOX&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
        <span class="s2">&quot;BAR&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
        <span class="s2">&quot;CROSS&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
        <span class="s2">&quot;H&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
        <span class="s2">&quot;T1&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
        <span class="s2">&quot;I1&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
        <span class="s2">&quot;CHAN1&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
        <span class="s2">&quot;Z&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
        <span class="s2">&quot;CHAN2&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
        <span class="s2">&quot;T2&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
        <span class="s2">&quot;BOX1&quot;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
        <span class="s2">&quot;HEXA&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
        <span class="s2">&quot;HAT&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
        <span class="s2">&quot;HAT1&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
        <span class="s2">&quot;DBOX&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>  <span class="c1"># was 12</span>

        <span class="c1"># approximate</span>
        <span class="c1">#&#39;I&#39;, &#39;CHAN&#39;, &#39;T&#39;, &#39;CHAN1&#39;, &#39;T1&#39;, &#39;CHAN2&#39;, &#39;T2&#39;, &#39;L&#39; and &#39;BOX1&#39;.</span>
        <span class="s1">&#39;L&#39;</span> <span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
    <span class="p">}</span>  <span class="c1"># for GROUP=&quot;MSCBML0&quot;</span>
    <span class="c1">#pname_fid_map = {</span>
        <span class="c1">#12 : &#39;DIM1&#39;,</span>
        <span class="c1">#13 : &#39;DIM2&#39;,</span>
        <span class="c1">#14 : &#39;DIM3&#39;,</span>
        <span class="c1">#15 : &#39;DIM3&#39;,</span>
    <span class="c1">#}</span>
<div class="viewcode-block" id="PBARL.update_by_pname_fid"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBARL.update_by_pname_fid">[docs]</a>    <span class="k">def</span> <span class="nf">update_by_pname_fid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pname_fid</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pname_fid</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="n">pname_fid</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;DIM&#39;</span><span class="p">):</span>
            <span class="n">num</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">pname_fid</span><span class="p">[</span><span class="mi">3</span><span class="p">:])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dim</span><span class="p">[</span><span class="n">num</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s1">&#39;PBARL Type=</span><span class="si">%r</span><span class="s1"> name=</span><span class="si">%r</span><span class="s1"> has not been implemented&#39;</span> <span class="o">%</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">Type</span><span class="p">,</span> <span class="n">pname_fid</span><span class="p">))</span></div>

<div class="viewcode-block" id="PBARL._init_from_empty"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBARL._init_from_empty">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_init_from_empty</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">mid</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">Type</span> <span class="o">=</span> <span class="s1">&#39;ROD&#39;</span>
        <span class="n">dim</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">PBARL</span><span class="p">(</span><span class="n">pid</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">Type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s1">&#39;MSCBML0&#39;</span><span class="p">,</span> <span class="n">nsm</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">Type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s1">&#39;MSCBML0&#39;</span><span class="p">,</span> <span class="n">nsm</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a PBARL card, which defines A, I1, I2, I12, and J using</span>
<span class="sd">        dimensions rather than explicit values.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        pid : int</span>
<span class="sd">            property id</span>
<span class="sd">        mid : int</span>
<span class="sd">            material id</span>
<span class="sd">        Type : str</span>
<span class="sd">            type of the bar</span>
<span class="sd">            {ROD, TUBE, TUBE2, I, CHAN, T, BOX, BAR, CROSS, H, T1, I1,</span>
<span class="sd">            CHAN1, Z, CHAN2, T2, BOX1, HEXA, HAT, HAT1, DBOX}</span>
<span class="sd">        dim : List[float]</span>
<span class="sd">            dimensions for cross-section corresponding to Type;</span>
<span class="sd">            the length varies</span>
<span class="sd">        group : str; default=&#39;MSCBML0&#39;</span>
<span class="sd">            this parameter can lead to a very broken deck with a very</span>
<span class="sd">            bad error message; don&#39;t touch it!</span>
<span class="sd">        nsm : float; default=0.</span>
<span class="sd">           non-structural mass</span>
<span class="sd">        comment : str; default=&#39;&#39;</span>
<span class="sd">            a comment for the card</span>

<span class="sd">        The shear center and neutral axis do not coincide when:</span>
<span class="sd">           - Type = I and dim2 != dim3</span>
<span class="sd">           - Type = CHAN, CHAN1, CHAN2</span>
<span class="sd">           - Type = T</span>
<span class="sd">           - Type = T1, T2</span>
<span class="sd">           - Type = BOX1</span>
<span class="sd">           - Type = HAT, HAT1</span>
<span class="sd">           - Type = DBOX</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">LineProperty</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">comment</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">=</span> <span class="n">comment</span>

        <span class="c1">#: Property ID</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pid</span> <span class="o">=</span> <span class="n">pid</span>
        <span class="c1">#: Material ID</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mid</span> <span class="o">=</span> <span class="n">mid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">group</span> <span class="o">=</span> <span class="n">group</span>
        <span class="c1">#: Section Type (e.g. &#39;ROD&#39;, &#39;TUBE&#39;, &#39;I&#39;, &#39;H&#39;)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="o">=</span> <span class="n">Type</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dim</span> <span class="o">=</span> <span class="n">dim</span>
        <span class="c1">#: non-structural mass</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nsm</span> <span class="o">=</span> <span class="n">nsm</span>
        <span class="c1">#ndim = self.valid_types[Type]</span>
        <span class="c1">#assert len(dim) == ndim, &#39;PBARL ndim=%s len(dims)=%s&#39; % (ndim, len(dim))</span>
        <span class="c1">#self.validate()</span>
        <span class="c1">#area = self.Area()</span>
        <span class="c1">#assert area &gt; 0, &#39;Type=%s dim=%s A=%s\n%s&#39; % (self.Type, self.dim, area, str(self))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mid_ref</span> <span class="o">=</span> <span class="kc">None</span>

<div class="viewcode-block" id="PBARL.validate"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBARL.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">valid_types</span><span class="p">:</span>
            <span class="n">keys</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">valid_types</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;Invalid PBARL Type, Type=</span><span class="si">%s</span><span class="s1"> &#39;</span>
                   <span class="s1">&#39;valid_types=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Type</span><span class="p">,</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">keys</span><span class="p">))))</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="n">ndim</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">valid_types</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">Type</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dim</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;PBARL pid=</span><span class="si">%s</span><span class="s1">; dim must be a list; type=</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dim</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dim</span><span class="p">)</span> <span class="o">!=</span> <span class="n">ndim</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;dim=</span><span class="si">%s</span><span class="s1"> len(dim)=</span><span class="si">%s</span><span class="s1"> Type=</span><span class="si">%s</span><span class="s1"> len(dimType)=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">dim</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dim</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">Type</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">valid_types</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">Type</span><span class="p">])</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dim</span><span class="p">)</span> <span class="o">==</span> <span class="n">ndim</span><span class="p">,</span> <span class="s1">&#39;PBARL ndim=</span><span class="si">%s</span><span class="s1"> len(dims)=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ndim</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dim</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">group</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;Invalid group; pid=</span><span class="si">%s</span><span class="s1"> group=</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">group</span><span class="p">))</span>
        <span class="c1">#if self.group != &#39;MSCBML0&#39;:</span>
            <span class="c1">#msg = &#39;Invalid group; pid=%s group=%r expected=[MSCBML0]&#39; % (self.pid, self.group)</span>
            <span class="c1">#raise ValueError(msg)</span>

        <span class="k">assert</span> <span class="kc">None</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dim</span></div>

<div class="viewcode-block" id="PBARL.add_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBARL.add_card">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">add_card</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">card</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a PBARL card from ``BDF.add_card(...)``</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        card : BDFCard()</span>
<span class="sd">            a BDFCard object</span>
<span class="sd">        comment : str; default=&#39;&#39;</span>
<span class="sd">            a comment for the card</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;pid&#39;</span><span class="p">)</span>
        <span class="n">mid</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;mid&#39;</span><span class="p">)</span>
        <span class="n">group</span> <span class="o">=</span> <span class="n">string_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;group&#39;</span><span class="p">,</span> <span class="s1">&#39;MSCBML0&#39;</span><span class="p">)</span>
        <span class="n">Type</span> <span class="o">=</span> <span class="n">string</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;Type&#39;</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">ndim</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">valid_types</span><span class="p">[</span><span class="n">Type</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="n">keys</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">valid_types</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%r</span><span class="s1"> is not a valid PBARL type</span><span class="se">\n</span><span class="s1">allowed_types={</span><span class="si">%s</span><span class="s1">}&#39;</span> <span class="o">%</span> <span class="p">(</span>
                <span class="n">Type</span><span class="p">,</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">keys</span><span class="p">))))</span>

        <span class="c1"># PBARL</span>
        <span class="c1"># 9. For DBOX section, the default value for DIM5 to DIM10 are</span>
        <span class="c1">#    based on the following rules:</span>
        <span class="c1">#     a. DIM5, DIM6, DIM7 and DIM8 have a default value of</span>
        <span class="c1">#        DIM4 if not provided.</span>
        <span class="c1">#     b. DIM9 and DIM10 have a default value of DIM6 if not</span>
        <span class="c1">#        provided.</span>
        <span class="n">dim</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">Type</span> <span class="o">==</span> <span class="s1">&#39;DBOX&#39;</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">ndim</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">]:</span>
                    <span class="n">dim4</span> <span class="o">=</span> <span class="n">dim</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
                    <span class="n">dimi</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">9</span> <span class="o">+</span> <span class="n">i</span><span class="p">,</span> <span class="s1">&#39;ndim=</span><span class="si">%s</span><span class="s1">; dim</span><span class="si">%i</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ndim</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">),</span>
                                           <span class="n">default</span><span class="o">=</span><span class="n">dim4</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]:</span>
                    <span class="n">dim6</span> <span class="o">=</span> <span class="n">dim</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
                    <span class="n">dimi</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">9</span> <span class="o">+</span> <span class="n">i</span><span class="p">,</span> <span class="s1">&#39;ndim=</span><span class="si">%s</span><span class="s1">; dim</span><span class="si">%i</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ndim</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">),</span>
                                           <span class="n">default</span><span class="o">=</span><span class="n">dim6</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">dimi</span> <span class="o">=</span> <span class="n">double</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">9</span> <span class="o">+</span> <span class="n">i</span><span class="p">,</span> <span class="s1">&#39;ndim=</span><span class="si">%s</span><span class="s1">; dim</span><span class="si">%i</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ndim</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                <span class="n">dim</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dimi</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">ndim</span><span class="p">):</span>
                <span class="n">dimi</span> <span class="o">=</span> <span class="n">double</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">9</span> <span class="o">+</span> <span class="n">i</span><span class="p">,</span> <span class="s1">&#39;ndim=</span><span class="si">%s</span><span class="s1">; dim</span><span class="si">%i</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ndim</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                <span class="n">dim</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dimi</span><span class="p">)</span>

        <span class="c1">#: dimension list</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">dim</span><span class="p">)</span> <span class="o">==</span> <span class="n">ndim</span><span class="p">,</span> <span class="s1">&#39;PBARL ndim=</span><span class="si">%s</span><span class="s1"> len(dims)=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ndim</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">dim</span><span class="p">))</span>
        <span class="c1">#assert len(dims) == len(self.dim), &#39;PBARL ndim=%s len(dims)=%s&#39; % (ndim, len(self.dim))</span>

        <span class="n">nsm</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">9</span> <span class="o">+</span> <span class="n">ndim</span><span class="p">,</span> <span class="s1">&#39;nsm&#39;</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">PBARL</span><span class="p">(</span><span class="n">pid</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">Type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="n">group</span><span class="p">,</span> <span class="n">nsm</span><span class="o">=</span><span class="n">nsm</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span></div>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">add_op2_data</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">mid</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">group</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">Type</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">dim</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">nsm</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">PBARL</span><span class="p">(</span><span class="n">pid</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">Type</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="n">group</span><span class="p">,</span> <span class="n">nsm</span><span class="o">=</span><span class="n">nsm</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span>

<div class="viewcode-block" id="PBARL.cross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBARL.cross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">cross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">BDF</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Cross links the card so referenced cards can be extracted directly</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        model : BDF()</span>
<span class="sd">            the BDF object</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;, which is required by PBARL mid=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">mid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mid_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">Material</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mid</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span></div>

<div class="viewcode-block" id="PBARL.uncross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBARL.uncross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">uncross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Removes cross-reference links&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Mid</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mid_ref</span> <span class="o">=</span> <span class="kc">None</span></div>

    <span class="k">def</span> <span class="nf">_verify</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xref</span><span class="p">):</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pid</span>
        <span class="n">mid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Mid</span><span class="p">()</span>
        <span class="n">A</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Area</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">J</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">J</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">NotImplementedError</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;J is not implemented for pid.type=</span><span class="si">%s</span><span class="s2"> pid.Type=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Type</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="n">J</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="n">nsm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Nsm</span><span class="p">()</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pid</span><span class="p">,</span> <span class="nb">int</span><span class="p">),</span> <span class="s1">&#39;pid=</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">pid</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">mid</span><span class="p">,</span> <span class="nb">int</span><span class="p">),</span> <span class="s1">&#39;mid=</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">mid</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="nb">float</span><span class="p">),</span> <span class="s1">&#39;pid=</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">A</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">J</span><span class="p">,</span> <span class="nb">float</span><span class="p">),</span> <span class="s1">&#39;cid=</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">J</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">nsm</span><span class="p">,</span> <span class="nb">float</span><span class="p">),</span> <span class="s1">&#39;nsm=</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">nsm</span>
        <span class="k">if</span> <span class="n">xref</span><span class="p">:</span>
            <span class="n">mpl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">MassPerLength</span><span class="p">()</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">mpl</span><span class="p">,</span> <span class="nb">float</span><span class="p">),</span> <span class="s1">&#39;mass_per_length=</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">mpl</span>


<div class="viewcode-block" id="PBARL.get_cdef"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBARL.get_cdef">[docs]</a>    <span class="k">def</span> <span class="nf">get_cdef</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        these axes are backwards...</span>

<span class="sd">            ^ y</span>
<span class="sd">        +---|---+</span>
<span class="sd">        |   |   |</span>
<span class="sd">        |   +------&gt; z</span>
<span class="sd">        |       |</span>
<span class="sd">        +-------+</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;ROD&#39;</span><span class="p">,</span> <span class="s1">&#39;TUBE&#39;</span><span class="p">]:</span>
            <span class="n">R</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dims</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">cdef</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>
                <span class="p">[</span><span class="n">R</span><span class="p">,</span> <span class="mf">0.</span><span class="p">],</span>
                <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="n">R</span><span class="p">],</span>
                <span class="p">[</span><span class="o">-</span><span class="n">R</span><span class="p">,</span> <span class="mf">0.</span><span class="p">],</span>
                <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="o">-</span><span class="n">R</span><span class="p">],</span>
            <span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;float64&#39;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;BAR&#39;</span><span class="p">,</span> <span class="s1">&#39;BOX&#39;</span><span class="p">]:</span>
            <span class="n">height</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dims</span>
            <span class="n">cdef</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>
                <span class="p">[</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">],</span>
                <span class="p">[</span><span class="n">width</span><span class="p">,</span> <span class="o">-</span><span class="n">height</span><span class="p">],</span>
                <span class="p">[</span><span class="o">-</span><span class="n">width</span><span class="p">,</span> <span class="o">-</span><span class="n">height</span><span class="p">],</span>
                <span class="p">[</span><span class="o">-</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">],</span>
            <span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;float64&#39;</span><span class="p">)</span> <span class="o">/</span> <span class="mf">2.</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Type</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">cdef</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">Type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;gets Type&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">beam_type</span>
    <span class="nd">@Type</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">Type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;sets Type&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">beam_type</span> <span class="o">=</span> <span class="n">beam_type</span>

<div class="viewcode-block" id="PBARL.Area"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBARL.Area">[docs]</a>    <span class="k">def</span> <span class="nf">Area</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Gets the area :math:`A` of the CBAR.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_bar_areaL</span><span class="p">(</span><span class="s1">&#39;PBARL&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">beam_type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dim</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="PBARL.Nsm"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBARL.Nsm">[docs]</a>    <span class="k">def</span> <span class="nf">Nsm</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Gets the non-structural mass :math:`nsm` of the CBAR.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">nsm</span></div>

<div class="viewcode-block" id="PBARL.MassPerLength"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBARL.MassPerLength">[docs]</a>    <span class="k">def</span> <span class="nf">MassPerLength</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the mass per length :math:`\frac{m}{L}` of the CBAR.</span>

<span class="sd">        .. math:: \frac{m}{L} = A \rho + nsm</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">rho</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Rho</span><span class="p">()</span>
        <span class="n">area</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Area</span><span class="p">()</span>
        <span class="n">nsm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Nsm</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">area</span> <span class="o">*</span> <span class="n">rho</span> <span class="o">+</span> <span class="n">nsm</span></div>

<div class="viewcode-block" id="PBARL.I1"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBARL.I1">[docs]</a>    <span class="k">def</span> <span class="nf">I1</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;gets the section I1 moment of inertia&quot;&quot;&quot;</span>
        <span class="n">I1</span> <span class="o">=</span> <span class="n">A_I1_I2_I12</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">beam_type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dim</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">I1</span></div>

<div class="viewcode-block" id="PBARL.I2"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBARL.I2">[docs]</a>    <span class="k">def</span> <span class="nf">I2</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;gets the section I2 moment of inertia&quot;&quot;&quot;</span>
        <span class="n">I2</span> <span class="o">=</span> <span class="n">A_I1_I2_I12</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">beam_type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dim</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">I2</span></div>

<div class="viewcode-block" id="PBARL.I12"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBARL.I12">[docs]</a>    <span class="k">def</span> <span class="nf">I12</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;gets the section I12 moment of inertia&quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">I12</span> <span class="o">=</span> <span class="n">A_I1_I2_I12</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">beam_type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dim</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span>
            <span class="k">raise</span>
        <span class="k">return</span> <span class="n">I12</span></div>

    <span class="c1">#def I1_I2_I12(self):</span>
        <span class="c1">#&quot;&quot;&quot;gets the section I1, I2, I12 moment of inertia&quot;&quot;&quot;</span>
        <span class="c1">#return I1_I2_I12(prop, prop.dim)</span>

<div class="viewcode-block" id="PBARL.I11"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBARL.I11">[docs]</a>    <span class="k">def</span> <span class="nf">I11</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">I1</span><span class="p">()</span></div>

<div class="viewcode-block" id="PBARL.I22"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBARL.I22">[docs]</a>    <span class="k">def</span> <span class="nf">I22</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">I2</span><span class="p">()</span></div>

<div class="viewcode-block" id="PBARL._points"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBARL._points">[docs]</a>    <span class="k">def</span> <span class="nf">_points</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">dim</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">beam_type</span> <span class="o">==</span> <span class="s1">&#39;BAR&#39;</span><span class="p">:</span>  <span class="c1"># origin ar center</span>
            <span class="p">(</span><span class="n">d1</span><span class="p">,</span> <span class="n">d2</span><span class="p">)</span> <span class="o">=</span> <span class="n">dim</span>
            <span class="n">Area</span> <span class="o">=</span> <span class="n">d1</span> <span class="o">*</span> <span class="n">d2</span>
            <span class="n">y1</span> <span class="o">=</span> <span class="n">d2</span> <span class="o">/</span> <span class="mf">2.</span>
            <span class="n">x1</span> <span class="o">=</span> <span class="n">d1</span> <span class="o">/</span> <span class="mf">2.</span>
            <span class="n">points</span> <span class="o">=</span> <span class="p">[</span>  <span class="c1"># start at upper right, go clockwise</span>
                <span class="p">[</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">],</span>    <span class="c1"># p1</span>
                <span class="p">[</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">],</span>    <span class="c1"># p2</span>
                <span class="p">[</span><span class="o">-</span><span class="n">x1</span><span class="p">,</span> <span class="o">-</span><span class="n">y1</span><span class="p">],</span>  <span class="c1"># p3</span>
                <span class="p">[</span><span class="o">-</span><span class="n">x1</span><span class="p">,</span> <span class="o">-</span><span class="n">y1</span><span class="p">],</span>  <span class="c1"># p4</span>
            <span class="p">]</span>
        <span class="k">elif</span> <span class="n">beam_type</span> <span class="o">==</span> <span class="s1">&#39;CROSS&#39;</span><span class="p">:</span>
            <span class="p">(</span><span class="n">d1</span><span class="p">,</span> <span class="n">d2</span><span class="p">,</span> <span class="n">d3</span><span class="p">,</span> <span class="n">d4</span><span class="p">)</span> <span class="o">=</span> <span class="n">dim</span>  <span class="c1"># origin at center</span>
            <span class="n">x1</span> <span class="o">=</span> <span class="n">d2</span> <span class="o">/</span> <span class="mf">2.</span>
            <span class="n">x2</span> <span class="o">=</span> <span class="n">d2</span> <span class="o">/</span> <span class="mf">2.</span> <span class="o">+</span> <span class="n">d1</span>
            <span class="n">y1</span> <span class="o">=</span> <span class="o">-</span><span class="n">d3</span> <span class="o">/</span> <span class="mf">2.</span>
            <span class="n">y2</span> <span class="o">=</span> <span class="o">-</span><span class="n">d4</span> <span class="o">/</span> <span class="mf">2.</span>
            <span class="n">y3</span> <span class="o">=</span> <span class="n">d4</span> <span class="o">/</span> <span class="mf">2.</span>
            <span class="n">y4</span> <span class="o">=</span> <span class="n">d3</span> <span class="o">/</span> <span class="mf">2.</span>
            <span class="n">points</span> <span class="o">=</span> <span class="p">[</span>  <span class="c1"># start at top right, go clockwise, down first</span>
                <span class="p">[</span><span class="n">x1</span><span class="p">,</span> <span class="n">y4</span><span class="p">],</span>  <span class="c1"># p1</span>
                <span class="p">[</span><span class="n">x1</span><span class="p">,</span> <span class="n">y3</span><span class="p">],</span>  <span class="c1"># p2</span>
                <span class="p">[</span><span class="n">x2</span><span class="p">,</span> <span class="n">y3</span><span class="p">],</span>  <span class="c1"># p3</span>
                <span class="p">[</span><span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">],</span>  <span class="c1"># p4</span>
                <span class="p">[</span><span class="n">x1</span><span class="p">,</span> <span class="n">y2</span><span class="p">],</span>  <span class="c1"># p5</span>
                <span class="p">[</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">],</span>  <span class="c1"># p6</span>

                <span class="p">[</span><span class="o">-</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">],</span>  <span class="c1"># p7</span>
                <span class="p">[</span><span class="o">-</span><span class="n">x1</span><span class="p">,</span> <span class="n">y2</span><span class="p">],</span>  <span class="c1"># p8</span>
                <span class="p">[</span><span class="o">-</span><span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">],</span>  <span class="c1"># p9</span>
                <span class="p">[</span><span class="o">-</span><span class="n">x2</span><span class="p">,</span> <span class="n">y3</span><span class="p">],</span>  <span class="c1"># p10</span>
                <span class="p">[</span><span class="o">-</span><span class="n">x1</span><span class="p">,</span> <span class="n">y3</span><span class="p">],</span>  <span class="c1"># p11</span>
                <span class="p">[</span><span class="o">-</span><span class="n">x1</span><span class="p">,</span> <span class="n">y4</span><span class="p">],</span>  <span class="c1"># p12</span>
            <span class="p">]</span>
            <span class="n">Area</span> <span class="o">=</span> <span class="n">d2</span><span class="o">*</span><span class="n">d3</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">d1</span><span class="o">*</span><span class="n">d4</span>
        <span class="k">elif</span> <span class="n">beam_type</span> <span class="o">==</span> <span class="s1">&#39;HEXA&#39;</span><span class="p">:</span>
            <span class="p">(</span><span class="n">d1</span><span class="p">,</span> <span class="n">d2</span><span class="p">,</span> <span class="n">d3</span><span class="p">)</span> <span class="o">=</span> <span class="n">dim</span>
            <span class="n">x1</span> <span class="o">=</span> <span class="n">d2</span> <span class="o">/</span> <span class="mf">2.</span> <span class="o">-</span> <span class="n">d1</span>
            <span class="n">x2</span> <span class="o">=</span> <span class="n">d2</span> <span class="o">/</span> <span class="mf">2.</span>
            <span class="n">y1</span> <span class="o">=</span> <span class="mf">0.</span>
            <span class="n">y2</span> <span class="o">=</span> <span class="n">d3</span> <span class="o">/</span> <span class="mf">2.</span>
            <span class="n">y3</span> <span class="o">=</span> <span class="n">d3</span>
            <span class="n">points</span> <span class="o">=</span> <span class="p">[</span>  <span class="c1"># start at upper center, go clockwise, diagonal down right</span>
                <span class="p">[</span><span class="n">x1</span><span class="p">,</span> <span class="n">y3</span><span class="p">],</span>   <span class="c1"># p1</span>
                <span class="p">[</span><span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">],</span>   <span class="c1"># p2</span>
                <span class="p">[</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">],</span>   <span class="c1"># p3</span>
                <span class="p">[</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">],</span>   <span class="c1"># p4</span>
                <span class="p">[</span><span class="o">-</span><span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">],</span>  <span class="c1"># p5</span>
                <span class="p">[</span><span class="o">-</span><span class="n">x1</span><span class="p">,</span> <span class="n">y3</span><span class="p">],</span>  <span class="c1"># p6</span>
            <span class="p">]</span>
            <span class="n">Area</span> <span class="o">=</span> <span class="n">d1</span> <span class="o">*</span> <span class="p">(</span><span class="n">d2</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">d3</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">beam_type</span> <span class="o">==</span> <span class="s1">&#39;I&#39;</span><span class="p">:</span>
            <span class="p">(</span><span class="n">d1</span><span class="p">,</span> <span class="n">d2</span><span class="p">,</span> <span class="n">d3</span><span class="p">)</span> <span class="o">=</span> <span class="n">dim</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s1">&#39;PBARL beam_type=</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">beam_type</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">beam_type</span> <span class="o">==</span> <span class="s1">&#39;H&#39;</span><span class="p">:</span>
            <span class="p">(</span><span class="n">d1</span><span class="p">,</span> <span class="n">d2</span><span class="p">,</span> <span class="n">d3</span><span class="p">,</span> <span class="n">d4</span><span class="p">)</span> <span class="o">=</span> <span class="n">dim</span>
            <span class="n">x1</span> <span class="o">=</span> <span class="n">d1</span> <span class="o">/</span> <span class="mf">2.</span>
            <span class="n">x2</span> <span class="o">=</span> <span class="p">(</span><span class="n">d1</span> <span class="o">+</span> <span class="n">d2</span><span class="p">)</span> <span class="o">/</span> <span class="mf">2.</span>
            <span class="n">y3</span> <span class="o">=</span> <span class="n">d4</span> <span class="o">/</span> <span class="mf">2.</span>
            <span class="n">y4</span> <span class="o">=</span> <span class="n">d3</span> <span class="o">/</span> <span class="mf">2.</span>
            <span class="n">y1</span> <span class="o">=</span> <span class="o">-</span><span class="n">y4</span>
            <span class="n">y2</span> <span class="o">=</span> <span class="o">-</span><span class="n">y3</span>
            <span class="n">points</span> <span class="o">=</span> <span class="p">[</span>  <span class="c1"># start at top of H in dip, go clockwise, up first</span>
                <span class="p">[</span><span class="n">x1</span><span class="p">,</span> <span class="n">y3</span><span class="p">],</span>  <span class="c1"># p1 # right side</span>
                <span class="p">[</span><span class="n">x1</span><span class="p">,</span> <span class="n">y4</span><span class="p">],</span>  <span class="c1"># p2</span>
                <span class="p">[</span><span class="n">x2</span><span class="p">,</span> <span class="n">y4</span><span class="p">],</span>  <span class="c1"># p3</span>
                <span class="p">[</span><span class="n">x2</span><span class="p">,</span> <span class="n">y1</span><span class="p">],</span>  <span class="c1"># p4</span>
                <span class="p">[</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">],</span>  <span class="c1"># p5</span>
                <span class="p">[</span><span class="n">x1</span><span class="p">,</span> <span class="n">y2</span><span class="p">],</span>  <span class="c1"># p6</span>

                <span class="p">[</span><span class="o">-</span><span class="n">x1</span><span class="p">,</span> <span class="n">y2</span><span class="p">],</span>  <span class="c1"># p7 # left side</span>
                <span class="p">[</span><span class="o">-</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">],</span>  <span class="c1"># p8</span>
                <span class="p">[</span><span class="o">-</span><span class="n">x2</span><span class="p">,</span> <span class="n">y1</span><span class="p">],</span>  <span class="c1"># p9</span>
                <span class="p">[</span><span class="o">-</span><span class="n">x2</span><span class="p">,</span> <span class="n">y4</span><span class="p">],</span>  <span class="c1"># p10</span>
                <span class="p">[</span><span class="o">-</span><span class="n">x1</span><span class="p">,</span> <span class="n">y4</span><span class="p">],</span>  <span class="c1"># p11</span>
                <span class="p">[</span><span class="o">-</span><span class="n">x1</span><span class="p">,</span> <span class="n">y3</span><span class="p">],</span>  <span class="c1"># p12</span>
            <span class="p">]</span>
            <span class="n">Area</span> <span class="o">=</span> <span class="n">d2</span> <span class="o">*</span> <span class="n">d3</span> <span class="o">+</span> <span class="n">d1</span> <span class="o">*</span> <span class="n">d4</span>

        <span class="k">elif</span> <span class="n">beam_type</span> <span class="o">==</span> <span class="s1">&#39;T2&#39;</span><span class="p">:</span>
            <span class="n">d1</span><span class="p">,</span> <span class="n">d2</span><span class="p">,</span> <span class="n">d3</span><span class="p">,</span> <span class="n">d4</span> <span class="o">=</span> <span class="n">dim</span>  <span class="c1"># check origin, y3 at bottom, x1 innner</span>
            <span class="n">x1</span> <span class="o">=</span> <span class="n">d4</span> <span class="o">/</span> <span class="mf">2.</span>
            <span class="n">x2</span> <span class="o">=</span> <span class="n">d1</span> <span class="o">/</span> <span class="mf">2.</span>
            <span class="n">y1</span> <span class="o">=</span> <span class="o">-</span><span class="n">d3</span> <span class="o">/</span> <span class="mf">2.</span>
            <span class="n">y2</span> <span class="o">=</span> <span class="n">d3</span> <span class="o">/</span> <span class="mf">2.</span>
            <span class="n">y3</span> <span class="o">=</span> <span class="o">-</span><span class="n">d3</span> <span class="o">/</span> <span class="mf">2.</span>
            <span class="n">points</span> <span class="o">=</span> <span class="p">[</span>  <span class="c1"># start at upper right, go clockwise</span>
                <span class="p">[</span><span class="n">x1</span><span class="p">,</span> <span class="n">y3</span><span class="p">],</span>   <span class="c1"># p1</span>
                <span class="p">[</span><span class="n">x1</span><span class="p">,</span> <span class="n">y2</span><span class="p">],</span>   <span class="c1"># p2</span>
                <span class="p">[</span><span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">],</span>   <span class="c1"># p3</span>
                <span class="p">[</span><span class="n">x2</span><span class="p">,</span> <span class="n">y1</span><span class="p">],</span>   <span class="c1"># p4</span>
                <span class="p">[</span><span class="o">-</span><span class="n">x2</span><span class="p">,</span> <span class="n">y1</span><span class="p">],</span>  <span class="c1"># p5</span>
                <span class="p">[</span><span class="o">-</span><span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">],</span>  <span class="c1"># p6</span>
                <span class="p">[</span><span class="o">-</span><span class="n">x1</span><span class="p">,</span> <span class="n">y2</span><span class="p">],</span>  <span class="c1"># p7</span>
                <span class="p">[</span><span class="o">-</span><span class="n">x1</span><span class="p">,</span> <span class="n">y3</span><span class="p">]</span>   <span class="c1"># p8</span>
            <span class="p">]</span>
            <span class="n">Area</span> <span class="o">=</span> <span class="n">d1</span><span class="o">*</span><span class="n">d3</span> <span class="o">+</span> <span class="p">(</span><span class="n">d2</span><span class="o">-</span><span class="n">d3</span><span class="p">)</span><span class="o">*</span><span class="n">d4</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;_points for beam_type=</span><span class="si">%r</span><span class="s1"> dim=</span><span class="si">%r</span><span class="s1"> on PBARL is not supported&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">beam_type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dim</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">array</span><span class="p">(</span><span class="n">points</span><span class="p">),</span> <span class="n">Area</span></div>

<div class="viewcode-block" id="PBARL.J"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBARL.J">[docs]</a>    <span class="k">def</span> <span class="nf">J</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="n">beam_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">beam_type</span>
        <span class="k">if</span> <span class="n">beam_type</span> <span class="o">==</span> <span class="s1">&#39;ROD&#39;</span><span class="p">:</span>
            <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span> <span class="o">=</span> <span class="n">rod_section</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dim</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">beam_type</span> <span class="o">==</span> <span class="s1">&#39;TUBE&#39;</span><span class="p">:</span>
            <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span> <span class="o">=</span> <span class="n">tube_section</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dim</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">beam_type</span> <span class="o">==</span> <span class="s1">&#39;TUBE2&#39;</span><span class="p">:</span>
            <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span> <span class="o">=</span> <span class="n">tube2_section</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dim</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">beam_type</span> <span class="o">==</span> <span class="s1">&#39;BOX&#39;</span><span class="p">:</span>
            <span class="n">A</span><span class="p">,</span> <span class="n">I1</span><span class="p">,</span> <span class="n">I2</span><span class="p">,</span> <span class="n">I12</span> <span class="o">=</span> <span class="n">box_section</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dim</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>

        <span class="c1">#elif beam_type in [&#39;BAR&#39;]:</span>
            <span class="c1">#assert len(self.dim) == 2, &#39;dim=%r&#39; % self.dim</span>
            <span class="c1">#b, h = self.dim</span>
            <span class="c1">#(A, Ix, Iy, Ixy) = self.A_I1_I2_I12()</span>
            <span class="c1">#J = Ix + Iy</span>
        <span class="k">elif</span> <span class="n">beam_type</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;BAR&#39;</span><span class="p">,</span> <span class="s1">&#39;CROSS&#39;</span><span class="p">,</span> <span class="s1">&#39;HEXA&#39;</span><span class="p">,</span> <span class="s1">&#39;T2&#39;</span><span class="p">,</span> <span class="s1">&#39;H&#39;</span><span class="p">]:</span>
            <span class="n">points</span><span class="p">,</span> <span class="n">unused_Area</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_points</span><span class="p">(</span><span class="n">beam_type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dim</span><span class="p">)</span>
            <span class="n">yi</span> <span class="o">=</span> <span class="n">points</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">yip1</span> <span class="o">=</span> <span class="n">points</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">:]</span>

            <span class="n">xi</span> <span class="o">=</span> <span class="n">points</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">xip1</span> <span class="o">=</span> <span class="n">points</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">:]</span>

            <span class="c1">#: .. seealso:: http://en.wikipedia.org/wiki/Area_moment_of_inertia</span>
            <span class="n">ai</span> <span class="o">=</span> <span class="n">xi</span><span class="o">*</span><span class="n">yip1</span> <span class="o">-</span> <span class="n">xip1</span><span class="o">*</span><span class="n">yi</span>
            <span class="n">I1</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="mi">12</span> <span class="o">*</span> <span class="nb">sum</span><span class="p">((</span><span class="n">yi</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">yi</span><span class="o">*</span><span class="n">yip1</span><span class="o">+</span><span class="n">yip1</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="n">ai</span><span class="p">)</span>
            <span class="n">I2</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="mi">12</span> <span class="o">*</span> <span class="nb">sum</span><span class="p">((</span><span class="n">xi</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">xi</span><span class="o">*</span><span class="n">xip1</span><span class="o">+</span><span class="n">xip1</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="n">ai</span><span class="p">)</span>
            <span class="c1">#I12 = 1/24*sum((xi*yip1 + 2*xi*yi + 2*xip1*yip1 + xip1*yi)*ai)</span>
        <span class="k">elif</span> <span class="n">beam_type</span> <span class="o">==</span> <span class="s1">&#39;I&#39;</span><span class="p">:</span>
            <span class="c1"># http://www.efunda.com/designstandards/beams/SquareIBeam.cfm</span>
            <span class="c1"># d - outside height</span>
            <span class="c1"># h - inside height</span>
            <span class="c1"># b - base</span>
            <span class="c1"># t - l thickness</span>
            <span class="c1"># s - web thickness</span>
            <span class="c1">#(b, d, t, s) = self.dim</span>
            <span class="c1">#h = d - 2 * s</span>
            <span class="c1">#cx = b / 2.</span>
            <span class="c1">#cy = d / 2.</span>
            <span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">b1</span><span class="p">,</span> <span class="n">b2</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dim</span>
            <span class="k">if</span> <span class="n">b1</span> <span class="o">!=</span> <span class="n">b2</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;J for beam_type=</span><span class="si">%r</span><span class="s1"> dim=</span><span class="si">%r</span><span class="s1"> on PBARL b1 != b2 is not supported&#39;</span> <span class="o">%</span> <span class="p">(</span>
                    <span class="n">beam_type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dim</span><span class="p">)</span>
                <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">s1</span> <span class="o">!=</span> <span class="n">s2</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;J for beam_type=</span><span class="si">%r</span><span class="s1"> dim=</span><span class="si">%r</span><span class="s1"> on PBARL s1 != s2 is not supported&#39;</span> <span class="o">%</span> <span class="p">(</span>
                    <span class="n">beam_type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dim</span><span class="p">)</span>
                <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="n">h</span> <span class="o">=</span> <span class="n">d</span> <span class="o">-</span> <span class="n">b1</span> <span class="o">-</span> <span class="n">b2</span>
            <span class="n">s</span> <span class="o">=</span> <span class="n">s1</span>
            <span class="n">b</span> <span class="o">=</span> <span class="n">b1</span>
            <span class="n">I1</span> <span class="o">=</span> <span class="p">(</span><span class="n">b</span><span class="o">*</span><span class="n">d</span><span class="o">**</span><span class="mi">3</span><span class="o">-</span><span class="n">h</span><span class="o">**</span><span class="mi">3</span><span class="o">*</span><span class="p">(</span><span class="n">b</span><span class="o">-</span><span class="n">t</span><span class="p">))</span> <span class="o">/</span> <span class="mf">12.</span>
            <span class="n">I2</span> <span class="o">=</span> <span class="p">(</span><span class="mf">2.</span><span class="o">*</span><span class="n">s</span><span class="o">*</span><span class="n">b</span><span class="o">**</span><span class="mi">3</span> <span class="o">+</span> <span class="n">h</span><span class="o">*</span><span class="n">t</span><span class="o">**</span><span class="mi">3</span><span class="p">)</span> <span class="o">/</span> <span class="mf">12.</span>
        <span class="c1">#elif beam_type == &#39;T&#39;: # test</span>
            <span class="c1"># http://www.amesweb.info/SectionalPropertiesTabs/SectionalPropertiesTbeam.aspx</span>
            <span class="c1"># http://www.amesweb.info/SectionalPropertiesTabs/SectionalPropertiesTbeam.aspx</span>
            <span class="c1"># d - outside height</span>
            <span class="c1"># h - inside height</span>
            <span class="c1"># b - base</span>
            <span class="c1"># t - l thickness</span>
            <span class="c1"># s - web thickness</span>
            <span class="c1">#(b, d, t, s) = self.dim</span>
            <span class="c1">#h = d - 2 * s</span>
            <span class="c1">#(b, d, s, t) = self.dim</span>
            <span class="c1">#if b1 != b2:</span>
                <span class="c1">#msg = &#39;J for beam_type=%r dim=%r on PBARL b1 != b2 is not supported&#39; % (</span>
                    <span class="c1">#beam_type, self.dim)</span>
                <span class="c1">#raise NotImplementedError(msg)</span>
            <span class="c1">#if s1 != s2:</span>
                <span class="c1">#msg = &#39;J for beam_type=%r dim=%r on PBARL s1 != s2 is not supported&#39; % (</span>
                    <span class="c1">#beam_type, self.dim)</span>
                <span class="c1">#raise NotImplementedError(msg)</span>
            <span class="c1">#h = d - b1 - b2</span>
            <span class="c1">#s = s1</span>
            <span class="c1">#b = b1</span>

            <span class="c1"># http://www.engineersedge.com/material_science/moment-inertia-gyration-6.htm</span>
            <span class="c1">#y = d**2*t+s**2*(b-t)/(2*(b*s+h*t))</span>
            <span class="c1">#I1 = (t*y**3 + b*(d-y)**3 - (b-t)*(d-y-s)**3)/3.</span>
            <span class="c1">#I2 = t**3*(h-s)/12. + b**3*s/12.</span>
            <span class="c1">#A = b*s + h*t</span>

        <span class="k">elif</span> <span class="n">beam_type</span> <span class="o">==</span> <span class="s1">&#39;C&#39;</span><span class="p">:</span>
            <span class="c1"># http://www.efunda.com/math/areas/squarechannel.cfm</span>
            <span class="c1"># d - outside height</span>
            <span class="c1"># h - inside height</span>
            <span class="c1"># b - base</span>
            <span class="c1"># t - l thickness</span>
            <span class="c1"># s - web thickness</span>
            <span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dim</span>
            <span class="n">h</span> <span class="o">=</span> <span class="n">d</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">s</span>
            <span class="c1">#cx = (2.*b**2*s + h*t**2)/(2*b*d - 2*h*(b-t))</span>
            <span class="c1">#cy = d / 2.</span>
            <span class="n">I1</span> <span class="o">=</span> <span class="p">(</span><span class="n">b</span> <span class="o">*</span> <span class="n">d</span><span class="o">**</span><span class="mi">3</span> <span class="o">-</span> <span class="n">h</span> <span class="o">**</span><span class="mi">3</span> <span class="o">*</span> <span class="p">(</span><span class="n">b</span><span class="o">-</span><span class="n">t</span><span class="p">))</span> <span class="o">/</span> <span class="mf">12.</span>
            <span class="c1">#I12 = (2.*s*b**3 + h*t**3)/3 - A*cx**2</span>
        <span class="k">else</span><span class="p">:</span>  <span class="c1"># pragma: no cover</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;J for beam_type=</span><span class="si">%r</span><span class="s1"> dim=</span><span class="si">%r</span><span class="s1"> on PBARL is not supported&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">beam_type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dim</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="c1">#: .. seealso:: http://en.wikipedia.org/wiki/Perpendicular_axis_theorem</span>
        <span class="n">J</span> <span class="o">=</span> <span class="n">I1</span> <span class="o">+</span> <span class="n">I2</span>
        <span class="k">return</span> <span class="n">J</span></div>

<div class="viewcode-block" id="PBARL.raw_fields"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBARL.raw_fields">[docs]</a>    <span class="k">def</span> <span class="nf">raw_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">list_fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;PBARL&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Mid</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">group</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">beam_type</span><span class="p">,</span>
                       <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">dim</span> <span class="o">+</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">nsm</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">list_fields</span></div>

<div class="viewcode-block" id="PBARL.repr_fields"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBARL.repr_fields">[docs]</a>    <span class="k">def</span> <span class="nf">repr_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">group</span> <span class="o">=</span> <span class="n">set_blank_if_default</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">group</span><span class="p">,</span> <span class="s1">&#39;MSCBML0&#39;</span><span class="p">)</span>
        <span class="n">ndim</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">valid_types</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">beam_type</span><span class="p">]</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dim</span><span class="p">)</span> <span class="o">==</span> <span class="n">ndim</span><span class="p">,</span> <span class="s1">&#39;PBARL ndim=</span><span class="si">%s</span><span class="s1"> len(dims)=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ndim</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dim</span><span class="p">))</span>
        <span class="n">list_fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;PBARL&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Mid</span><span class="p">(),</span> <span class="n">group</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">beam_type</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span>
                       <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">dim</span> <span class="o">+</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">nsm</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">list_fields</span></div>

<div class="viewcode-block" id="PBARL.write_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBARL.write_card">[docs]</a>    <span class="k">def</span> <span class="nf">write_card</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">is_double</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">card</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">repr_fields</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">size</span> <span class="o">==</span> <span class="mi">8</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">print_card_8</span><span class="p">(</span><span class="n">card</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">print_card_16</span><span class="p">(</span><span class="n">card</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="PBRSECT"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBRSECT">[docs]</a><span class="k">class</span> <span class="nc">PBRSECT</span><span class="p">(</span><span class="n">LineProperty</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    not done</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">type</span> <span class="o">=</span> <span class="s1">&#39;PBRSECT&#39;</span>

<div class="viewcode-block" id="PBRSECT._init_from_empty"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBRSECT._init_from_empty">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_init_from_empty</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">mid</span> <span class="o">=</span> <span class="mi">2</span>
        <span class="n">form</span> <span class="o">=</span> <span class="s1">&#39;FORM&#39;</span>
        <span class="n">options</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;OUTP&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)]</span>
        <span class="k">return</span> <span class="n">PBRSECT</span><span class="p">(</span><span class="n">pid</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">form</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="PBRSECT._finalize_hdf5"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBRSECT._finalize_hdf5">[docs]</a>    <span class="k">def</span> <span class="nf">_finalize_hdf5</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">brps</span> <span class="o">=</span> <span class="p">{</span><span class="n">key</span> <span class="p">:</span> <span class="n">value</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">brps</span><span class="p">)}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ts</span> <span class="o">=</span> <span class="p">{</span><span class="n">key</span> <span class="p">:</span> <span class="n">value</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">ts</span><span class="p">)}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">inps</span> <span class="o">=</span> <span class="p">{</span><span class="n">key</span> <span class="p">:</span> <span class="n">value</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">inps</span><span class="p">)}</span></div>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">form</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="n">LineProperty</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">comment</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">=</span> <span class="n">comment</span>

        <span class="c1">#: Property ID</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pid</span> <span class="o">=</span> <span class="n">pid</span>
        <span class="c1">#: Material ID</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mid</span> <span class="o">=</span> <span class="n">mid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">form</span> <span class="o">=</span> <span class="n">form</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">nsm</span> <span class="o">=</span> <span class="mf">0.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">t</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">outp</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="c1"># int : int</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">brps</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">inps</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="c1"># int : floats</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ts</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="nb">list</span><span class="p">),</span> <span class="n">options</span>
        <span class="k">for</span> <span class="n">key_value</span> <span class="ow">in</span> <span class="n">options</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="n">key_value</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">key_value</span><span class="p">)</span>
                <span class="k">raise</span>
            <span class="n">key</span> <span class="o">=</span> <span class="n">key</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">&#39;NSM&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">nsm</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">elif</span> <span class="s1">&#39;INP&#39;</span> <span class="ow">in</span> <span class="n">key</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">key</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;INP(&#39;</span><span class="p">):</span>
                    <span class="k">assert</span> <span class="n">key</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;)&#39;</span><span class="p">),</span> <span class="s1">&#39;key=</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">key</span>
                    <span class="n">key_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">key</span><span class="p">[</span><span class="mi">4</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">inps</span><span class="p">[</span><span class="n">key_id</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">inps</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">&#39;OUTP&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">outp</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

            <span class="k">elif</span> <span class="n">key</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;BRP&#39;</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">key</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;BRP(&#39;</span><span class="p">):</span>
                    <span class="k">assert</span> <span class="n">key</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;)&#39;</span><span class="p">),</span> <span class="s1">&#39;key=</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">key</span>
                    <span class="n">key_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">key</span><span class="p">[</span><span class="mi">4</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">brps</span><span class="p">[</span><span class="n">key_id</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">brps</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

            <span class="k">elif</span> <span class="n">key</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;T(&#39;</span><span class="p">):</span>
                <span class="n">index</span><span class="p">,</span> <span class="n">out</span> <span class="o">=</span> <span class="n">split_arbitrary_thickness_section</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ts</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="n">out</span>
            <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">&#39;T&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

            <span class="c1">#if key == &#39;NSM&#39;:</span>
                <span class="c1">#self.nsm = float(value)</span>
            <span class="c1">#elif key == &#39;OUTP&#39;:</span>
                <span class="c1">#self.outp = int(value)</span>
            <span class="c1">#elif key == &#39;BRP(1)&#39;:</span>
                <span class="c1">#self.brp1 = int(value)</span>
            <span class="c1">#elif key == &#39;T&#39;:</span>
                <span class="c1">#self.t = float(value)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s1">&#39;PBRSECT.pid=</span><span class="si">%s</span><span class="s1"> key=</span><span class="si">%r</span><span class="s1"> value=</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">pid</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">mid_ref</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">brps_ref</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">outp_ref</span> <span class="o">=</span> <span class="kc">None</span>

<div class="viewcode-block" id="PBRSECT.validate"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBRSECT.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">form</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;GS&#39;</span><span class="p">,</span> <span class="s1">&#39;OP&#39;</span><span class="p">,</span> <span class="s1">&#39;CP&#39;</span><span class="p">],</span> <span class="s1">&#39;pid=</span><span class="si">%s</span><span class="s1"> form=</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">form</span><span class="p">)</span>

        <span class="c1">#assert self.outp is not None, &#39;form=%s outp=%s&#39; % (self.form, self.outp)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">form</span> <span class="o">==</span> <span class="s1">&#39;GS&#39;</span><span class="p">:</span>
            <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">inps</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;form=</span><span class="si">%s</span><span class="s1"> inps=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">form</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">inps</span><span class="p">)</span>
            <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">brps</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;form=</span><span class="si">%s</span><span class="s1"> brps=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">form</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">brps</span><span class="p">)</span>
            <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ts</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;form=</span><span class="si">%s</span><span class="s1"> ts=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">form</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ts</span><span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">form</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;OP&#39;</span><span class="p">,</span> <span class="s1">&#39;CP&#39;</span><span class="p">]:</span>
            <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">inps</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;form=</span><span class="si">%s</span><span class="s1"> inps=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">form</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">inps</span><span class="p">)</span>
            <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">brps</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;form=</span><span class="si">%s</span><span class="s1"> brps=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">form</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">brps</span><span class="p">)</span>
            <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ts</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;form=</span><span class="si">%s</span><span class="s1"> ts=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">form</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ts</span><span class="p">)</span></div>

<div class="viewcode-block" id="PBRSECT.add_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBRSECT.add_card">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">add_card</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">card</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a PBRSECT card from ``BDF.add_card(...)``</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        card : List[str]</span>
<span class="sd">            this card is special and is not a ``BDFCard`` like other cards</span>
<span class="sd">        comment : str; default=&#39;&#39;</span>
<span class="sd">            a comment for the card</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">line0</span> <span class="o">=</span> <span class="n">card</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">if</span> <span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span> <span class="ow">in</span> <span class="n">line0</span><span class="p">:</span>
            <span class="n">line0</span> <span class="o">=</span> <span class="n">line0</span><span class="o">.</span><span class="n">expandtabs</span><span class="p">()</span>

        <span class="n">bdf_card</span> <span class="o">=</span> <span class="n">BDFCard</span><span class="p">(</span><span class="n">to_fields</span><span class="p">([</span><span class="n">line0</span><span class="p">],</span> <span class="s1">&#39;PBMSECT&#39;</span><span class="p">))</span>
        <span class="n">unused_line0_eq</span> <span class="o">=</span> <span class="n">line0</span><span class="p">[</span><span class="mi">16</span><span class="p">:]</span>
        <span class="n">lines_joined</span> <span class="o">=</span> <span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">card</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;,,&#39;</span><span class="p">,</span> <span class="s1">&#39;,&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">lines_joined</span><span class="p">:</span>
            <span class="n">fields</span> <span class="o">=</span> <span class="n">get_beam_sections</span><span class="p">(</span><span class="n">lines_joined</span><span class="p">)</span>
            <span class="n">options</span> <span class="o">=</span> <span class="p">[</span><span class="n">field</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">fields</span><span class="p">]</span>
            <span class="c1">#C:\MSC.Software\MSC.Nastran\msc20051\nast\tpl\zbr3.dat</span>
            <span class="c1">#options = [</span>
                <span class="c1">#[u&#39;OUTP&#39;, u&#39;201&#39;],</span>
                <span class="c1">#[u&#39;T&#39;, u&#39;1.0&#39;],</span>
                <span class="c1">#[u&#39;BRP&#39;, u&#39;202&#39;],</span>
                <span class="c1">#[u&#39;T(11)&#39;, u&#39;[1.2&#39;],</span>
                <span class="c1">#[u&#39;PT&#39;, u&#39;(202&#39;], [u&#39;224)]&#39;],</span>
                <span class="c1">#[u&#39;T(12)&#39;, u&#39;[1.2&#39;],</span>
                <span class="c1">#[u&#39;PT&#39;, u&#39;(224&#39;],</span>
                <span class="c1">#[u&#39;205)]&#39;],</span>
            <span class="c1">#]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">options</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="n">pid</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">bdf_card</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;pid&#39;</span><span class="p">)</span>
        <span class="n">mid</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">bdf_card</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;mid&#39;</span><span class="p">)</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">string_or_blank</span><span class="p">(</span><span class="n">bdf_card</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;form&#39;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">PBRSECT</span><span class="p">(</span><span class="n">pid</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">form</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span></div>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">add_op2_data</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="c1">#pid = data[0]</span>
        <span class="c1">#mid = data[1]</span>
        <span class="c1">#group = data[2].strip()</span>
        <span class="c1">#beam_type = data[3].strip()</span>
        <span class="c1">#dim = list(data[4:-1])</span>
        <span class="c1">#nsm = data[-1]</span>
        <span class="c1">#print(&quot;group = %r&quot; % self.group)</span>
        <span class="c1">#print(&quot;beam_type  = %r&quot; % self.beam_type)</span>
        <span class="c1">#print(&quot;dim = &quot;,self.dim)</span>
        <span class="c1">#print(str(self))</span>
        <span class="c1">#print(&quot;*PBARL = &quot;,data)</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s1">&#39;not finished...&#39;</span><span class="p">)</span>
        <span class="c1">#return PBRSECT(pid, mid, group, beam_type, dim, nsm, comment=comment)</span>

<div class="viewcode-block" id="PBRSECT.cross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBRSECT.cross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">cross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">BDF</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Cross links the card so referenced cards can be extracted directly</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        model : BDF()</span>
<span class="sd">            the BDF object</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;, which is required by PBMSECT mid=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">mid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mid_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">Material</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mid</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">outp</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">outp_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">outp</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">outp_ref</span><span class="o">.</span><span class="n">cross_reference_set</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="s1">&#39;Point&#39;</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">brps</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">brpi</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">brps</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">brpi_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="n">brpi</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>
                <span class="n">brpi_ref</span><span class="o">.</span><span class="n">cross_reference_set</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="s1">&#39;Point&#39;</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">brps_ref</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">brpi_ref</span></div>

<div class="viewcode-block" id="PBRSECT.plot"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBRSECT.plot">[docs]</a>    <span class="k">def</span> <span class="nf">plot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">figure_id</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">show</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Plots the beam section</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        model : BDF()</span>
<span class="sd">            the BDF object</span>
<span class="sd">        figure_id : int; default=1</span>
<span class="sd">            the figure id</span>
<span class="sd">        show : bool; default=False</span>
<span class="sd">            show the figure when done</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">class_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>
        <span class="n">form_map</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;GS&#39;</span> <span class="p">:</span> <span class="s1">&#39;General Section&#39;</span><span class="p">,</span>
            <span class="s1">&#39;OP&#39;</span> <span class="p">:</span> <span class="s1">&#39;Open Profile&#39;</span><span class="p">,</span>
            <span class="s1">&#39;CP&#39;</span> <span class="p">:</span> <span class="s1">&#39;Closed Profile&#39;</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">formi</span> <span class="o">=</span> <span class="s1">&#39; form=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">form_map</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">form</span><span class="p">]</span>
        <span class="n">plot_arbitrary_section</span><span class="p">(</span>
            <span class="n">model</span><span class="p">,</span> <span class="bp">self</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">inps</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ts</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">brps_ref</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nsm</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">outp_ref</span><span class="p">,</span>
            <span class="n">figure_id</span><span class="o">=</span><span class="n">figure_id</span><span class="p">,</span>
            <span class="n">title</span><span class="o">=</span><span class="n">class_name</span> <span class="o">+</span> <span class="s1">&#39; pid=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">pid</span> <span class="o">+</span> <span class="n">formi</span><span class="p">,</span>
            <span class="n">show</span><span class="o">=</span><span class="n">show</span><span class="p">)</span></div>

<div class="viewcode-block" id="PBRSECT.uncross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBRSECT.uncross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">uncross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Removes cross-reference links&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Mid</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mid_ref</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">outp_ref</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">brps_ref</span> <span class="o">=</span> <span class="p">{}</span></div>

    <span class="k">def</span> <span class="nf">_verify</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xref</span><span class="p">):</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pid</span>
        <span class="n">mid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Mid</span><span class="p">()</span>
        <span class="c1">#A = self.Area()</span>
        <span class="c1">#J = self.J()</span>
        <span class="c1">#nsm = self.Nsm()</span>
        <span class="c1">#mpl = self.MassPerLength()</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pid</span><span class="p">,</span> <span class="nb">int</span><span class="p">),</span> <span class="s1">&#39;pid=</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">pid</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">mid</span><span class="p">,</span> <span class="nb">int</span><span class="p">),</span> <span class="s1">&#39;mid=</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">mid</span>
        <span class="c1">#assert isinstance(A, float), &#39;pid=%r&#39; % A</span>
        <span class="c1">#assert isinstance(J, float), &#39;cid=%r&#39; % J</span>
        <span class="c1">#assert isinstance(nsm, float), &#39;nsm=%r&#39; % nsm</span>
        <span class="c1">#assert isinstance(mpl, float), &#39;mass_per_length=%r&#39; % mpl</span>

<div class="viewcode-block" id="PBRSECT.Area"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBRSECT.Area">[docs]</a>    <span class="k">def</span> <span class="nf">Area</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Gets the area :math:`A` of the CBAR.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="mf">0.</span></div>
        <span class="c1">#raise NotImplementedError(&#39;Area is not implemented for PBRSECT&#39;)</span>

<div class="viewcode-block" id="PBRSECT.Nsm"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBRSECT.Nsm">[docs]</a>    <span class="k">def</span> <span class="nf">Nsm</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Gets the non-structural mass :math:`nsm` of the CBAR.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="mf">0.</span></div>
        <span class="c1">#raise NotImplementedError(&#39;Nsm is not implemented for PBRSECT&#39;)</span>

<div class="viewcode-block" id="PBRSECT.MassPerLength"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBRSECT.MassPerLength">[docs]</a>    <span class="k">def</span> <span class="nf">MassPerLength</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the mass per length :math:`\frac{m}{L}` of the CBAR.</span>

<span class="sd">        .. math:: \frac{m}{L} = A \rho + nsm</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">rho</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Rho</span><span class="p">()</span>
        <span class="n">area</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Area</span><span class="p">()</span>
        <span class="n">nsm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Nsm</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">area</span> <span class="o">*</span> <span class="n">rho</span> <span class="o">+</span> <span class="n">nsm</span></div>

<div class="viewcode-block" id="PBRSECT.I11"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBRSECT.I11">[docs]</a>    <span class="k">def</span> <span class="nf">I11</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s1">&#39;I11 is not implemented for PBRSECT&#39;</span><span class="p">)</span></div>

    <span class="c1">#def I12(self):</span>
        <span class="c1">#return self.I12()</span>

<div class="viewcode-block" id="PBRSECT.J"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBRSECT.J">[docs]</a>    <span class="k">def</span> <span class="nf">J</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s1">&#39;J is not implemented for PBRSECT&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="PBRSECT.I22"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBRSECT.I22">[docs]</a>    <span class="k">def</span> <span class="nf">I22</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s1">&#39;I22 is not implemented for PBRSECT&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="PBRSECT.raw_fields"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBRSECT.raw_fields">[docs]</a>    <span class="k">def</span> <span class="nf">raw_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;not done...&quot;&quot;&quot;</span>
        <span class="n">list_fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;PBRSECT&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Mid</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">form</span><span class="p">]</span>
                       <span class="c1">#None, None, None, None] + self.dim + [self.nsm]</span>
        <span class="k">return</span> <span class="n">list_fields</span></div>

<div class="viewcode-block" id="PBRSECT.repr_fields"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBRSECT.repr_fields">[docs]</a>    <span class="k">def</span> <span class="nf">repr_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;not done...&quot;&quot;&quot;</span>
        <span class="n">list_fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;PBRSECT&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Mid</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">form</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">list_fields</span></div>

<div class="viewcode-block" id="PBRSECT.write_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBRSECT.write_card">[docs]</a>    <span class="k">def</span> <span class="nf">write_card</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">is_double</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">card</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">repr_fields</span><span class="p">()</span>
        <span class="n">end</span> <span class="o">=</span> <span class="n">write_arbitrary_beam_section</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">inps</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ts</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">brps</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nsm</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">outp</span><span class="p">)</span>
        <span class="n">out</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">print_card_8</span><span class="p">(</span><span class="n">card</span><span class="p">)</span> <span class="o">+</span> <span class="n">end</span>
        <span class="k">return</span> <span class="n">out</span></div>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">write_card</span><span class="p">()</span></div>


<div class="viewcode-block" id="PBEAM3"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBEAM3">[docs]</a><span class="k">class</span> <span class="nc">PBEAM3</span><span class="p">(</span><span class="n">LineProperty</span><span class="p">):</span>  <span class="c1"># not done, cleanup; MSC specific card</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    +--------+----------+---------+---------+----------+---------+---------+----------+----------+</span>
<span class="sd">    |    1   |     2    |    3    |    4    |     5    |    6    |    7    |     8    |     9    |</span>
<span class="sd">    +========+==========+=========+=========+==========+=========+=========+==========+==========+</span>
<span class="sd">    | PBEAM3 |    PID   |   MID   |   A(A)  |   IZ(A)  |  IY(A)  |  IYZ(A) |   J(A)   |  NSM(A)  |</span>
<span class="sd">    +--------+----------+---------+---------+----------+---------+---------+----------+----------+</span>
<span class="sd">    |        |   CY(A)  |  CZ(A)  |  DY(A)  |   DZ(A)  |  EY(A)  |  EZ(A)  |   FY(A)  |   FZ(A)  |</span>
<span class="sd">    +--------+----------+---------+---------+----------+---------+---------+----------+----------+</span>
<span class="sd">    |        |   SO(B)  |         |   A(B)  |   IZ(B)  |  IY(B)  |  IYZ(B) |   J(B)   |  NSM(B)  |</span>
<span class="sd">    +--------+----------+---------+---------+----------+---------+---------+----------+----------+</span>
<span class="sd">    |        |   CY(B)  |  CZ(B)  |  DY(B)  |   DZ(B)  |  EY(B)  |  EZ(B)  |   FY(B)  |   FZ(B)  |</span>
<span class="sd">    +--------+----------+---------+---------+----------+---------+---------+----------+----------+</span>
<span class="sd">    |        |   SO(C)  |         |   A(C)  |   IZ(C)  |  IY(C)  |  IYZ(C) |   J(C)   |  NSM(C)  |</span>
<span class="sd">    +--------+----------+---------+---------+----------+---------+---------+----------+----------+</span>
<span class="sd">    |        |   CY(C)  |  CZ(C)  |  DY(C)  |   DZ(C)  |  EY(C)  |  EZ(C)  |   FY(C)  |   FZ(C)  |</span>
<span class="sd">    +--------+----------+---------+---------+----------+---------+---------+----------+----------+</span>
<span class="sd">    |        |    KY    |   KZ    |  NY(A)  |   NZ(A)  |  NY(B)  |  NZ(B)  |   NY(C)  |   NZ(C)  |</span>
<span class="sd">    +--------+----------+---------+---------+----------+---------+---------+----------+----------+</span>
<span class="sd">    |        |  MY(A)   |  MZ(A)  |  MY(B)  |   MZ(B)  |  MY(C)  |  MZ(C)  |  NSIY(A) |  NSIZ(A) |</span>
<span class="sd">    +--------+----------+---------+---------+----------+---------+---------+----------+----------+</span>
<span class="sd">    |        | NSIYZ(A) | NSIY(B) | NSIZ(B) | NSIYZ(B) | NSIY(C) | NSIZ(C) | NSIYZ(C) |   CW(A)  |</span>
<span class="sd">    +--------+----------+---------+---------+----------+---------+---------+----------+----------+</span>
<span class="sd">    |        |   CW(B)  |  CW(C)  |  STRESS |          |         |         |          |          |</span>
<span class="sd">    +--------+----------+---------+---------+----------+---------+---------+----------+----------+</span>
<span class="sd">    |        |   WC(A)  |  WYC(A) |  WZC(A) |   WD(A)  |  WYD(A) |  WZD(A) |   WE(A)  |  WYE(A)  |</span>
<span class="sd">    +--------+----------+---------+---------+----------+---------+---------+----------+----------+</span>
<span class="sd">    |        |  WZE(A)  |  WF(A)  |  WYF(A) |  WZF(A)  |  WC(B)  |  WYC(B) |  WZC(B)  |   WD(B)  |</span>
<span class="sd">    +--------+----------+---------+---------+----------+---------+---------+----------+----------+</span>
<span class="sd">    |        |  WYD(B)  |  WZD(B) |  WE(B)  |  WYE(B)  |  WZE(B) |  WF(B)  |  WYF(B)  |  WZF(B)  |</span>
<span class="sd">    +--------+----------+---------+---------+----------+---------+---------+----------+----------+</span>
<span class="sd">    |        |   WC(C)  |  WYC(C) |  WZC(C) |   WD(C)  |  WYD(C) |  WZD(C) |  WE(C)   |  WYE(C)  |</span>
<span class="sd">    +--------+----------+---------+---------+----------+---------+---------+----------+----------+</span>
<span class="sd">    |        |  WZE(C)  |  WF(C)  |  WYF(C) |  WZF(C)  |         |         |          |          |</span>
<span class="sd">    +--------+----------+---------+---------+----------+---------+---------+----------+----------+</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">type</span> <span class="o">=</span> <span class="s1">&#39;PBEAM3&#39;</span>

<div class="viewcode-block" id="PBEAM3._init_from_empty"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBEAM3._init_from_empty">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_init_from_empty</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">mid</span> <span class="o">=</span> <span class="mi">2</span>
        <span class="n">A</span> <span class="o">=</span> <span class="mf">3.</span>
        <span class="n">iz</span> <span class="o">=</span> <span class="mf">4.</span>
        <span class="n">iy</span> <span class="o">=</span> <span class="mf">5.</span>
        <span class="k">return</span> <span class="n">PBEAM3</span><span class="p">(</span><span class="n">pid</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">A</span><span class="p">,</span> <span class="n">iz</span><span class="p">,</span> <span class="n">iy</span><span class="p">,</span>
                      <span class="n">iyz</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">j</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">nsm</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span>
                      <span class="n">so</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cy</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cz</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">dy</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">dz</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                      <span class="n">ey</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ez</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">fy</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">fz</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                      <span class="n">ky</span><span class="o">=</span><span class="mf">1.</span><span class="p">,</span> <span class="n">kz</span><span class="o">=</span><span class="mf">1.</span><span class="p">,</span>
                      <span class="n">ny</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">nz</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">my</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">mz</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                      <span class="n">nsiy</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">nsiz</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">nsiyz</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                      <span class="n">cw</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">stress</span><span class="o">=</span><span class="s1">&#39;GRID&#39;</span><span class="p">,</span>
                      <span class="n">w</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">wy</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">wz</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">A</span><span class="p">,</span> <span class="n">iz</span><span class="p">,</span> <span class="n">iy</span><span class="p">,</span> <span class="n">iyz</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">j</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">nsm</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span>
                 <span class="n">so</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">cy</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cz</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">dy</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">dz</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ey</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ez</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">fy</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">fz</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">ky</span><span class="o">=</span><span class="mf">1.</span><span class="p">,</span> <span class="n">kz</span><span class="o">=</span><span class="mf">1.</span><span class="p">,</span>
                 <span class="n">ny</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">nz</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">my</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">mz</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">nsiy</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">nsiz</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">nsiyz</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">cw</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">stress</span><span class="o">=</span><span class="s1">&#39;GRID&#39;</span><span class="p">,</span>
                 <span class="n">w</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">wy</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">wz</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a PBEAM3 card</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        pid : int</span>
<span class="sd">            property id</span>
<span class="sd">        mid : int</span>
<span class="sd">            material id</span>
<span class="sd">        A : List[float]</span>
<span class="sd">            areas for ABC</span>
<span class="sd">        iz / iy / iyz : List[float]</span>
<span class="sd">            area moment of inertias for ABC</span>
<span class="sd">        iyz : List[float]; default=None -&gt; [0., 0., 0.]</span>
<span class="sd">            area moment of inertias for ABC</span>
<span class="sd">        j : List[float]; default=None</span>
<span class="sd">            polar moment of inertias for ABC</span>
<span class="sd">            None -&gt; iy + iz from section A for ABC</span>
<span class="sd">        so : List[str]; default=None</span>
<span class="sd">            None -&gt; [&#39;YES&#39;, &#39;YESA&#39;, &#39;YESA&#39;]</span>
<span class="sd">        cy / cz / dy / dz / ey / ez / fy / fz : List[float]; default=[0., 0., 0.]</span>
<span class="sd">            stress recovery loctions for ABC</span>
<span class="sd">        ny / nz : List[float]</span>
<span class="sd">            Local (y, z) coordinates of neutral axis for ABC</span>
<span class="sd">        my / mz : List[float]</span>
<span class="sd">            Local (y, z) coordinates of nonstructural mass center of gravity for ABC</span>
<span class="sd">        nsiy / nsiz / nsiyz : List[float]</span>
<span class="sd">            Nonstructural mass moments of inertia per unit length about</span>
<span class="sd">            local y and z-axes, respectively, with regard to the nonstructural mass</span>
<span class="sd">            center of gravity for ABC</span>
<span class="sd">        cw : List[float]</span>
<span class="sd">            warping coefficients for ABC</span>
<span class="sd">        stress : str; default=&#39;GRID&#39;</span>
<span class="sd">            Location selection for stress, strain and force output.</span>
<span class="sd">        w : (4, 3) float numpy array; default=None</span>
<span class="sd">            Values of warping function at stress recovery points</span>
<span class="sd">            None : array of 0.0</span>
<span class="sd">        wy / wz : (4, 3) float numpy array; default=None</span>
<span class="sd">            Gradients of warping function in the local (y, z) coordinate</span>
<span class="sd">            system at stress recovery points</span>
<span class="sd">            None : array of 0.0</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">LineProperty</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">comment</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">=</span> <span class="n">comment</span>

        <span class="k">def</span> <span class="nf">_pbeam3_station_a</span><span class="p">(</span><span class="n">values</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;used by A, Iz, Iy&quot;&quot;&quot;</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">float_types</span><span class="p">):</span>
                <span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="n">values</span><span class="p">]</span> <span class="o">*</span> <span class="mi">3</span>
            <span class="n">station_a_value</span> <span class="o">=</span> <span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">count</span><span class="p">(),</span> <span class="n">values</span><span class="p">[</span><span class="mi">1</span><span class="p">:]):</span>
                <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">values</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">station_a_value</span>
            <span class="k">return</span> <span class="n">values</span>

        <span class="k">def</span> <span class="nf">_pbeam3_station_a_default</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">default_value</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;used by Iyz, nsm&quot;&quot;&quot;</span>
            <span class="k">if</span> <span class="n">values</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="n">default_value</span><span class="p">]</span> <span class="o">*</span> <span class="mi">3</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">float_types</span><span class="p">):</span>
                <span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="n">values</span><span class="p">]</span> <span class="o">*</span> <span class="mi">3</span>

            <span class="n">station_a_value</span> <span class="o">=</span> <span class="n">default_value</span> <span class="k">if</span> <span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">count</span><span class="p">(),</span> <span class="n">values</span><span class="p">[</span><span class="mi">1</span><span class="p">:]):</span>
                <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">values</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">station_a_value</span>
            <span class="k">return</span> <span class="n">values</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">pid</span> <span class="o">=</span> <span class="n">pid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mid</span> <span class="o">=</span> <span class="n">mid</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">A</span> <span class="o">=</span> <span class="n">_pbeam3_station_a</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">iz</span> <span class="o">=</span> <span class="n">_pbeam3_station_a</span><span class="p">(</span><span class="n">iz</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">iy</span> <span class="o">=</span> <span class="n">_pbeam3_station_a</span><span class="p">(</span><span class="n">iy</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">iyz</span> <span class="o">=</span> <span class="n">_pbeam3_station_a_default</span><span class="p">(</span><span class="n">iyz</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">j</span> <span class="o">=</span> <span class="n">_pbeam3_station_a_default</span><span class="p">(</span><span class="n">j</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">iy</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">iz</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nsm</span> <span class="o">=</span> <span class="n">_pbeam3_station_a_default</span><span class="p">(</span><span class="n">nsm</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">so</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">so</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;YES&#39;</span><span class="p">,</span> <span class="s1">&#39;YESA&#39;</span><span class="p">,</span> <span class="s1">&#39;YESA&#39;</span><span class="p">]</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">so</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">so</span> <span class="o">=</span> <span class="p">[</span><span class="n">so</span><span class="p">]</span> <span class="o">*</span> <span class="mi">3</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">so</span> <span class="o">=</span> <span class="n">so</span>

        <span class="k">def</span> <span class="nf">_pbeam3_default_list</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">default</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;used by Cy/Cz, Dy/Dz, Ey/Ez, Fy/Fz&quot;&quot;&quot;</span>
            <span class="k">if</span> <span class="n">values</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="n">default</span><span class="p">]</span> <span class="o">*</span> <span class="mi">3</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">float_types</span><span class="p">):</span>
                <span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="n">values</span><span class="p">]</span> <span class="o">*</span> <span class="mi">3</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">count</span><span class="p">(),</span> <span class="n">values</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">values</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">default</span>
            <span class="k">return</span> <span class="n">values</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cy</span> <span class="o">=</span> <span class="n">_pbeam3_default_list</span><span class="p">(</span><span class="n">cy</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cz</span> <span class="o">=</span> <span class="n">_pbeam3_default_list</span><span class="p">(</span><span class="n">cz</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dy</span> <span class="o">=</span> <span class="n">_pbeam3_default_list</span><span class="p">(</span><span class="n">dy</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dz</span> <span class="o">=</span> <span class="n">_pbeam3_default_list</span><span class="p">(</span><span class="n">dz</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ey</span> <span class="o">=</span> <span class="n">_pbeam3_default_list</span><span class="p">(</span><span class="n">ey</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ez</span> <span class="o">=</span> <span class="n">_pbeam3_default_list</span><span class="p">(</span><span class="n">ez</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fy</span> <span class="o">=</span> <span class="n">_pbeam3_default_list</span><span class="p">(</span><span class="n">fy</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fz</span> <span class="o">=</span> <span class="n">_pbeam3_default_list</span><span class="p">(</span><span class="n">fz</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">ky</span> <span class="o">=</span> <span class="n">ky</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">kz</span> <span class="o">=</span> <span class="n">kz</span>

        <span class="k">def</span> <span class="nf">_pbeam3_default_list_station_a</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">default</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;used by Ny/Nz, My/Mz, NSIy/NSIz/NSIyz, Cw&quot;&quot;&quot;</span>
            <span class="k">if</span> <span class="n">values</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="n">default</span><span class="p">]</span> <span class="o">*</span> <span class="mi">3</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">float_types</span><span class="p">):</span>
                <span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="n">values</span><span class="p">]</span> <span class="o">*</span> <span class="mi">3</span>
            <span class="k">if</span> <span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">default</span>

            <span class="n">station_a_value</span> <span class="o">=</span> <span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">count</span><span class="p">(),</span> <span class="n">values</span><span class="p">[</span><span class="mi">1</span><span class="p">:]):</span>
                <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">values</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">station_a_value</span>
            <span class="k">return</span> <span class="n">values</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">ny</span> <span class="o">=</span> <span class="n">_pbeam3_default_list_station_a</span><span class="p">(</span><span class="n">ny</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nz</span> <span class="o">=</span> <span class="n">_pbeam3_default_list_station_a</span><span class="p">(</span><span class="n">nz</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">my</span> <span class="o">=</span> <span class="n">_pbeam3_default_list_station_a</span><span class="p">(</span><span class="n">my</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mz</span> <span class="o">=</span> <span class="n">_pbeam3_default_list_station_a</span><span class="p">(</span><span class="n">mz</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">nsiy</span> <span class="o">=</span> <span class="n">_pbeam3_default_list_station_a</span><span class="p">(</span><span class="n">nsiy</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nsiz</span> <span class="o">=</span> <span class="n">_pbeam3_default_list_station_a</span><span class="p">(</span><span class="n">nsiz</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nsiyz</span> <span class="o">=</span> <span class="n">_pbeam3_default_list_station_a</span><span class="p">(</span><span class="n">nsiyz</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cw</span> <span class="o">=</span> <span class="n">_pbeam3_default_list_station_a</span><span class="p">(</span><span class="n">cw</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stress</span> <span class="o">=</span> <span class="n">stress</span>

        <span class="k">if</span> <span class="n">w</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">w</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;float64&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">wy</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">wy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;float64&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">wz</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">wz</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;float64&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">w</span> <span class="o">=</span> <span class="n">w</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wy</span> <span class="o">=</span> <span class="n">wy</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wz</span> <span class="o">=</span> <span class="n">wz</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mid_ref</span> <span class="o">=</span> <span class="kc">None</span>

<div class="viewcode-block" id="PBEAM3.add_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBEAM3.add_card">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">add_card</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">card</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a PBARL card from ``BDF.add_card(...)``</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        card : BDFCard()</span>
<span class="sd">            a BDFCard object</span>
<span class="sd">        comment : str; default=&#39;&#39;</span>
<span class="sd">            a comment for the card</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1">#PID MID A(A) IZ(A) IY(A) IYZ(A) J(A) NSM(A)</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;pid&#39;</span><span class="p">)</span>
        <span class="n">mid</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;mid&#39;</span><span class="p">)</span>

        <span class="n">area</span> <span class="o">=</span> <span class="p">[</span><span class="n">double</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span><span class="p">)]</span>
        <span class="n">iz</span> <span class="o">=</span> <span class="p">[</span><span class="n">double</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;Iz&#39;</span><span class="p">)]</span>
        <span class="n">iy</span> <span class="o">=</span> <span class="p">[</span><span class="n">double</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;Iy&#39;</span><span class="p">)]</span>
        <span class="n">iyz</span> <span class="o">=</span> <span class="p">[</span><span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;Iyz&#39;</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)]</span>
        <span class="n">j</span> <span class="o">=</span> <span class="p">[</span><span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;J&#39;</span><span class="p">,</span> <span class="n">iy</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">iz</span><span class="p">[</span><span class="mi">0</span><span class="p">])]</span>
        <span class="n">nsm</span> <span class="o">=</span> <span class="p">[</span><span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;nsm&#39;</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)]</span>

        <span class="c1">#CY(A) CZ(A) DY(A) DZ(A) EY(A) EZ(A) FY(A) FZ(A)</span>
        <span class="n">cy</span> <span class="o">=</span> <span class="p">[</span><span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="s1">&#39;cy&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mf">0.</span><span class="p">)]</span>
        <span class="n">cz</span> <span class="o">=</span> <span class="p">[</span><span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;cz&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mf">0.</span><span class="p">)]</span>

        <span class="n">dy</span> <span class="o">=</span> <span class="p">[</span><span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="s1">&#39;dy&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mf">0.</span><span class="p">)]</span>
        <span class="n">dz</span> <span class="o">=</span> <span class="p">[</span><span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="s1">&#39;dz&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mf">0.</span><span class="p">)]</span>

        <span class="n">ey</span> <span class="o">=</span> <span class="p">[</span><span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="s1">&#39;ey&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mf">0.</span><span class="p">)]</span>
        <span class="n">ez</span> <span class="o">=</span> <span class="p">[</span><span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="s1">&#39;ez&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mf">0.</span><span class="p">)]</span>

        <span class="n">fy</span> <span class="o">=</span> <span class="p">[</span><span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="s1">&#39;fy&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mf">0.</span><span class="p">)]</span>
        <span class="n">fz</span> <span class="o">=</span> <span class="p">[</span><span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="s1">&#39;fz&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mf">0.</span><span class="p">)]</span>

        <span class="c1">#SO(B)        A(B) IZ(B) IY(B) IYZ(B)  J(B) NSM(B)</span>
        <span class="c1">#CY(B) CZ(B) DY(B) DZ(B) EY(B)  EZ(B) FY(B)  FZ(B)</span>

        <span class="c1">#SO(C)        A(C) IZ(C) IY(C) IYZ(C) J(C)  NSM(C)</span>
        <span class="c1">#CY(C) CZ(C) DY(C) DZ(C) EY(C)  EZ(C) FY(C)  FZ(C)</span>

        <span class="n">so</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;YES&#39;</span><span class="p">]</span>
        <span class="n">locations</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">location</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">locations</span><span class="p">):</span>
            <span class="n">offset</span> <span class="o">=</span> <span class="mi">17</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="mi">16</span>
            <span class="n">so</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">string_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="n">offset</span><span class="p">,</span> <span class="s1">&#39;SO_</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">location</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;YESA&#39;</span><span class="p">))</span>

            <span class="n">area</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="n">offset</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;area_</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">location</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">area</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
            <span class="n">iz</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="n">offset</span> <span class="o">+</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;Iz&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">iz</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
            <span class="n">iy</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="n">offset</span> <span class="o">+</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;Iy&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">iy</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
            <span class="n">iyz</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="n">offset</span> <span class="o">+</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;Iyz&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">iyz</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
            <span class="n">j</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="n">offset</span> <span class="o">+</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;J&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">j</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
            <span class="n">nsm</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="n">offset</span> <span class="o">+</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;nsm&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">nsm</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>

            <span class="n">cy</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="n">offset</span> <span class="o">+</span> <span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;cy&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mf">0.</span><span class="p">))</span>
            <span class="n">cz</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="n">offset</span> <span class="o">+</span> <span class="mi">9</span><span class="p">,</span> <span class="s1">&#39;cz&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mf">0.</span><span class="p">))</span>

            <span class="n">dy</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="n">offset</span> <span class="o">+</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;dy&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mf">0.</span><span class="p">))</span>
            <span class="n">dz</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="n">offset</span> <span class="o">+</span> <span class="mi">11</span><span class="p">,</span> <span class="s1">&#39;dz&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mf">0.</span><span class="p">))</span>

            <span class="n">ey</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="n">offset</span> <span class="o">+</span> <span class="mi">12</span><span class="p">,</span> <span class="s1">&#39;ey&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mf">0.</span><span class="p">))</span>
            <span class="n">ez</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="n">offset</span> <span class="o">+</span> <span class="mi">13</span><span class="p">,</span> <span class="s1">&#39;ez&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mf">0.</span><span class="p">))</span>

            <span class="n">fy</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="n">offset</span> <span class="o">+</span> <span class="mi">14</span><span class="p">,</span> <span class="s1">&#39;fy&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mf">0.</span><span class="p">))</span>
            <span class="n">fz</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="n">offset</span> <span class="o">+</span> <span class="mi">15</span><span class="p">,</span> <span class="s1">&#39;fz&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mf">0.</span><span class="p">))</span>

        <span class="c1">#KY       KZ      NY(A)   NZ(A)    NY(B)   NZ(B)   NY(C)    NZ(C)</span>
        <span class="c1">#MY(A)    MZ(A)   MY(B)   MZ(B)    MY(C)   MZ(C)   NSIY(A)  NSIZ(A)</span>
        <span class="c1">#NSIYZ(A) NSIY(B) NSIZ(B) NSIYZ(B) NSIY(C) NSIZ(C) NSIYZ(C) CW(A)</span>
        <span class="c1">#CW(B)    CW(C)   STRESS</span>

        <span class="n">ifield</span> <span class="o">=</span> <span class="mi">49</span>
        <span class="n">ky</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="n">ifield</span><span class="p">,</span> <span class="s1">&#39;Ky&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span>
        <span class="n">kz</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="n">ifield</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;Kz&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span>
        <span class="n">ifield</span> <span class="o">+=</span> <span class="mi">2</span>

        <span class="n">locations</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">]</span>
        <span class="n">ny</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">nz</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">location</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">locations</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">nyi</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="n">ifield</span><span class="p">,</span> <span class="s1">&#39;NY(</span><span class="si">%s</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="n">location</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>
                <span class="n">nzi</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="n">ifield</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;NZ(</span><span class="si">%s</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="n">location</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">nyi</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="n">ifield</span><span class="p">,</span> <span class="s1">&#39;NY(</span><span class="si">%s</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="n">location</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">ny</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                <span class="n">nzi</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="n">ifield</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;NZ(</span><span class="si">%s</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="n">location</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">nz</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="n">ny</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">nyi</span><span class="p">)</span>
            <span class="n">nz</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">nzi</span><span class="p">)</span>
            <span class="n">ifield</span> <span class="o">+=</span> <span class="mi">2</span>

        <span class="n">my</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">mz</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">location</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">locations</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">myi</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="n">ifield</span><span class="p">,</span> <span class="s1">&#39;MY(</span><span class="si">%s</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="n">location</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>
                <span class="n">mzi</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="n">ifield</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;MZ(</span><span class="si">%s</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="n">location</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">myi</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="n">ifield</span><span class="p">,</span> <span class="s1">&#39;MY(</span><span class="si">%s</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="n">location</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">my</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                <span class="n">mzi</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="n">ifield</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;MZ(</span><span class="si">%s</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="n">location</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">mz</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="n">my</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">myi</span><span class="p">)</span>
            <span class="n">mz</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">mzi</span><span class="p">)</span>
            <span class="n">ifield</span> <span class="o">+=</span> <span class="mi">2</span>

        <span class="n">nsiy</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">nsiz</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">nsiyz</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">location</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">locations</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">nsiyi</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="n">ifield</span><span class="p">,</span> <span class="s1">&#39;NSIY(</span><span class="si">%s</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="n">location</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>
                <span class="n">nsizi</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="n">ifield</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;NSIZ(</span><span class="si">%s</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="n">location</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>
                <span class="n">nsiyzi</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="n">ifield</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;NSIYZ(</span><span class="si">%s</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="n">location</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">nsiyi</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="n">ifield</span><span class="p">,</span> <span class="s1">&#39;NSIY(</span><span class="si">%s</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="n">location</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">nsiy</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                <span class="n">nsizi</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="n">ifield</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;NSIZ(</span><span class="si">%s</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="n">location</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">nsiz</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                <span class="n">nsiyzi</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="n">ifield</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;NSIYZ(</span><span class="si">%s</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="n">location</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">nsiyz</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="n">nsiy</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">nsiyi</span><span class="p">)</span>
            <span class="n">nsiz</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">nsizi</span><span class="p">)</span>
            <span class="n">nsiyz</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">nsiyzi</span><span class="p">)</span>
            <span class="n">ifield</span> <span class="o">+=</span> <span class="mi">3</span>

        <span class="n">cw</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">location</span> <span class="ow">in</span> <span class="n">locations</span><span class="p">:</span>
            <span class="n">cwi</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="n">ifield</span><span class="p">,</span> <span class="s1">&#39;CW(</span><span class="si">%s</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="n">location</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>
            <span class="n">cw</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cwi</span><span class="p">)</span>
            <span class="n">ifield</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">stress</span> <span class="o">=</span> <span class="n">string_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="n">ifield</span><span class="p">,</span> <span class="s1">&#39;STRESS&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;GRID&#39;</span><span class="p">)</span>
        <span class="n">ifield</span> <span class="o">+=</span> <span class="mi">6</span>


        <span class="c1"># WC(A)  WYC(A) WZC(A) WD(A)  WYD(A) WZD(A) WE(A)  WYE(A)</span>
        <span class="c1"># WZE(A) WF(A)) WYF(A) WZF(A) WC(B)  WYC(B) WZC(B) WD(B)</span>
        <span class="c1"># WYD(B) WZD(B) WE(B)  WYE(B) WZE(B) WF(B)  WYF(B) WZF(B)</span>
        <span class="c1"># WC(C)  WYC(C) WZC(C) WD(C)  WYD(C) WZD(C) WE(C)  WYE(C)</span>
        <span class="c1"># WZE(C) WF(C)  WYF(C) WZF(C)</span>

        <span class="n">spots</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">)</span>
        <span class="n">w</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;float64&#39;</span><span class="p">)</span>
        <span class="n">wy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;float64&#39;</span><span class="p">)</span>
        <span class="n">wz</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;float64&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">iloc</span><span class="p">,</span> <span class="n">location</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">locations</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">ispot</span><span class="p">,</span> <span class="n">spot</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">spots</span><span class="p">):</span>
                <span class="n">wi</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="n">ifield</span><span class="p">,</span> <span class="s1">&#39;W</span><span class="si">%s</span><span class="s1">(</span><span class="si">%s</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">spot</span><span class="p">,</span> <span class="n">location</span><span class="p">),</span> <span class="n">default</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>
                <span class="n">wyi</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="n">ifield</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;WY</span><span class="si">%s</span><span class="s1">(</span><span class="si">%s</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">spot</span><span class="p">,</span> <span class="n">location</span><span class="p">),</span> <span class="n">default</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>
                <span class="n">wzi</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="n">ifield</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;WZ</span><span class="si">%s</span><span class="s1">(</span><span class="si">%s</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">spot</span><span class="p">,</span> <span class="n">location</span><span class="p">),</span> <span class="n">default</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>
                <span class="n">w</span><span class="p">[</span><span class="n">iloc</span><span class="p">,</span> <span class="n">ispot</span><span class="p">]</span> <span class="o">=</span> <span class="n">wi</span>
                <span class="n">wy</span><span class="p">[</span><span class="n">iloc</span><span class="p">,</span> <span class="n">ispot</span><span class="p">]</span> <span class="o">=</span> <span class="n">wyi</span>
                <span class="n">wz</span><span class="p">[</span><span class="n">iloc</span><span class="p">,</span> <span class="n">ispot</span><span class="p">]</span> <span class="o">=</span> <span class="n">wzi</span>
                <span class="n">ifield</span> <span class="o">+=</span> <span class="mi">3</span>

        <span class="k">return</span> <span class="n">PBEAM3</span><span class="p">(</span><span class="n">pid</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">area</span><span class="p">,</span> <span class="n">iz</span><span class="p">,</span> <span class="n">iy</span><span class="p">,</span> <span class="n">iyz</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">nsm</span><span class="o">=</span><span class="n">nsm</span><span class="p">,</span>
                      <span class="n">so</span><span class="o">=</span><span class="n">so</span><span class="p">,</span>
                      <span class="n">cy</span><span class="o">=</span><span class="n">cy</span><span class="p">,</span> <span class="n">cz</span><span class="o">=</span><span class="n">cz</span><span class="p">,</span> <span class="n">dy</span><span class="o">=</span><span class="n">dy</span><span class="p">,</span> <span class="n">dz</span><span class="o">=</span><span class="n">dz</span><span class="p">,</span> <span class="n">ey</span><span class="o">=</span><span class="n">ey</span><span class="p">,</span> <span class="n">ez</span><span class="o">=</span><span class="n">ez</span><span class="p">,</span> <span class="n">fy</span><span class="o">=</span><span class="n">fy</span><span class="p">,</span> <span class="n">fz</span><span class="o">=</span><span class="n">fz</span><span class="p">,</span>
                      <span class="n">ky</span><span class="o">=</span><span class="n">ky</span><span class="p">,</span> <span class="n">kz</span><span class="o">=</span><span class="n">kz</span><span class="p">,</span>
                      <span class="n">ny</span><span class="o">=</span><span class="n">ny</span><span class="p">,</span> <span class="n">nz</span><span class="o">=</span><span class="n">nz</span><span class="p">,</span> <span class="n">my</span><span class="o">=</span><span class="n">my</span><span class="p">,</span> <span class="n">mz</span><span class="o">=</span><span class="n">mz</span><span class="p">,</span>
                      <span class="n">nsiy</span><span class="o">=</span><span class="n">nsiy</span><span class="p">,</span> <span class="n">nsiz</span><span class="o">=</span><span class="n">nsiz</span><span class="p">,</span> <span class="n">nsiyz</span><span class="o">=</span><span class="n">nsiyz</span><span class="p">,</span>
                      <span class="n">cw</span><span class="o">=</span><span class="n">cw</span><span class="p">,</span> <span class="n">stress</span><span class="o">=</span><span class="n">stress</span><span class="p">,</span>
                      <span class="n">w</span><span class="o">=</span><span class="n">w</span><span class="p">,</span> <span class="n">wy</span><span class="o">=</span><span class="n">wy</span><span class="p">,</span> <span class="n">wz</span><span class="o">=</span><span class="n">wz</span><span class="p">,</span>
                      <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">add_op2_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">comment</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">=</span> <span class="n">comment</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

<div class="viewcode-block" id="PBEAM3.Nsm"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBEAM3.Nsm">[docs]</a>    <span class="k">def</span> <span class="nf">Nsm</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the non-structural mass :math:`nsm`.</span>
<span class="sd">        .. warning:: nsm field not supported fully on PBEAM3 card</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">nsm</span></div>

<div class="viewcode-block" id="PBEAM3.cross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBEAM3.cross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">cross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">BDF</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Cross links the card so referenced cards can be extracted directly</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        model : BDF()</span>
<span class="sd">            the BDF object</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;, which is required by PBEAM3 mid=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">mid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mid_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">Material</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mid</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span></div>

<div class="viewcode-block" id="PBEAM3.uncross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBEAM3.uncross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">uncross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Removes cross-reference links&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Mid</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mid_ref</span> <span class="o">=</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="PBEAM3.raw_fields"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBEAM3.raw_fields">[docs]</a>    <span class="k">def</span> <span class="nf">raw_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">list_fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;PBEAM3&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Mid</span><span class="p">()]</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">soi</span><span class="p">,</span> <span class="n">ai</span><span class="p">,</span> <span class="n">iz</span><span class="p">,</span> <span class="n">iy</span><span class="p">,</span> <span class="n">iyz</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">nsm</span><span class="p">,</span> <span class="n">cy</span><span class="p">,</span> <span class="n">cz</span><span class="p">,</span> <span class="n">dy</span><span class="p">,</span> <span class="n">dz</span><span class="p">,</span> <span class="n">ey</span><span class="p">,</span> <span class="n">ez</span><span class="p">,</span> <span class="n">fy</span><span class="p">,</span> <span class="n">fz</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span>
                <span class="n">count</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">so</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">A</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">iz</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">iy</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">iyz</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">j</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nsm</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">cy</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">cz</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dy</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dz</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ey</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ez</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fy</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fz</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">list_fields</span> <span class="o">+=</span> <span class="p">[</span>
                    <span class="n">ai</span><span class="p">,</span> <span class="n">iz</span><span class="p">,</span> <span class="n">iy</span><span class="p">,</span> <span class="n">iyz</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">nsm</span><span class="p">,</span>
                    <span class="n">cy</span><span class="p">,</span> <span class="n">cz</span><span class="p">,</span> <span class="n">dy</span><span class="p">,</span> <span class="n">dz</span><span class="p">,</span> <span class="n">ey</span><span class="p">,</span> <span class="n">ez</span><span class="p">,</span> <span class="n">fy</span><span class="p">,</span> <span class="n">fz</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">list_fields</span> <span class="o">+=</span> <span class="p">[</span>
                    <span class="n">soi</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span>
                    <span class="n">ai</span><span class="p">,</span> <span class="n">iz</span><span class="p">,</span> <span class="n">iy</span><span class="p">,</span> <span class="n">iyz</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">nsm</span><span class="p">,</span>
                    <span class="n">cy</span><span class="p">,</span> <span class="n">cz</span><span class="p">,</span> <span class="n">dy</span><span class="p">,</span> <span class="n">dz</span><span class="p">,</span> <span class="n">ey</span><span class="p">,</span> <span class="n">ez</span><span class="p">,</span> <span class="n">fy</span><span class="p">,</span> <span class="n">fz</span><span class="p">]</span>

        <span class="c1">#KY KZ NY(A) NZ(A) NY(B) NZ(B) NY(C) NZ(C)</span>
        <span class="c1">#MY(A) MZ(A) MY(B) MZ(B) MY(C) MZ(C) NSIY(A) NSIZ(A)</span>
        <span class="c1">#NSIYZ(A) NSIY(B) NSIZ(B) NSIYZ(B) NSIY(C) NSIZ(C) NSIYZ(C) CW(A)</span>
        <span class="c1">#CW(B) CW(C) STRESS</span>
        <span class="n">list_fields</span> <span class="o">+=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">ky</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">kz</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">ny</span><span class="p">,</span> <span class="n">nz</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ny</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nz</span><span class="p">):</span>
            <span class="n">list_fields</span> <span class="o">+=</span> <span class="p">[</span><span class="n">ny</span><span class="p">,</span> <span class="n">nz</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">my</span><span class="p">,</span> <span class="n">mz</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">my</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">mz</span><span class="p">):</span>
            <span class="n">list_fields</span> <span class="o">+=</span> <span class="p">[</span><span class="n">my</span><span class="p">,</span> <span class="n">mz</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">nsiy</span><span class="p">,</span> <span class="n">nsiz</span><span class="p">,</span> <span class="n">nsiyz</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nsiy</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nsiz</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nsiyz</span><span class="p">):</span>
            <span class="n">list_fields</span> <span class="o">+=</span> <span class="p">[</span><span class="n">nsiy</span><span class="p">,</span> <span class="n">nsiz</span><span class="p">,</span> <span class="n">nsiyz</span><span class="p">]</span>

        <span class="n">list_fields</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cw</span>
        <span class="n">list_fields</span> <span class="o">+=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">stress</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span>

        <span class="c1">#WC(A) WYC(A) WZC(A) WD(A) WYD(A) WZD(A) WE(A) WYE(A)</span>
        <span class="c1">#WZE(A) WF(A)) WYF(A) WZF(A)</span>
        <span class="k">for</span> <span class="n">w</span><span class="p">,</span> <span class="n">wy</span><span class="p">,</span> <span class="n">wz</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">w</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">wy</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">wz</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">wi</span><span class="p">,</span> <span class="n">wyi</span><span class="p">,</span> <span class="n">wzi</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">wy</span><span class="p">,</span> <span class="n">wz</span><span class="p">):</span>
                <span class="n">list_fields</span> <span class="o">+=</span> <span class="p">[</span><span class="n">wi</span><span class="p">,</span> <span class="n">wyi</span><span class="p">,</span> <span class="n">wzi</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">list_fields</span></div>

<div class="viewcode-block" id="PBEAM3.write_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBEAM3.write_card">[docs]</a>    <span class="k">def</span> <span class="nf">write_card</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">is_double</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">card</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">repr_fields</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">size</span> <span class="o">==</span> <span class="mi">8</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">print_card_8</span><span class="p">(</span><span class="n">card</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">print_card_16</span><span class="p">(</span><span class="n">card</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="PBEND"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBEND">[docs]</a><span class="k">class</span> <span class="nc">PBEND</span><span class="p">(</span><span class="n">LineProperty</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    MSC/NX Option A</span>

<span class="sd">    +-------+------+-------+-----+----+----+--------+----+--------+</span>
<span class="sd">    |   1   |   2  |   3   |  4  |  5 |  6 |   7    |  7 |    8   |</span>
<span class="sd">    +=======+======+=======+=====+====+====+========+====+========+</span>
<span class="sd">    | PBEND | PID  |  MID  | A   | I1 | I2 |   J    | RB | THETAB |</span>
<span class="sd">    +-------+------+-------+-----+----+----+--------+----+--------+</span>
<span class="sd">    |       |  C1  |  C2   | D1  | D2 | E1 |   E2   | F1 |   F2   |</span>
<span class="sd">    +-------+------+-------+-----+----+----+--------+----+--------+</span>
<span class="sd">    |       |  K1  |  K2   | NSM | RC | ZC | DELTAN |    |        |</span>
<span class="sd">    +-------+------+-------+-----+----+----+--------+----+--------+</span>

<span class="sd">    MSC Option B</span>

<span class="sd">    +-------+------+-------+-----+----+----+--------+----+--------+</span>
<span class="sd">    |   1   |   2  |   3   |  4  |  5 |  6 |   7    |  7 |    8   |</span>
<span class="sd">    +=======+======+=======+=====+====+====+========+====+========+</span>
<span class="sd">    | PBEND | PID  |  MID  | FSI | RM | T  |   P    | RB | THETAB |</span>
<span class="sd">    +-------+------+-------+-----+----+----+--------+----+--------+</span>
<span class="sd">    |       |      |       | NSM | RC | ZC |        |    |        |</span>
<span class="sd">    +-------+------+-------+-----+----+----+--------+----+--------+</span>

<span class="sd">    NX Option B</span>

<span class="sd">    +-------+------+-------+-----+----+----+--------+----+--------+</span>
<span class="sd">    |   1   |   2  |   3   |  4  |  5 |  6 |   7    |  7 |    8   |</span>
<span class="sd">    +=======+======+=======+=====+====+====+========+====+========+</span>
<span class="sd">    | PBEND | PID  |  MID  | FSI | RM | T  |   P    | RB | THETAB |</span>
<span class="sd">    +-------+------+-------+-----+----+----+--------+----+--------+</span>
<span class="sd">    |       | SACL | ALPHA | NSM | RC | ZC | FLANGE |    |        |</span>
<span class="sd">    +-------+------+-------+-----+----+----+--------+----+--------+</span>
<span class="sd">    |       |  KX  |  KY   | KZ  |    | SY |   SZ   |    |        |</span>
<span class="sd">    +-------+------+-------+-----+----+----+--------+----+--------+</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">type</span> <span class="o">=</span> <span class="s1">&#39;PBEND&#39;</span>

<div class="viewcode-block" id="PBEND._init_from_empty"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBEND._init_from_empty">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_init_from_empty</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">mid</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">fsi</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">rm</span> <span class="o">=</span> <span class="mf">0.1</span>
        <span class="n">t</span> <span class="o">=</span> <span class="mf">0.01</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">add_beam_type_2</span><span class="p">(</span><span class="n">pid</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span>
                                   <span class="n">fsi</span><span class="p">,</span> <span class="n">rm</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">rb</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">theta_b</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                                   <span class="n">nsm</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">rc</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">zc</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">A</span><span class="p">,</span> <span class="n">i1</span><span class="p">,</span> <span class="n">i2</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span>
                 <span class="n">c1</span><span class="p">,</span> <span class="n">c2</span><span class="p">,</span> <span class="n">d1</span><span class="p">,</span> <span class="n">d2</span><span class="p">,</span> <span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">,</span> <span class="n">f1</span><span class="p">,</span> <span class="n">f2</span><span class="p">,</span> <span class="n">k1</span><span class="p">,</span> <span class="n">k2</span><span class="p">,</span>
                 <span class="n">nsm</span><span class="p">,</span> <span class="n">rc</span><span class="p">,</span> <span class="n">zc</span><span class="p">,</span> <span class="n">delta_n</span><span class="p">,</span> <span class="n">fsi</span><span class="p">,</span> <span class="n">rm</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span>
                 <span class="n">rb</span><span class="p">,</span> <span class="n">theta_b</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="n">LineProperty</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">comment</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">=</span> <span class="n">comment</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pid</span> <span class="o">=</span> <span class="n">pid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mid</span> <span class="o">=</span> <span class="n">mid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">beam_type</span> <span class="o">=</span> <span class="n">beam_type</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">A</span> <span class="o">=</span> <span class="n">A</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">i1</span> <span class="o">=</span> <span class="n">i1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">i2</span> <span class="o">=</span> <span class="n">i2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">j</span> <span class="o">=</span> <span class="n">j</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">c1</span> <span class="o">=</span> <span class="n">c1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">c2</span> <span class="o">=</span> <span class="n">c2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">d1</span> <span class="o">=</span> <span class="n">d1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">d2</span> <span class="o">=</span> <span class="n">d2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">e1</span> <span class="o">=</span> <span class="n">e1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">e2</span> <span class="o">=</span> <span class="n">e2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">f1</span> <span class="o">=</span> <span class="n">f1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">f2</span> <span class="o">=</span> <span class="n">f2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">k1</span> <span class="o">=</span> <span class="n">k1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">k2</span> <span class="o">=</span> <span class="n">k2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nsm</span> <span class="o">=</span> <span class="n">nsm</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rc</span> <span class="o">=</span> <span class="n">rc</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">zc</span> <span class="o">=</span> <span class="n">zc</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delta_n</span> <span class="o">=</span> <span class="n">delta_n</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fsi</span> <span class="o">=</span> <span class="n">fsi</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rm</span> <span class="o">=</span> <span class="n">rm</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">t</span> <span class="o">=</span> <span class="n">t</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">p</span> <span class="o">=</span> <span class="n">p</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rb</span> <span class="o">=</span> <span class="n">rb</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">theta_b</span> <span class="o">=</span> <span class="n">theta_b</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mid_ref</span> <span class="o">=</span> <span class="kc">None</span>

<div class="viewcode-block" id="PBEND.add_beam_type_1"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBEND.add_beam_type_1">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">add_beam_type_1</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span>
                        <span class="n">A</span><span class="p">,</span> <span class="n">i1</span><span class="p">,</span> <span class="n">i2</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span>
                        <span class="n">rb</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">theta_b</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                        <span class="n">c1</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">c2</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">d1</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">d2</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">e1</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">e2</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">f1</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">f2</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span>
                        <span class="n">k1</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">k2</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                        <span class="n">nsm</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">rc</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">zc</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">delta_n</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        +-------+------+-------+-----+----+----+--------+----+--------+</span>
<span class="sd">        |   1   |   2  |   3   |  4  |  5 |  6 |   7    |  7 |    8   |</span>
<span class="sd">        +=======+======+=======+=====+====+====+========+====+========+</span>
<span class="sd">        | PBEND | PID  |  MID  | A   | I1 | I2 |   J    | RB | THETAB |</span>
<span class="sd">        +-------+------+-------+-----+----+----+--------+----+--------+</span>
<span class="sd">        |       |  C1  |  C2   | D1  | D2 | E1 |   E2   | F1 |   F2   |</span>
<span class="sd">        +-------+------+-------+-----+----+----+--------+----+--------+</span>
<span class="sd">        |       |  K1  |  K2   | NSM | RC | ZC | DELTAN |    |        |</span>
<span class="sd">        +-------+------+-------+-----+----+----+--------+----+--------+</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        A : float</span>
<span class="sd">            cross-sectional area</span>
<span class="sd">        i1, i2 : float</span>
<span class="sd">            area moments of inertia for plane 1/2</span>
<span class="sd">        j : float</span>
<span class="sd">            torsional stiffness</span>
<span class="sd">        rb : float; default=None</span>
<span class="sd">            bend radius of the line of centroids</span>
<span class="sd">        theta_b : float; default=None</span>
<span class="sd">            arc angle of element (degrees)</span>
<span class="sd">        c1, c2, d1, d2, e1, e2, f1, f2 : float; default=0.0</span>
<span class="sd">            the r/z locations from the geometric centroid for stress recovery</span>
<span class="sd">        k1, k2 : float; default=None</span>
<span class="sd">            Shear stiffness factor K in K*A*G for plane 1 and plane 2</span>
<span class="sd">        nsm : float; default=0.</span>
<span class="sd">            nonstructural mass per unit length???</span>
<span class="sd">        zc : float; default=None</span>
<span class="sd">            Offset of the geometric centroid in a direction perpendicular to</span>
<span class="sd">            the plane of points GA and GB and vector v.</span>
<span class="sd">        delta_n : float; default=None</span>
<span class="sd">            Radial offset of the neutral axis from the geometric centroid,</span>
<span class="sd">            positive is toward the center of curvature</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">beam_type</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">fsi</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">rm</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">t</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">p</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">PBEND</span><span class="p">(</span><span class="n">pid</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">A</span><span class="p">,</span> <span class="n">i1</span><span class="p">,</span> <span class="n">i2</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span>
                     <span class="n">c1</span><span class="p">,</span> <span class="n">c2</span><span class="p">,</span> <span class="n">d1</span><span class="p">,</span> <span class="n">d2</span><span class="p">,</span> <span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">,</span> <span class="n">f1</span><span class="p">,</span> <span class="n">f2</span><span class="p">,</span> <span class="n">k1</span><span class="p">,</span> <span class="n">k2</span><span class="p">,</span>
                     <span class="n">nsm</span><span class="p">,</span> <span class="n">rc</span><span class="p">,</span> <span class="n">zc</span><span class="p">,</span> <span class="n">delta_n</span><span class="p">,</span> <span class="n">fsi</span><span class="p">,</span> <span class="n">rm</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">rb</span><span class="p">,</span> <span class="n">theta_b</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span></div>

<div class="viewcode-block" id="PBEND.add_beam_type_2"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBEND.add_beam_type_2">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">add_beam_type_2</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span>
                        <span class="n">fsi</span><span class="p">,</span> <span class="n">rm</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">rb</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">theta_b</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                        <span class="n">nsm</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">rc</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">zc</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        +-------+------+-------+-----+----+----+--------+----+--------+</span>
<span class="sd">        |   1   |   2  |   3   |  4  |  5 |  6 |   7    |  7 |    8   |</span>
<span class="sd">        +=======+======+=======+=====+====+====+========+====+========+</span>
<span class="sd">        | PBEND | PID  |  MID  | FSI | RM | T  |   P    | RB | THETAB |</span>
<span class="sd">        +-------+------+-------+-----+----+----+--------+----+--------+</span>
<span class="sd">        |       |      |       | NSM | RC | ZC |        |    |        |</span>
<span class="sd">        +-------+------+-------+-----+----+----+--------+----+--------+</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        fsi : int</span>
<span class="sd">            Flag selecting the flexibility and stress intensification</span>
<span class="sd">            factors. See Remark 3. (Integer = 1, 2, or 3)</span>
<span class="sd">        rm : float</span>
<span class="sd">            Mean cross-sectional radius of the curved pipe</span>
<span class="sd">        t : float</span>
<span class="sd">            Wall thickness of the curved pipe</span>
<span class="sd">        p : float; default=None</span>
<span class="sd">            Internal pressure</span>
<span class="sd">        rb : float; default=None</span>
<span class="sd">            bend radius of the line of centroids</span>
<span class="sd">        theta_b : float; default=None</span>
<span class="sd">            arc angle of element (degrees)</span>
<span class="sd">        nsm : float; default=0.</span>
<span class="sd">            nonstructural mass per unit length???</span>
<span class="sd">        rc : float; default=None</span>
<span class="sd">            Radial offset of the geometric centroid from points GA and GB.</span>
<span class="sd">        zc : float; default=None</span>
<span class="sd">            Offset of the geometric centroid in a direction perpendicular</span>
<span class="sd">            to the plane of points GA and GB and vector v</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">beam_type</span> <span class="o">=</span> <span class="mi">2</span>
        <span class="n">A</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">i1</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">i2</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">j</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">c1</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">c2</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">d1</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">d2</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">e1</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">e2</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">f1</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">f2</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">k1</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">k2</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">delta_n</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">PBEND</span><span class="p">(</span><span class="n">pid</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">A</span><span class="p">,</span> <span class="n">i1</span><span class="p">,</span> <span class="n">i2</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span>
                     <span class="n">c1</span><span class="p">,</span> <span class="n">c2</span><span class="p">,</span> <span class="n">d1</span><span class="p">,</span> <span class="n">d2</span><span class="p">,</span> <span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">,</span> <span class="n">f1</span><span class="p">,</span> <span class="n">f2</span><span class="p">,</span> <span class="n">k1</span><span class="p">,</span> <span class="n">k2</span><span class="p">,</span>
                     <span class="n">nsm</span><span class="p">,</span> <span class="n">rc</span><span class="p">,</span> <span class="n">zc</span><span class="p">,</span> <span class="n">delta_n</span><span class="p">,</span> <span class="n">fsi</span><span class="p">,</span> <span class="n">rm</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">rb</span><span class="p">,</span> <span class="n">theta_b</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span></div>

    <span class="c1">#@classmethod</span>
    <span class="c1">#def add_beam_type_3(cls, pid, mid,</span>
                        <span class="c1">#fsi, rm, t, p, rb, theta_b,</span>
                        <span class="c1">##sacl, alpha, nsm, rc, zc, flange, kx, ky, kz, sy, sz,</span>
                        <span class="c1">#comment=&#39;&#39;):</span>
        <span class="c1">#&quot;&quot;&quot;</span>
        <span class="c1">#+-------+------+-------+-----+----+----+--------+----+--------+</span>
        <span class="c1">#|   1   |   2  |   3   |  4  |  5 |  6 |   7    |  7 |    8   |</span>
        <span class="c1">#+=======+======+=======+=====+====+====+========+====+========+</span>
        <span class="c1">#| PBEND | PID  |  MID  | FSI | RM | T  |   P    | RB | THETAB |</span>
        <span class="c1">#+-------+------+-------+-----+----+----+--------+----+--------+</span>
        <span class="c1">#|       | SACL | ALPHA | NSM | RC | ZC | FLANGE |    |        |</span>
        <span class="c1">#+-------+------+-------+-----+----+----+--------+----+--------+</span>
        <span class="c1">#|       |  KX  |  KY   | KZ  |    | SY |   SZ   |    |        |</span>
        <span class="c1">#+-------+------+-------+-----+----+----+--------+----+--------+</span>
        <span class="c1">#&quot;&quot;&quot;</span>
        <span class="c1">#beam_type = 3</span>
        <span class="c1">#A = None</span>
        <span class="c1">#i1 = None</span>
        <span class="c1">#i2 = None</span>
        <span class="c1">#j = None</span>
        <span class="c1">#c1 = None</span>
        <span class="c1">#c2 = None</span>
        <span class="c1">#d1 = None</span>
        <span class="c1">#d2 = None</span>
        <span class="c1">#e1 = None</span>
        <span class="c1">#e2 = None</span>
        <span class="c1">#f1 = None</span>
        <span class="c1">#f2 = None</span>
        <span class="c1">#k1 = None</span>
        <span class="c1">#k2 = None</span>
        <span class="c1">#rc = None</span>
        <span class="c1">#zc = None</span>
        <span class="c1">#nsm = None</span>
        <span class="c1">#delta_n = None</span>
        <span class="c1">#return PBEND(pid, mid, beam_type, A, i1, i2, j,</span>
                     <span class="c1">#c1, c2, d1, d2, e1, e2, f1, f2, k1, k2,</span>
                     <span class="c1">#nsm, rc, zc, delta_n, fsi, rm, t, p, rb, theta_b, comment=comment)</span>

<div class="viewcode-block" id="PBEND.add_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBEND.add_card">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">add_card</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">card</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a PBEND card from ``BDF.add_card(...)``</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        card : BDFCard()</span>
<span class="sd">            a BDFCard object</span>
<span class="sd">        comment : str; default=&#39;&#39;</span>
<span class="sd">            a comment for the card</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;pid&#39;</span><span class="p">)</span>
        <span class="n">mid</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;mid&#39;</span><span class="p">)</span>

        <span class="n">value3</span> <span class="o">=</span> <span class="n">integer_or_double</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;Area/FSI&#39;</span><span class="p">)</span>
        <span class="c1">#print(&quot;PBEND: area/fsi=%s&quot; % value3)</span>

        <span class="c1"># MSC/NX option A</span>
        <span class="n">A</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">i1</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">i2</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">j</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">c1</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">c2</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">d1</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">d2</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">e1</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">e2</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">f1</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">f2</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">k1</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">k2</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">delta_n</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="c1"># MSC option B</span>
        <span class="n">rm</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">t</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">p</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="c1"># NX option B</span>
        <span class="c1">#sacl = None</span>
        <span class="c1">#alpha = None</span>
        <span class="c1">#flange = None</span>
        <span class="c1">#kx = None</span>
        <span class="c1">#ky = None</span>
        <span class="c1">#kz = None</span>
        <span class="c1">#sy = None</span>
        <span class="c1">#sz = None</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value3</span><span class="p">,</span> <span class="nb">float</span><span class="p">):</span>
            <span class="n">fsi</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">beam_type</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="c1">#: Area of the beam cross section</span>
            <span class="n">A</span> <span class="o">=</span> <span class="n">double</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span><span class="p">)</span>

            <span class="c1">#: Area moments of inertia in planes 1 and 2.</span>
            <span class="n">i1</span> <span class="o">=</span> <span class="n">double</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;I1&#39;</span><span class="p">)</span>
            <span class="n">i2</span> <span class="o">=</span> <span class="n">double</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;I2&#39;</span><span class="p">)</span>

            <span class="c1">#: Torsional stiffness :math:`J`</span>
            <span class="n">j</span> <span class="o">=</span> <span class="n">double</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;J&#39;</span><span class="p">)</span>

            <span class="c1"># line2</span>
            <span class="c1">#: The r,z locations from the geometric centroid for stress</span>
            <span class="c1">#: data recovery.</span>
            <span class="n">c1</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="s1">&#39;c1&#39;</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>
            <span class="n">c2</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;c2&#39;</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>
            <span class="n">d1</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="s1">&#39;d1&#39;</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>
            <span class="n">d2</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="s1">&#39;d2&#39;</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>
            <span class="n">e1</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="s1">&#39;e1&#39;</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>
            <span class="n">e2</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="s1">&#39;e2&#39;</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>
            <span class="n">f1</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="s1">&#39;f1&#39;</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>
            <span class="n">f2</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="s1">&#39;f2&#39;</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>

            <span class="c1"># line 3</span>
            <span class="c1">#: Shear stiffness factor K in K*A*G for plane 1.</span>
            <span class="n">k1</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="s1">&#39;k1&#39;</span><span class="p">)</span>
            <span class="c1">#: Shear stiffness factor K in K*A*G for plane 2.</span>
            <span class="n">k2</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="s1">&#39;k2&#39;</span><span class="p">)</span>

            <span class="c1">#: Nonstructural mass per unit length.</span>
            <span class="n">nsm</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="s1">&#39;nsm&#39;</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>

            <span class="c1">#: Radial offset of the geometric centroid from points GA and GB.</span>
            <span class="n">rc</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="s1">&#39;rc&#39;</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>

            <span class="c1">#: Offset of the geometric centroid in a direction perpendicular</span>
            <span class="c1">#: to the plane of points GA and GB and vector v</span>
            <span class="n">zc</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="s1">&#39;zc&#39;</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>

            <span class="c1">#: Radial offset of the neutral axis from the geometric</span>
            <span class="c1">#: centroid, positive is toward the center of curvature</span>
            <span class="n">delta_n</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="s1">&#39;delta_n&#39;</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value3</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>  <span class="c1"># alternate form</span>
            <span class="n">beam_type</span> <span class="o">=</span> <span class="mi">2</span>
            <span class="c1">#: Flag selecting the flexibility and stress intensification</span>
            <span class="c1">#: factors. See Remark 3. (Integer = 1, 2, or 3)</span>
            <span class="n">fsi</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;fsi&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">fsi</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]:</span>
                <span class="c1"># assuming MSC</span>
                <span class="c1">#: Mean cross-sectional radius of the curved pipe</span>
                <span class="n">rm</span> <span class="o">=</span> <span class="n">double</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;rm&#39;</span><span class="p">)</span>

                <span class="c1">#: Wall thickness of the curved pipe</span>
                <span class="n">t</span> <span class="o">=</span> <span class="n">double</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">)</span>

                <span class="c1">#: Internal pressure</span>
                <span class="n">p</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">)</span>

                <span class="c1"># line3</span>
                <span class="c1"># Non-structural mass :math:`nsm`</span>
                <span class="n">nsm</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="s1">&#39;nsm&#39;</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>
                <span class="n">rc</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="s1">&#39;rc&#39;</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>
                <span class="n">zc</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="s1">&#39;zc&#39;</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">fsi</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]:</span>
                <span class="c1"># Non-structural mass :math:`nsm`</span>
                <span class="n">nsm</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="s1">&#39;nsm&#39;</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>
                <span class="n">rc</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="s1">&#39;rc&#39;</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>
                <span class="n">zc</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="s1">&#39;zc&#39;</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>

                <span class="c1">#sacl = double_or_blank(card, 9, &#39;sacl&#39;)</span>
                <span class="c1">#alpha = double_or_blank(card, 10, &#39;alpha&#39;, 0.)</span>
                <span class="c1">#flange = integer_or_blank(card, 15, &#39;flange&#39;, 0)</span>
                <span class="c1">#kx = double_or_blank(card, 18, &#39;kx&#39;, 1.0)</span>
                <span class="c1">#ky = double_or_blank(card, 19, &#39;ky&#39;, 1.0)</span>
                <span class="c1">#kz = double_or_blank(card, 20, &#39;kz&#39;, 1.0)</span>
                <span class="c1">#sy = double_or_blank(card, 22, &#39;sy&#39;, 1.0)</span>
                <span class="c1">#sz = double_or_blank(card, 23, &#39;sz&#39;, 1.0)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">assert</span> <span class="n">fsi</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="s1">&#39;pid=</span><span class="si">%s</span><span class="s1"> fsi=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">card:</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">pid</span><span class="p">,</span> <span class="n">fsi</span><span class="p">,</span> <span class="n">card</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s1">&#39;Area/FSI on CBEND must be defined...&#39;</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">fsi</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="s1">&#39;pid=</span><span class="si">%s</span><span class="s1"> fsi=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">card:</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">pid</span><span class="p">,</span> <span class="n">fsi</span><span class="p">,</span> <span class="n">card</span><span class="p">)</span>

        <span class="c1">#: Bend radius of the line of centroids</span>
        <span class="n">rb</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span>

        <span class="c1">#: Arc angle :math:`\theta_B` of element  (optional)</span>
        <span class="n">theta_b</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;thetab&#39;</span><span class="p">)</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">card</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">23</span><span class="p">,</span> <span class="s1">&#39;len(PBEND card) = </span><span class="si">%i</span><span class="se">\n</span><span class="s1">card=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">card</span><span class="p">),</span> <span class="n">card</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">PBEND</span><span class="p">(</span><span class="n">pid</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">beam_type</span><span class="p">,</span> <span class="n">A</span><span class="p">,</span> <span class="n">i1</span><span class="p">,</span> <span class="n">i2</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">c1</span><span class="p">,</span> <span class="n">c2</span><span class="p">,</span> <span class="n">d1</span><span class="p">,</span> <span class="n">d2</span><span class="p">,</span>
                     <span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">,</span> <span class="n">f1</span><span class="p">,</span> <span class="n">f2</span><span class="p">,</span> <span class="n">k1</span><span class="p">,</span> <span class="n">k2</span><span class="p">,</span> <span class="n">nsm</span><span class="p">,</span>
                     <span class="n">rc</span><span class="p">,</span> <span class="n">zc</span><span class="p">,</span> <span class="n">delta_n</span><span class="p">,</span> <span class="n">fsi</span><span class="p">,</span> <span class="n">rm</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span>
                     <span class="n">p</span><span class="p">,</span> <span class="n">rb</span><span class="p">,</span> <span class="n">theta_b</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span></div>

<div class="viewcode-block" id="PBEND.validate"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBEND.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;card checking method&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">delta_n</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delta_n</span><span class="p">,</span> <span class="n">float_types</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s1">&#39;delta_n=</span><span class="si">%r</span><span class="s1"> must be None or a float; type=</span><span class="si">%s</span><span class="s1">; fsi=</span><span class="si">%s</span><span class="se">\n</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">delta_n</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delta_n</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">fsi</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)))</span></div>

    <span class="c1">#def Nsm(self):</span>
        <span class="c1">#&quot;&quot;&quot;.. warning:: nsm field not supported fully on PBEND card&quot;&quot;&quot;</span>
        <span class="c1">#raise RuntimeError(self.nsm[0])</span>
        <span class="c1">#return self.nsm</span>

<div class="viewcode-block" id="PBEND.cross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBEND.cross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">cross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">BDF</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Cross links the card so referenced cards can be extracted directly</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        model : BDF()</span>
<span class="sd">            the BDF object</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;, which is required by PBEND mid=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">mid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mid_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">Material</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mid</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span></div>

<div class="viewcode-block" id="PBEND.uncross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBEND.uncross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">uncross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Removes cross-reference links&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Mid</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mid_ref</span> <span class="o">=</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="PBEND.MassPerLength"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBEND.MassPerLength">[docs]</a>    <span class="k">def</span> <span class="nf">MassPerLength</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;m/L = rho*A + nsm&quot;&quot;&quot;</span>
        <span class="n">rho</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mid_ref</span><span class="o">.</span><span class="n">Rho</span><span class="p">()</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">A</span><span class="p">,</span> <span class="nb">float</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_stats</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">A</span> <span class="o">*</span> <span class="n">rho</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">nsm</span></div>

<div class="viewcode-block" id="PBEND.raw_fields"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBEND.raw_fields">[docs]</a>    <span class="k">def</span> <span class="nf">raw_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">repr_fields</span><span class="p">()</span></div>

<div class="viewcode-block" id="PBEND.repr_fields"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBEND.repr_fields">[docs]</a>    <span class="k">def</span> <span class="nf">repr_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">list_fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;PBEND&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Mid</span><span class="p">(),</span> <span class="p">]</span>  <span class="c1"># other</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">beam_type</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">list_fields</span> <span class="o">+=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">A</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">i1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">i2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">j</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rb</span><span class="p">,</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">theta_b</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">c1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">c2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">d1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">d2</span><span class="p">,</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">e1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">e2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">f1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">f2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">k1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">k2</span><span class="p">,</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">nsm</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rc</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">zc</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">delta_n</span><span class="p">]</span>
            <span class="c1">#print(&quot;beam_type=0 I1=%s I2=%s; J=%s RM=%s T=%s P=%s&quot; % (</span>
                <span class="c1">#self.i1, self.i2, self.j, self.rm, self.t, self.p), list_fields)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">beam_type</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">list_fields</span> <span class="o">+=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">fsi</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rm</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">t</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">p</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rb</span><span class="p">,</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">theta_b</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nsm</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rc</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">zc</span><span class="p">]</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">beam_type</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="c1"># dunno</span>
            <span class="n">list_fields</span> <span class="o">+=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">A</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">i1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">i2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">j</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rb</span><span class="p">,</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">theta_b</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">c1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">c2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">d1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">d2</span><span class="p">,</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">e1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">e2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">f1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">f2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">k1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">k2</span><span class="p">,</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">nsm</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rc</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">zc</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">delta_n</span><span class="p">]</span>
            <span class="c1">#print(&quot;beam_type=0 I1=%s I2=%s; J=%s RM=%s T=%s P=%s&quot; % (</span>
                <span class="c1">#self.i1, self.i2, self.j, self.rm, self.t, self.p), list_fields)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;only beam_type=1 and 2 supported; beam_type/fsi=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">beam_type</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">list_fields</span></div>

<div class="viewcode-block" id="PBEND.write_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.PBEND.write_card">[docs]</a>    <span class="k">def</span> <span class="nf">write_card</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">is_double</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">card</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">repr_fields</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">size</span> <span class="o">==</span> <span class="mi">8</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">print_card_8</span><span class="p">(</span><span class="n">card</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">print_card_16</span><span class="p">(</span><span class="n">card</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="split_arbitrary_thickness_section"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.split_arbitrary_thickness_section">[docs]</a><span class="k">def</span> <span class="nf">split_arbitrary_thickness_section</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="c1"># type: (str, Union[str, float, List[int]]) -&gt; Tuple[int, Union[float, List[int]]]</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Helper method for PBRSECT/PBMSECT</span>

<span class="sd">    &gt;&gt;&gt; key = &#39;T(11)&#39;</span>
<span class="sd">    &gt;&gt;&gt; value = &#39;[1.2,PT=(123,204)]&#39;</span>
<span class="sd">    &gt;&gt;&gt; index, out = split_arbitrary_thickness_section(key, value)</span>
<span class="sd">    &gt;&gt;&gt; index</span>
<span class="sd">    11</span>
<span class="sd">    &gt;&gt;&gt; out</span>
<span class="sd">    [1.2, [123, 204]]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="n">key</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;)&#39;</span><span class="p">),</span> <span class="s1">&#39;key=</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">key</span>
    <span class="c1"># T(3), CORE(3)</span>
    <span class="n">key_id</span> <span class="o">=</span> <span class="n">key</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;(&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">key_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">key_id</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">)):</span>
        <span class="k">return</span> <span class="n">key_id</span><span class="p">,</span> <span class="n">value</span>

    <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="s1">&#39;PT&#39;</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
        <span class="n">bracketed_values</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;[]&#39;</span><span class="p">)</span>
        <span class="n">sline</span> <span class="o">=</span> <span class="n">bracketed_values</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">thicknessi</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">sline</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">pt_value</span> <span class="o">=</span> <span class="n">sline</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">pt_value</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;PT&#39;</span><span class="p">,</span> <span class="n">pt_value</span>
        <span class="n">points</span> <span class="o">=</span> <span class="n">pt_value</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;()&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">points</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">,</span> <span class="n">pt_value</span>
        <span class="n">int_points</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">pointi</span><span class="p">)</span> <span class="k">for</span> <span class="n">pointi</span> <span class="ow">in</span> <span class="n">points</span><span class="p">]</span>
        <span class="n">out</span> <span class="o">=</span> <span class="p">[</span><span class="n">thicknessi</span><span class="p">,</span> <span class="n">int_points</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">out</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">key_id</span><span class="p">,</span> <span class="n">out</span></div>


<div class="viewcode-block" id="get_beam_sections"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.get_beam_sections">[docs]</a><span class="k">def</span> <span class="nf">get_beam_sections</span><span class="p">(</span><span class="n">line</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Splits a PBRSECT/PBMSECT line</span>

<span class="sd">    &gt;&gt;&gt; line = &#39;OUTP=10,BRP=20,T=1.0,T(11)=[1.2,PT=(123,204)], NSM=0.01&#39;</span>
<span class="sd">    &gt;&gt;&gt; sections = get_beam_sections(line)</span>
<span class="sd">    &gt;&gt;&gt; sections</span>
<span class="sd">    [&#39;OUTP=10&#39;, &#39;BRP=20&#39;, &#39;T=1.0&#39;, &#39;T(11)=[1.2,PT=(123,204)&#39;, &#39;NSM=0.01&#39;], sections</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
    <span class="n">words</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">i0</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">nopen_parantheses</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">nopen_brackets</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">line</span><span class="p">):</span>
        <span class="n">char</span> <span class="o">=</span> <span class="n">line</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">char</span> <span class="o">==</span> <span class="s1">&#39;(&#39;</span><span class="p">:</span>
            <span class="n">nopen_parantheses</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">char</span> <span class="o">==</span> <span class="s1">&#39;)&#39;</span><span class="p">:</span>
            <span class="n">nopen_parantheses</span> <span class="o">-=</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">char</span> <span class="o">==</span> <span class="s1">&#39;[&#39;</span><span class="p">:</span>
            <span class="n">nopen_brackets</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">char</span> <span class="o">==</span> <span class="s1">&#39;]&#39;</span><span class="p">:</span>
            <span class="n">nopen_brackets</span> <span class="o">-=</span> <span class="mi">1</span>

        <span class="k">elif</span> <span class="n">nopen_parantheses</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">nopen_brackets</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">char</span> <span class="o">==</span> <span class="s1">&#39;,&#39;</span><span class="p">:</span>
            <span class="n">word</span> <span class="o">=</span> <span class="n">line</span><span class="p">[</span><span class="n">i0</span><span class="p">:</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
            <span class="n">words</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
            <span class="n">i0</span> <span class="o">=</span> <span class="n">i</span>
        <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">word</span> <span class="o">=</span> <span class="n">line</span><span class="p">[</span><span class="n">i0</span><span class="p">:]</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">word</span><span class="p">:</span>
        <span class="n">words</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">words</span></div>

<div class="viewcode-block" id="write_arbitrary_beam_section"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.write_arbitrary_beam_section">[docs]</a><span class="k">def</span> <span class="nf">write_arbitrary_beam_section</span><span class="p">(</span><span class="n">inps</span><span class="p">,</span> <span class="n">ts</span><span class="p">,</span> <span class="n">branch_paths</span><span class="p">,</span> <span class="n">nsm</span><span class="p">,</span> <span class="n">outp_id</span><span class="p">,</span> <span class="n">core</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;writes the PBRSECT/PBMSECT card&quot;&quot;&quot;</span>
    <span class="n">end</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">dicts</span> <span class="ow">in</span> <span class="p">[(</span><span class="s1">&#39;INP&#39;</span><span class="p">,</span> <span class="n">inps</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="n">ts</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;BRP&#39;</span><span class="p">,</span> <span class="n">branch_paths</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;CORE&#39;</span><span class="p">,</span> <span class="n">core</span><span class="p">)]:</span>
        <span class="k">if</span> <span class="n">dicts</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="c1"># dicts = {int index : int/float value}</span>
        <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">value1</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">dicts</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value1</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
                    <span class="k">for</span> <span class="n">value1i</span> <span class="ow">in</span> <span class="n">value1</span><span class="p">:</span>
                        <span class="n">end</span> <span class="o">+=</span> <span class="s1">&#39;        </span><span class="si">%s</span><span class="s1">=</span><span class="si">%s</span><span class="s1">,</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value1i</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">end</span> <span class="o">+=</span> <span class="s1">&#39;        </span><span class="si">%s</span><span class="s1">=</span><span class="si">%s</span><span class="s1">,</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value1</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value1</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">value1</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">value1</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">,</span> <span class="n">value1</span>
                        <span class="n">thicknessi</span> <span class="o">=</span> <span class="n">value1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                        <span class="n">points</span> <span class="o">=</span> <span class="n">value1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                        <span class="n">end</span> <span class="o">+=</span> <span class="s1">&#39;        </span><span class="si">%s</span><span class="s1">(</span><span class="si">%s</span><span class="s1">)=[</span><span class="si">%s</span><span class="s1">, PT=(</span><span class="si">%s</span><span class="s1">,</span><span class="si">%s</span><span class="s1">)],</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span>
                            <span class="n">key</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">thicknessi</span><span class="p">,</span> <span class="n">points</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">points</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">value1</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span> <span class="n">value1</span>
                        <span class="n">end</span> <span class="o">+=</span> <span class="s1">&#39;        </span><span class="si">%s</span><span class="s1">=</span><span class="si">%s</span><span class="s1">,</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value1</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">end</span> <span class="o">+=</span> <span class="s1">&#39;        </span><span class="si">%s</span><span class="s1">(</span><span class="si">%s</span><span class="s1">)=</span><span class="si">%s</span><span class="s1">,</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">value1</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="p">[(</span><span class="s1">&#39;NSM&#39;</span><span class="p">,</span> <span class="n">nsm</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;outp&#39;</span><span class="p">,</span> <span class="n">outp_id</span><span class="p">),]:</span>
        <span class="k">if</span> <span class="n">value</span><span class="p">:</span>
            <span class="n">end</span> <span class="o">+=</span> <span class="s1">&#39;        </span><span class="si">%s</span><span class="s1">=</span><span class="si">%s</span><span class="s1">,</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">end</span><span class="p">:</span>
        <span class="n">end</span> <span class="o">=</span> <span class="n">end</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
    <span class="k">return</span> <span class="n">end</span></div>

<div class="viewcode-block" id="plot_arbitrary_section"><a class="viewcode-back" href="../../../../../reference/bdf/cards/properties/pyNastran.bdf.cards.properties.bars.html#pyNastran.bdf.cards.properties.bars.plot_arbitrary_section">[docs]</a><span class="k">def</span> <span class="nf">plot_arbitrary_section</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="bp">self</span><span class="p">,</span>
                           <span class="n">inps</span><span class="p">,</span> <span class="n">ts</span><span class="p">,</span> <span class="n">branch_paths</span><span class="p">,</span> <span class="n">nsm</span><span class="p">,</span> <span class="n">outp_ref</span><span class="p">,</span>
                           <span class="n">figure_id</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">show</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;helper for PBRSECT/PBMSECT&quot;&quot;&quot;</span>
    <span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
    <span class="k">if</span> <span class="n">ts</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">ts2</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span> <span class="p">:</span> <span class="n">ts</span><span class="p">[</span><span class="mi">1</span><span class="p">]}</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ts =&#39;</span><span class="p">,</span> <span class="n">ts</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
            <span class="k">raise</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">ts</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">ts2</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">thickness_value</span><span class="p">,</span> <span class="n">section</span> <span class="o">=</span> <span class="n">value</span>
                <span class="n">p1</span><span class="p">,</span> <span class="n">p2</span> <span class="o">=</span> <span class="n">section</span>
                <span class="n">p1</span><span class="p">,</span> <span class="n">p2</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">),</span> <span class="nb">max</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">)</span>
                <span class="n">ts2</span><span class="p">[(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">)]</span> <span class="o">=</span> <span class="n">thickness_value</span>
        <span class="n">ts</span> <span class="o">=</span> <span class="n">ts2</span>

    <span class="k">def</span> <span class="nf">_plot_rectangles</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">sections</span><span class="p">,</span> <span class="n">xy_dict</span><span class="p">,</span> <span class="n">ts</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;helper method for ``plot_arbitrary_section``&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">section</span> <span class="ow">in</span> <span class="n">sections</span><span class="p">:</span>
            <span class="c1">#p1, p2 = section</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">xy_dict</span><span class="p">[</span><span class="n">section</span><span class="p">]</span>
            <span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">y2</span><span class="p">)</span> <span class="o">=</span> <span class="n">out</span>
            <span class="n">dy</span> <span class="o">=</span> <span class="n">y2</span> <span class="o">-</span> <span class="n">y1</span>
            <span class="n">dx</span> <span class="o">=</span> <span class="n">x2</span> <span class="o">-</span> <span class="n">x1</span>
            <span class="n">length</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">dy</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">dx</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
            <span class="n">angle</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arctan2</span><span class="p">(</span><span class="n">dy</span><span class="p">,</span> <span class="n">dx</span><span class="p">)</span>
            <span class="n">angled</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">degrees</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span>

            <span class="n">thickness</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">section</span><span class="p">,</span> <span class="n">ts</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">thickness</span><span class="p">,</span> <span class="nb">float</span><span class="p">),</span> <span class="n">thickness</span>

            <span class="n">width</span> <span class="o">=</span> <span class="n">thickness</span>

            <span class="n">dx_width</span> <span class="o">=</span> <span class="o">+</span><span class="n">width</span> <span class="o">/</span> <span class="mf">2.</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span>
            <span class="n">dy_width</span> <span class="o">=</span> <span class="o">-</span><span class="n">width</span> <span class="o">/</span> <span class="mf">2.</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span>
            <span class="n">xy</span> <span class="o">=</span> <span class="p">(</span><span class="n">x1</span><span class="o">+</span><span class="n">dx_width</span><span class="p">,</span> <span class="n">y1</span><span class="o">+</span><span class="n">dy_width</span><span class="p">)</span>

            <span class="n">rect_height</span> <span class="o">=</span> <span class="n">length</span>
            <span class="n">rect_width</span> <span class="o">=</span> <span class="n">width</span>

            <span class="c1">#print(&#39;dxy_width = (%.2f,%.2f)&#39; % (dx_width, dy_width))</span>
            <span class="c1">#print(&#39;p1,2=(%s, %s) xy=(%.2f,%.2f) t=%s width=%s height=%s angled=%s\n&#39; % (</span>
                <span class="c1">#p1, p2, xy[0], xy[1], thickness, rect_width, rect_height, angled))</span>

            <span class="n">rect</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">Rectangle</span><span class="p">(</span><span class="n">xy</span><span class="p">,</span> <span class="n">rect_height</span><span class="p">,</span> <span class="n">rect_width</span><span class="p">,</span> <span class="n">angle</span><span class="o">=</span><span class="n">angled</span><span class="p">,</span>
                                 <span class="n">fill</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="c1">#, alpha=1.2+0.15*i)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">add_patch</span><span class="p">(</span><span class="n">rect</span><span class="p">)</span>
            <span class="c1">#break</span>

    <span class="k">def</span> <span class="nf">add_to_sections</span><span class="p">(</span><span class="n">sections</span><span class="p">,</span> <span class="n">xy</span><span class="p">,</span> <span class="n">points</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;helper method for ``plot_arbitrary_section``&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">points</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">p1</span> <span class="o">=</span> <span class="n">points</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">p2</span> <span class="o">=</span> <span class="n">points</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">x1</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">x2</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">y1</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">y2</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">p1</span><span class="p">,</span> <span class="n">p2</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">),</span> <span class="nb">max</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">)</span>
            <span class="n">sections</span><span class="o">.</span><span class="n">add</span><span class="p">((</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">))</span>
            <span class="n">xy</span><span class="p">[(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">)]</span> <span class="o">=</span> <span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">y2</span><span class="p">)</span>

    <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figure_id</span><span class="p">)</span>
    <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">,</span> <span class="n">aspect</span><span class="o">=</span><span class="s1">&#39;equal&#39;</span><span class="p">)</span>
    <span class="c1">#print(&#39;outp:\n%s&#39; % outp_ref)</span>
    <span class="n">out_points</span> <span class="o">=</span> <span class="n">outp_ref</span><span class="o">.</span><span class="n">ids</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">form</span> <span class="o">==</span> <span class="s1">&#39;CP&#39;</span> <span class="ow">and</span> <span class="n">out_points</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="n">out_points</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
        <span class="n">out_points</span> <span class="o">=</span> <span class="n">out_points</span> <span class="o">+</span> <span class="p">[</span><span class="n">out_points</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>

    <span class="c1">#out_points_ref = outp_ref.ids_ref</span>
    <span class="c1">#print(&#39;out_points =&#39;, out_points)</span>
    <span class="c1">#out_xyz = np.array([point.get_position() for point in out_points_ref])</span>
    <span class="n">out_xyz</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">model</span><span class="o">.</span><span class="n">points</span><span class="p">[</span><span class="n">point_id</span><span class="p">]</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
                        <span class="k">for</span> <span class="n">point_id</span> <span class="ow">in</span> <span class="n">out_points</span><span class="p">])</span>
    <span class="c1">#print(&#39;out_xyz:\n%s&#39; % out_xyz)</span>
    <span class="n">sections</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">out_xyz</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">out_xyz</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]</span>
    <span class="n">xy</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">add_to_sections</span><span class="p">(</span><span class="n">sections</span><span class="p">,</span> <span class="n">xy</span><span class="p">,</span> <span class="n">out_points</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
    <span class="c1">#print(&#39;x=%s y=%s&#39; % (x, y))</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="s1">&#39;-o&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;OUTP&#39;</span><span class="p">)</span>
    <span class="n">all_points</span> <span class="o">=</span> <span class="p">{</span><span class="n">point_id</span> <span class="p">:</span> <span class="p">(</span><span class="n">xi</span><span class="p">,</span> <span class="n">yi</span><span class="p">)</span>
                  <span class="k">for</span> <span class="n">point_id</span><span class="p">,</span> <span class="n">xi</span><span class="p">,</span> <span class="n">yi</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">out_points</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)}</span>
    <span class="c1">#print(&#39;out_points =&#39;, out_points)</span>
    <span class="c1">#print(&#39;all_points =&#39;, all_points)</span>
    <span class="c1">#plt.show()</span>

    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">unused_thickness</span> <span class="ow">in</span> <span class="n">ts</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="c1">#print(thickness)</span>
        <span class="n">section</span> <span class="o">=</span> <span class="n">key</span>
        <span class="c1">#print(model.points)</span>
        <span class="c1">#thickness_value, section = thickness</span>
        <span class="n">out_xyz</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">model</span><span class="o">.</span><span class="n">points</span><span class="p">[</span><span class="n">point_id</span><span class="p">]</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
                            <span class="k">for</span> <span class="n">point_id</span> <span class="ow">in</span> <span class="n">section</span><span class="p">])</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">out_xyz</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">out_xyz</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]</span>
        <span class="c1">#print(&#39;adding t=%s section %s&#39; % (thickness, str(section)))</span>
        <span class="c1">#print(sections)</span>

        <span class="n">add_to_sections</span><span class="p">(</span><span class="n">sections</span><span class="p">,</span> <span class="n">xy</span><span class="p">,</span> <span class="n">section</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
        <span class="c1">#print(sections)</span>

    <span class="k">if</span> <span class="n">branch_paths</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">brp_set_ref</span> <span class="ow">in</span> <span class="n">branch_paths</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">brp_points</span> <span class="o">=</span> <span class="n">brp_set_ref</span><span class="o">.</span><span class="n">ids</span>
            <span class="n">brp_points_ref</span> <span class="o">=</span> <span class="n">brp_set_ref</span><span class="o">.</span><span class="n">ids_ref</span>
            <span class="n">brp_xyz</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">point</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span> <span class="k">for</span> <span class="n">point</span> <span class="ow">in</span> <span class="n">brp_points_ref</span><span class="p">])</span>
            <span class="c1">#print(&#39;branch = %s&#39; % brp_points)</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">brp_xyz</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span>
            <span class="n">y</span> <span class="o">=</span> <span class="n">brp_xyz</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="s1">&#39;-o&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;BRP(</span><span class="si">%i</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="n">key</span><span class="p">)</span>
            <span class="n">add_to_sections</span><span class="p">(</span><span class="n">sections</span><span class="p">,</span> <span class="n">xy</span><span class="p">,</span> <span class="n">brp_points</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

            <span class="k">for</span> <span class="n">point_id</span><span class="p">,</span> <span class="n">xi</span><span class="p">,</span> <span class="n">yi</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">brp_points</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
                <span class="n">all_points</span><span class="p">[</span><span class="n">point_id</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">xi</span><span class="p">,</span> <span class="n">yi</span><span class="p">)</span>

    <span class="c1">#print(&#39;xy =&#39;, xy)</span>

    <span class="k">if</span> <span class="n">inps</span><span class="p">:</span>
        <span class="c1">#print(&#39;inps! = %s&#39; % inps)</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">inp</span> <span class="ow">in</span> <span class="n">inps</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">inp</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
                <span class="n">inp</span> <span class="o">=</span> <span class="p">[</span><span class="n">inp</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">inpi</span> <span class="ow">in</span> <span class="n">inp</span><span class="p">:</span>
                <span class="n">inp_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="n">inpi</span><span class="p">)</span>
                <span class="c1">#inp_ref.cross_reference_set(model, &#39;Point&#39;, msg=&#39;&#39;)</span>
                <span class="n">inp_points</span> <span class="o">=</span> <span class="n">inp_ref</span><span class="o">.</span><span class="n">ids</span>
                <span class="c1">#if inp_points[0] != inp_points[-1]:</span>
                    <span class="c1">#inp_points = inp_points + [inp_points[0]]</span>
                <span class="c1">#print(&#39;inp_points = %s&#39; % inp_points)</span>
                <span class="c1">#inp_points_ref = inp_ref.ids_ref</span>
                <span class="n">inp_xyz</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">model</span><span class="o">.</span><span class="n">points</span><span class="p">[</span><span class="n">point_id</span><span class="p">]</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
                                    <span class="k">for</span> <span class="n">point_id</span> <span class="ow">in</span> <span class="n">inp_points</span><span class="p">])</span>
                <span class="c1">#inp_xyz = np.array([point.get_position() for point in inp_points_ref])</span>
                <span class="c1">#print(&#39;inp_xyz:\n%s&#39; % (inp_xyz[:, :2]))</span>
                <span class="n">x</span> <span class="o">=</span> <span class="n">inp_xyz</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span>
                <span class="n">y</span> <span class="o">=</span> <span class="n">inp_xyz</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="s1">&#39;--x&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;INP&#39;</span><span class="p">)</span>


    <span class="k">if</span> <span class="n">ts</span><span class="p">:</span>
        <span class="n">_plot_rectangles</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">sections</span><span class="p">,</span> <span class="n">xy</span><span class="p">,</span> <span class="n">ts</span><span class="p">)</span>

    <span class="c1">#print(&#39;all_points =&#39;, all_points)</span>
    <span class="k">for</span> <span class="n">point_id</span><span class="p">,</span> <span class="n">xy</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">all_points</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">point_id</span><span class="p">),</span> <span class="n">xy</span><span class="o">=</span><span class="n">xy</span><span class="p">)</span>

    <span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Y&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;X&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">show</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span></div>
</pre></div>

           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Steven Doyle.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>