

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>pyNastran.bdf.cards.elements.solid &mdash; pyNastran 1.4-dev 1.4-dev documentation</title>
  

  
  <link rel="stylesheet" href="../../../../../_static/css/my_theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/css/my_theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/graphviz.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../../" src="../../../../../_static/documentation_options.js"></script>
        <script data-url_root="../../../../../" id="documentation_options" src="../../../../../_static/documentation_options.js"></script>
        <script src="../../../../../_static/jquery.js"></script>
        <script src="../../../../../_static/underscore.js"></script>
        <script src="../../../../../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="../../../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../../index.html" class="icon icon-home"> pyNastran 1.4-dev
          

          
            
            <img src="../../../../../_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.4-dev
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../installation/index.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../quick_start/index.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../how_to/index.html">How To: pyNastran</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../reference/pyNastran.html">pyNastran Package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../manual/index.html">pyNastran Manual</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">pyNastran 1.4-dev</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../../../index.html">Module code</a> &raquo;</li>
        
      <li>pyNastran.bdf.cards.elements.solid</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for pyNastran.bdf.cards.elements.solid</h1><div class="highlight"><pre>
<span></span><span class="c1"># pylint: disable=R0902,R0904,R0914</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">All solid elements are defined in this file.  This includes:</span>

<span class="sd"> * CHEXA8</span>
<span class="sd"> * CHEXA20</span>
<span class="sd"> * CPENTA6</span>
<span class="sd"> * CPENTA15</span>
<span class="sd"> * CTETRA4</span>
<span class="sd"> * CTETRA10</span>
<span class="sd"> * CIHEX1</span>
<span class="sd"> * CIHEX2</span>

<span class="sd">All solid elements are SolidElement and Element objects.</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Tuple</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="n">TYPE_CHECKING</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">dot</span><span class="p">,</span> <span class="n">cross</span>
<span class="kn">from</span> <span class="nn">numpy.linalg</span> <span class="kn">import</span> <span class="n">norm</span>  <span class="c1"># type: ignore</span>

<span class="kn">from</span> <span class="nn">pyNastran.bdf.cards.elements.elements</span> <span class="kn">import</span> <span class="n">Element</span>
<span class="kn">from</span> <span class="nn">pyNastran.utils.mathematics</span> <span class="kn">import</span> <span class="n">Area</span>
<span class="kn">from</span> <span class="nn">pyNastran.bdf.bdf_interface.assign_type</span> <span class="kn">import</span> <span class="n">integer</span><span class="p">,</span> <span class="n">integer_or_blank</span>
<span class="k">if</span> <span class="n">TYPE_CHECKING</span><span class="p">:</span>  <span class="c1"># pragma: no cover</span>
    <span class="kn">from</span> <span class="nn">pyNastran.bdf.bdf</span> <span class="kn">import</span> <span class="n">BDF</span>


<span class="n">_chexa_mapper</span> <span class="o">=</span> <span class="p">{</span>
    <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="p">:</span> <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
    <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span> <span class="p">:</span> <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
    <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="p">:</span> <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
    <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span> <span class="p">:</span> <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>

    <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
    <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
    <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
    <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>

    <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span> <span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
    <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
    <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
    <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>

    <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="p">:</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
    <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="p">:</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
    <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="p">:</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
    <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span> <span class="p">:</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>

    <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="p">:</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
    <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="p">:</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
    <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="p">:</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
    <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="p">:</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>

    <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span> <span class="p">:</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
    <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="p">:</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
    <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="p">:</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
    <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span> <span class="p">:</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
<span class="p">}</span>
<span class="n">_chexa_faces</span> <span class="o">=</span> <span class="p">(</span>
    <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
    <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
    <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
    <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
    <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
    <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
<span class="p">)</span>

<div class="viewcode-block" id="volume4"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.volume4">[docs]</a><span class="k">def</span> <span class="nf">volume4</span><span class="p">(</span><span class="n">n1</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">n2</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">n3</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">n4</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
    <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Gets the volume, :math:`V`, of the tetrahedron.</span>

<span class="sd">    .. math:: V = \frac{(a-d) \cdot \left( (b-d) \times (c-d) \right) }{6}</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">volume</span> <span class="o">=</span> <span class="o">-</span><span class="n">dot</span><span class="p">(</span><span class="n">n1</span> <span class="o">-</span> <span class="n">n4</span><span class="p">,</span> <span class="n">cross</span><span class="p">(</span><span class="n">n2</span> <span class="o">-</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n3</span> <span class="o">-</span> <span class="n">n4</span><span class="p">))</span> <span class="o">/</span> <span class="mf">6.</span>
    <span class="k">return</span> <span class="n">volume</span></div>

<div class="viewcode-block" id="area_centroid"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.area_centroid">[docs]</a><span class="k">def</span> <span class="nf">area_centroid</span><span class="p">(</span><span class="n">n1</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">n2</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">n3</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">n4</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Gets the area, :math:`A`, and centroid of a quad.::</span>

<span class="sd">      1-----2</span>
<span class="sd">      |   / |</span>
<span class="sd">      | /   |</span>
<span class="sd">      4-----3</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">area</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">norm</span><span class="p">(</span><span class="n">cross</span><span class="p">(</span><span class="n">n3</span> <span class="o">-</span> <span class="n">n1</span><span class="p">,</span> <span class="n">n4</span> <span class="o">-</span> <span class="n">n2</span><span class="p">))</span>
    <span class="n">centroid</span> <span class="o">=</span> <span class="p">(</span><span class="n">n1</span> <span class="o">+</span> <span class="n">n2</span> <span class="o">+</span> <span class="n">n3</span> <span class="o">+</span> <span class="n">n4</span><span class="p">)</span> <span class="o">/</span> <span class="mf">4.</span>
    <span class="k">return</span> <span class="n">area</span><span class="p">,</span> <span class="n">centroid</span></div>


<span class="n">nnodes_map</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;CTETRA&#39;</span> <span class="p">:</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
    <span class="s1">&#39;CPENTA&#39;</span> <span class="p">:</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span>
    <span class="s1">&#39;CPYRAM&#39;</span> <span class="p">:</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">13</span><span class="p">),</span>
    <span class="s1">&#39;CHEXA&#39;</span> <span class="p">:</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span>
<span class="p">}</span>
<div class="viewcode-block" id="SolidElement"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.SolidElement">[docs]</a><span class="k">class</span> <span class="nc">SolidElement</span><span class="p">(</span><span class="n">Element</span><span class="p">):</span>
    <span class="n">_field_map</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;nid&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span><span class="s1">&#39;pid&#39;</span><span class="p">}</span>
    <span class="n">_properties</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;faces&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">Element</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pid_ref</span> <span class="o">=</span> <span class="kc">None</span>

<div class="viewcode-block" id="SolidElement.export_to_hdf5"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.SolidElement.export_to_hdf5">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">export_to_hdf5</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">h5_file</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">eids</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;exports the elements in a vectorized way&quot;&quot;&quot;</span>
        <span class="n">nnodes</span> <span class="o">=</span> <span class="n">nnodes_map</span><span class="p">[</span><span class="bp">cls</span><span class="o">.</span><span class="n">type</span><span class="p">]</span>
        <span class="n">comments</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">pids</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="n">element0</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">elements</span><span class="p">[</span><span class="n">eids</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
        <span class="n">nnodes0</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">element0</span><span class="o">.</span><span class="n">nodes</span><span class="p">)</span>
        <span class="n">nnodes_high_map</span> <span class="o">=</span> <span class="p">{</span>
            <span class="mi">4</span> <span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span> <span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="c1"># CTETRA</span>
            <span class="mi">5</span> <span class="p">:</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">13</span> <span class="p">:</span> <span class="mi">13</span><span class="p">,</span> <span class="c1"># CYRAM</span>
            <span class="mi">6</span> <span class="p">:</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">15</span> <span class="p">:</span> <span class="mi">15</span><span class="p">,</span> <span class="c1"># CPENTA</span>
            <span class="mi">8</span> <span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span> <span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="c1"># CHEXA</span>
        <span class="p">}</span>
        <span class="n">nnodes_low_map</span> <span class="o">=</span> <span class="p">{</span>
            <span class="mi">4</span> <span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">10</span> <span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="c1"># CTETRA</span>
            <span class="mi">5</span> <span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">13</span> <span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="c1"># CYRAM</span>
            <span class="mi">6</span> <span class="p">:</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">15</span> <span class="p">:</span> <span class="mi">6</span><span class="p">,</span> <span class="c1"># CPENTA</span>
            <span class="mi">8</span> <span class="p">:</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">20</span> <span class="p">:</span> <span class="mi">8</span><span class="p">,</span> <span class="c1"># CHEXA</span>
        <span class="p">}</span>
        <span class="n">neids</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">eids</span><span class="p">)</span>
        <span class="n">nnodes</span> <span class="o">=</span> <span class="n">nnodes_high_map</span><span class="p">[</span><span class="n">nnodes0</span><span class="p">]</span>
        <span class="n">nnodes_low</span> <span class="o">=</span> <span class="n">nnodes_low_map</span><span class="p">[</span><span class="n">nnodes0</span><span class="p">]</span>

        <span class="n">nodes</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">neids</span><span class="p">,</span> <span class="n">nnodes</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;int32&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">eid</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">eids</span><span class="p">):</span>
            <span class="n">element</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">elements</span><span class="p">[</span><span class="n">eid</span><span class="p">]</span>
            <span class="c1">#comments.append(element.comment)</span>
            <span class="n">pids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">element</span><span class="o">.</span><span class="n">pid</span><span class="p">)</span>
            <span class="n">nodes</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="p">:</span><span class="nb">len</span><span class="p">(</span><span class="n">element</span><span class="o">.</span><span class="n">nodes</span><span class="p">)]</span> <span class="o">=</span> <span class="p">[</span><span class="n">nid</span> <span class="k">if</span> <span class="n">nid</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">nid</span> <span class="ow">in</span> <span class="n">element</span><span class="o">.</span><span class="n">nodes</span><span class="p">]</span>
        <span class="c1">#h5_file.create_dataset(&#39;_comment&#39;, data=comments)</span>
        <span class="n">h5_file</span><span class="o">.</span><span class="n">create_dataset</span><span class="p">(</span><span class="s1">&#39;eid&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">eids</span><span class="p">)</span>
        <span class="n">h5_file</span><span class="o">.</span><span class="n">create_dataset</span><span class="p">(</span><span class="s1">&#39;pid&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">pids</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">nodes</span><span class="p">[:,</span> <span class="n">nnodes_low</span><span class="p">:]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">nodes</span> <span class="o">=</span> <span class="n">nodes</span><span class="p">[:,</span> <span class="p">:</span><span class="n">nnodes_low</span><span class="p">]</span>
        <span class="n">h5_file</span><span class="o">.</span><span class="n">create_dataset</span><span class="p">(</span><span class="s1">&#39;nodes&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">nodes</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">_update_field_helper</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">3</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">n</span> <span class="o">-</span> <span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s1">&#39;Field </span><span class="si">%r</span><span class="s1">=</span><span class="si">%r</span><span class="s1"> is an invalid </span><span class="si">%s</span><span class="s1"> entry.&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">))</span>

<div class="viewcode-block" id="SolidElement.cross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.SolidElement.cross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">cross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">BDF</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s1">&#39;Element type=</span><span class="si">%r</span><span class="s1"> must implement cross_reference&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="SolidElement.uncross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.SolidElement.uncross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">uncross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Removes cross-reference links&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Pid</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pid_ref</span> <span class="o">=</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="SolidElement.E"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.SolidElement.E">[docs]</a>    <span class="k">def</span> <span class="nf">E</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">pid_ref</span><span class="o">.</span><span class="n">mid_ref</span><span class="o">.</span><span class="n">E</span><span class="p">()</span></div>

<div class="viewcode-block" id="SolidElement.G"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.SolidElement.G">[docs]</a>    <span class="k">def</span> <span class="nf">G</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">pid_ref</span><span class="o">.</span><span class="n">mid_ref</span><span class="o">.</span><span class="n">G</span><span class="p">()</span></div>

<div class="viewcode-block" id="SolidElement.Nu"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.SolidElement.Nu">[docs]</a>    <span class="k">def</span> <span class="nf">Nu</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
       <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">pid_ref</span><span class="o">.</span><span class="n">mid_ref</span><span class="o">.</span><span class="n">Nu</span><span class="p">()</span></div>

<div class="viewcode-block" id="SolidElement.Volume"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.SolidElement.Volume">[docs]</a>    <span class="k">def</span> <span class="nf">Volume</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Base volume method that should be overwritten</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="mf">0.</span></div>

<div class="viewcode-block" id="SolidElement.Mass"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.SolidElement.Mass">[docs]</a>    <span class="k">def</span> <span class="nf">Mass</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the mass of the solid element</span>
<span class="sd">        Mass = Rho * Volume</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1">#print(&#39;  rho=%e volume=%e&#39; % (self.Rho(), self.Volume()))</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Rho</span><span class="p">()</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">Volume</span><span class="p">()</span></div>

<div class="viewcode-block" id="SolidElement.Mid"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.SolidElement.Mid">[docs]</a>    <span class="k">def</span> <span class="nf">Mid</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the material ID as an integer</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">pid_ref</span><span class="o">.</span><span class="n">Mid</span><span class="p">()</span></div>

<div class="viewcode-block" id="SolidElement.Rho"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.SolidElement.Rho">[docs]</a>    <span class="k">def</span> <span class="nf">Rho</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the density</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">pid_ref</span><span class="o">.</span><span class="n">Rho</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;self.pid = </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="p">))</span>
            <span class="c1">#print(&quot;self.pid_ref.mid_ref = %s&quot; % (str(self.pid_ref.mid_ref)))</span>
            <span class="k">raise</span></div>

<div class="viewcode-block" id="SolidElement.get_face_area_centroid_normal"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.SolidElement.get_face_area_centroid_normal">[docs]</a>    <span class="k">def</span> <span class="nf">get_face_area_centroid_normal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nid_opposite</span><span class="p">,</span> <span class="n">nid</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_face_area_centroid_normal</span><span class="p">(</span><span class="n">nid_opposite</span><span class="p">,</span> <span class="n">nid</span><span class="p">)</span></div>

<div class="viewcode-block" id="SolidElement.raw_fields"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.SolidElement.raw_fields">[docs]</a>    <span class="k">def</span> <span class="nf">raw_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">list_fields</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">eid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Pid</span><span class="p">()]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span>
        <span class="k">return</span> <span class="n">list_fields</span></div>

<div class="viewcode-block" id="SolidElement.center_of_mass"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.SolidElement.center_of_mass">[docs]</a>    <span class="k">def</span> <span class="nf">center_of_mass</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Centroid</span><span class="p">()</span></div></div>


<div class="viewcode-block" id="CHEXA8"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CHEXA8">[docs]</a><span class="k">class</span> <span class="nc">CHEXA8</span><span class="p">(</span><span class="n">SolidElement</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    +-------+-----+-----+----+----+----+----+----+----+</span>
<span class="sd">    |   1   |  2  |  3  |  4 |  5 |  6 |  7 |  8 |  9 |</span>
<span class="sd">    +=======+=====+=====+====+====+====+====+====+====+</span>
<span class="sd">    | CHEXA | EID | PID | G1 | G2 | G3 | G4 | G5 | G6 |</span>
<span class="sd">    +-------+-----+-----+----+----+----+----+----+----+</span>
<span class="sd">    |       | G7  | G8  |    |    |    |    |    |    |</span>
<span class="sd">    +-------+-----+-----+----+----+----+----+----+----+</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">type</span> <span class="o">=</span> <span class="s1">&#39;CHEXA&#39;</span>
<div class="viewcode-block" id="CHEXA8.write_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CHEXA8.write_card">[docs]</a>    <span class="k">def</span> <span class="nf">write_card</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">is_double</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">eid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Pid</span><span class="p">()]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;CHEXA   </span><span class="si">%8i%8i%8i%8i%8i%8i%8i%8i</span><span class="se">\n</span><span class="s1">&#39;</span>
               <span class="s1">&#39;        </span><span class="si">%8i%8i</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">msg</span></div>

<div class="viewcode-block" id="CHEXA8.write_card_16"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CHEXA8.write_card_16">[docs]</a>    <span class="k">def</span> <span class="nf">write_card_16</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">is_double</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">eid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Pid</span><span class="p">()]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;CHEXA*  </span><span class="si">%16i%16i%16i%16i</span><span class="se">\n</span><span class="s1">&#39;</span>
               <span class="s1">&#39;*       </span><span class="si">%16i%16i%16i%16i</span><span class="se">\n</span><span class="s1">&#39;</span>
               <span class="s1">&#39;*       </span><span class="si">%16i%16i</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">msg</span></div>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">nids</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a CHEXA8</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        eid : int</span>
<span class="sd">            element id</span>
<span class="sd">        pid : int</span>
<span class="sd">            property id (PSOLID, PLSOLID)</span>
<span class="sd">        nids : List[int]</span>
<span class="sd">            node ids; n=8</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">SolidElement</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">comment</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">=</span> <span class="n">comment</span>
        <span class="c1">#: Element ID</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">eid</span> <span class="o">=</span> <span class="n">eid</span>
        <span class="c1">#: Property ID</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pid</span> <span class="o">=</span> <span class="n">pid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">prepare_node_ids</span><span class="p">(</span><span class="n">nids</span><span class="p">)</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">)</span> <span class="o">==</span> <span class="mi">8</span>

<div class="viewcode-block" id="CHEXA8.add_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CHEXA8.add_card">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">add_card</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">card</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a CHEXA8 card from ``BDF.add_card(...)``</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        card : BDFCard()</span>
<span class="sd">            a BDFCard object</span>
<span class="sd">        comment : str; default=&#39;&#39;</span>
<span class="sd">            a comment for the card</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">eid</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;eid&#39;</span><span class="p">)</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;pid&#39;</span><span class="p">)</span>
        <span class="n">nids</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;nid1&#39;</span><span class="p">),</span>
            <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;nid2&#39;</span><span class="p">),</span>
            <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;nid3&#39;</span><span class="p">),</span>
            <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;nid4&#39;</span><span class="p">),</span>
            <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;nid5&#39;</span><span class="p">),</span>
            <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;nid6&#39;</span><span class="p">),</span>
            <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="s1">&#39;nid7&#39;</span><span class="p">),</span>
            <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;nid8&#39;</span><span class="p">)</span>
        <span class="p">]</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">card</span><span class="p">)</span> <span class="o">==</span> <span class="mi">11</span><span class="p">,</span> <span class="s1">&#39;len(CHEXA8 card) = </span><span class="si">%i</span><span class="se">\n</span><span class="s1">card=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">card</span><span class="p">),</span> <span class="n">card</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">CHEXA8</span><span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">nids</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span></div>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">add_op2_data</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a CHEXA8 card from the OP2</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        data : List[varies]</span>
<span class="sd">            a list of fields defined in OP2 format</span>
<span class="sd">        comment : str; default=&#39;&#39;</span>
<span class="sd">            a comment for the card</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">eid</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">nids</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">==</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;len(data)=</span><span class="si">%s</span><span class="s1"> data=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">data</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">CHEXA8</span><span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">nids</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span>

<div class="viewcode-block" id="CHEXA8.cross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CHEXA8.cross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">cross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">BDF</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Cross links the card so referenced cards can be extracted directly</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        model : BDF()</span>
<span class="sd">            the BDF object</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;, which is required by CHEXA eid=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">eid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">Nodes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pid_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">Property</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span></div>

<div class="viewcode-block" id="CHEXA8.safe_cross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CHEXA8.safe_cross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">safe_cross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">xref_errors</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Cross links the card so referenced cards can be extracted directly</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        model : BDF()</span>
<span class="sd">            the BDF object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;, which is required by CHEXA eid=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">eid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">Nodes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pid_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">safe_property</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">eid</span><span class="p">,</span> <span class="n">xref_errors</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">faces</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the faces of the element</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        faces : Dict[int] = [face1, face2, ...]</span>
<span class="sd">            key = face number</span>
<span class="sd">            value = a list of nodes (integer pointers) as the values.</span>

<span class="sd">        .. note::  The order of the nodes are consistent with normals that point outwards</span>
<span class="sd">                   The face numbering is meaningless</span>

<span class="sd">        .. note::  The order of the nodes are consistent with ANSYS numbering; is this current?</span>
<span class="sd">        .. warning:: higher order element ids not verified with ANSYS; is this current?</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; print(element.faces)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span>
        <span class="n">faces</span> <span class="o">=</span> <span class="p">{</span>
            <span class="mi">1</span> <span class="p">:</span> <span class="p">[</span><span class="n">nodes</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">3</span><span class="p">]],</span>
            <span class="mi">2</span> <span class="p">:</span> <span class="p">[</span><span class="n">nodes</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">4</span><span class="p">]],</span>
            <span class="mi">3</span> <span class="p">:</span> <span class="p">[</span><span class="n">nodes</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">5</span><span class="p">]],</span>
            <span class="mi">4</span> <span class="p">:</span> <span class="p">[</span><span class="n">nodes</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">7</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">6</span><span class="p">]],</span>
            <span class="mi">5</span> <span class="p">:</span> <span class="p">[</span><span class="n">nodes</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">7</span><span class="p">]],</span>
            <span class="mi">6</span> <span class="p">:</span> <span class="p">[</span><span class="n">nodes</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">7</span><span class="p">]],</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">faces</span>

<div class="viewcode-block" id="CHEXA8.material_coordinate_system"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CHEXA8.material_coordinate_system">[docs]</a>    <span class="k">def</span> <span class="nf">material_coordinate_system</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xyz</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;http://www.ipes.dk/Files/Ipes/Filer/nastran_2016_doc_release.pdf&quot;&quot;&quot;</span>
        <span class="c1">#if normal is None:</span>
            <span class="c1">#normal = self.Normal() # k = kmat</span>

        <span class="k">if</span> <span class="n">xyz</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">x1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
            <span class="n">x2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
            <span class="n">x3</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
            <span class="n">x4</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
            <span class="n">x5</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
            <span class="n">x6</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
            <span class="n">x7</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
            <span class="n">x8</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">x1</span> <span class="o">=</span> <span class="n">xyz</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span>
            <span class="n">x2</span> <span class="o">=</span> <span class="n">xyz</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]</span>
            <span class="n">x3</span> <span class="o">=</span> <span class="n">xyz</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">]</span>
            <span class="n">x4</span> <span class="o">=</span> <span class="n">xyz</span><span class="p">[:,</span> <span class="mi">3</span><span class="p">]</span>
            <span class="n">x5</span> <span class="o">=</span> <span class="n">xyz</span><span class="p">[:,</span> <span class="mi">4</span><span class="p">]</span>
            <span class="n">x6</span> <span class="o">=</span> <span class="n">xyz</span><span class="p">[:,</span> <span class="mi">5</span><span class="p">]</span>
            <span class="n">x7</span> <span class="o">=</span> <span class="n">xyz</span><span class="p">[:,</span> <span class="mi">6</span><span class="p">]</span>
            <span class="n">x8</span> <span class="o">=</span> <span class="n">xyz</span><span class="p">[:,</span> <span class="mi">7</span><span class="p">]</span>

        <span class="c1">#CORDM=-2</span>
        <span class="n">centroid</span> <span class="o">=</span> <span class="p">(</span><span class="n">x1</span> <span class="o">+</span> <span class="n">x2</span> <span class="o">+</span> <span class="n">x3</span> <span class="o">+</span> <span class="n">x4</span> <span class="o">+</span> <span class="n">x5</span> <span class="o">+</span> <span class="n">x6</span> <span class="o">+</span> <span class="n">x7</span> <span class="o">+</span> <span class="n">x8</span><span class="p">)</span> <span class="o">/</span> <span class="mf">8.</span>
        <span class="n">xe</span> <span class="o">=</span> <span class="p">((</span><span class="n">x2</span><span class="o">+</span><span class="n">x3</span><span class="o">+</span><span class="n">x6</span><span class="o">+</span><span class="n">x7</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">x1</span><span class="o">+</span><span class="n">x4</span><span class="o">+</span><span class="n">x8</span><span class="o">+</span><span class="n">x5</span><span class="p">))</span> <span class="o">/</span> <span class="mf">4.</span>
        <span class="n">xe</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">xe</span><span class="p">)</span>
        <span class="n">v</span> <span class="o">=</span> <span class="p">((</span><span class="n">x3</span><span class="o">+</span><span class="n">x7</span><span class="o">+</span><span class="n">x8</span><span class="o">+</span><span class="n">x4</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">x1</span><span class="o">+</span><span class="n">x2</span><span class="o">+</span><span class="n">x6</span><span class="o">+</span><span class="n">x5</span><span class="p">))</span> <span class="o">/</span> <span class="mi">4</span>
        <span class="n">ze</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cross</span><span class="p">(</span><span class="n">xe</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
        <span class="n">ze</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">ze</span><span class="p">)</span>

        <span class="n">ye</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cross</span><span class="p">(</span><span class="n">ze</span><span class="p">,</span> <span class="n">xe</span><span class="p">)</span>
        <span class="n">ye</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">ye</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">centroid</span><span class="p">,</span> <span class="n">xe</span><span class="p">,</span> <span class="n">ye</span><span class="p">,</span> <span class="n">ze</span></div>

    <span class="k">def</span> <span class="nf">_verify</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xref</span><span class="p">):</span>
        <span class="n">eid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">eid</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Pid</span><span class="p">()</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pid</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">nid</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span><span class="p">):</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">nid</span><span class="p">,</span> <span class="nb">int</span><span class="p">),</span> <span class="s1">&#39;nid</span><span class="si">%i</span><span class="s1"> is not an integer; nid=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">nid</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">xref</span><span class="p">:</span>
            <span class="n">centroid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Centroid</span><span class="p">()</span>
            <span class="n">volume</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Volume</span><span class="p">()</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
                <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">centroid</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="nb">float</span><span class="p">)</span>

<div class="viewcode-block" id="CHEXA8.Centroid"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CHEXA8.Centroid">[docs]</a>    <span class="k">def</span> <span class="nf">Centroid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Averages the centroids at the two faces</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="p">(</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n5</span><span class="p">,</span> <span class="n">n6</span><span class="p">,</span> <span class="n">n7</span><span class="p">,</span> <span class="n">n8</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node_positions</span><span class="p">()</span>
        <span class="n">c1</span> <span class="o">=</span> <span class="n">area_centroid</span><span class="p">(</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">c2</span> <span class="o">=</span> <span class="n">area_centroid</span><span class="p">(</span><span class="n">n5</span><span class="p">,</span> <span class="n">n6</span><span class="p">,</span> <span class="n">n7</span><span class="p">,</span> <span class="n">n8</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">centroid</span> <span class="o">=</span> <span class="p">(</span><span class="n">c1</span> <span class="o">+</span> <span class="n">c2</span><span class="p">)</span> <span class="o">/</span> <span class="mf">2.</span>
        <span class="k">return</span> <span class="n">centroid</span></div>

<div class="viewcode-block" id="CHEXA8.Volume"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CHEXA8.Volume">[docs]</a>    <span class="k">def</span> <span class="nf">Volume</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Calculate the volume of the hex&quot;&quot;&quot;</span>
        <span class="c1"># https://www.osti.gov/servlets/purl/632793/</span>
        <span class="c1">#volume = (</span>
            <span class="c1">#det3(x7 - x0, x1 - x0, x3 - x5) +</span>
            <span class="c1">#det3(x7 - x0, x4 - x0, x5 - x6) +</span>
            <span class="c1">#det3(x7 - x0, x2 - x0, x6 - x3)</span>
        <span class="c1">#) / 6.</span>
        <span class="c1">#  swap points</span>
        <span class="c1"># x2 -&gt; x3</span>
        <span class="c1"># x3 -&gt; x2</span>
        <span class="c1">#</span>
        <span class="c1"># x6 -&gt; x7</span>
        <span class="c1"># x7 -&gt; x6</span>
        <span class="c1">#def det3(a, b, c):</span>
            <span class="c1">#return np.det(np.vstack(a, b, c))</span>
        <span class="c1">#volume = (</span>
            <span class="c1">#det3(x6 - x0, x1 - x0, x2 - x5) +</span>
            <span class="c1">#det3(x6 - x0, x4 - x0, x5 - x7) +</span>
            <span class="c1">#det3(x6 - x0, x3 - x0, x7 - x3)</span>
        <span class="c1">#) / 6.</span>
        <span class="c1"># add 1</span>
        <span class="c1">#volume = (</span>
            <span class="c1">#det3(x7 - x1, x2 - x1, x3 - x6) +</span>
            <span class="c1">#det3(x7 - x1, x5 - x1, x6 - x8) +</span>
            <span class="c1">#det3(x7 - x1, x4 - x1, x8 - x4)</span>
        <span class="c1">#) / 6.</span>
        <span class="p">(</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n5</span><span class="p">,</span> <span class="n">n6</span><span class="p">,</span> <span class="n">n7</span><span class="p">,</span> <span class="n">n8</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node_positions</span><span class="p">()</span>
        <span class="p">(</span><span class="n">area1</span><span class="p">,</span> <span class="n">c1</span><span class="p">)</span> <span class="o">=</span> <span class="n">area_centroid</span><span class="p">(</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">)</span>
        <span class="p">(</span><span class="n">area2</span><span class="p">,</span> <span class="n">c2</span><span class="p">)</span> <span class="o">=</span> <span class="n">area_centroid</span><span class="p">(</span><span class="n">n5</span><span class="p">,</span> <span class="n">n6</span><span class="p">,</span> <span class="n">n7</span><span class="p">,</span> <span class="n">n8</span><span class="p">)</span>
        <span class="n">volume</span> <span class="o">=</span> <span class="p">(</span><span class="n">area1</span> <span class="o">+</span> <span class="n">area2</span><span class="p">)</span> <span class="o">/</span> <span class="mf">2.</span> <span class="o">*</span> <span class="n">norm</span><span class="p">(</span><span class="n">c1</span> <span class="o">-</span> <span class="n">c2</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">abs</span><span class="p">(</span><span class="n">volume</span><span class="p">)</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">node_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">nids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_node_ids</span><span class="p">(</span><span class="n">nodes</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span><span class="p">,</span> <span class="n">allow_empty_nodes</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">nids</span>

<div class="viewcode-block" id="CHEXA8.get_face"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CHEXA8.get_face">[docs]</a>    <span class="k">def</span> <span class="nf">get_face</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nid_opposite</span><span class="p">,</span> <span class="n">nid</span><span class="p">):</span>
        <span class="n">nids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span><span class="p">[:</span><span class="mi">8</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">chexa_face</span><span class="p">(</span><span class="n">nid_opposite</span><span class="p">,</span> <span class="n">nid</span><span class="p">,</span> <span class="n">nids</span><span class="p">)</span></div>

<div class="viewcode-block" id="CHEXA8.get_face_area_centroid_normal"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CHEXA8.get_face_area_centroid_normal">[docs]</a>    <span class="k">def</span> <span class="nf">get_face_area_centroid_normal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nid</span><span class="p">,</span> <span class="n">nid_opposite</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        nid : int</span>
<span class="sd">            G1 - a grid point on the corner of a face</span>
<span class="sd">        nid_opposite : int</span>
<span class="sd">            G3 - the grid point diagonally opposite of G1</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">nids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span><span class="p">[:</span><span class="mi">8</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">chexa_face_area_centroid_normal</span><span class="p">(</span><span class="n">nid</span><span class="p">,</span> <span class="n">nid_opposite</span><span class="p">,</span> <span class="n">nids</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span><span class="p">[:</span><span class="mi">8</span><span class="p">])</span></div>

<div class="viewcode-block" id="CHEXA8.get_edge_ids"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CHEXA8.get_edge_ids">[docs]</a>    <span class="k">def</span> <span class="nf">get_edge_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the edge IDs</span>
<span class="sd">        # top (5-6-7-8)</span>
<span class="sd">        # btm (1-2-3-4)</span>
<span class="sd">        # left (1-2-3-4)</span>
<span class="sd">        # right (5-6-7-8)</span>
<span class="sd">        # front (1-5-8-4)</span>
<span class="sd">        # back (2-6-7-3)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">node_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="c1"># btm (1-2-3-4)</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">1</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">2</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">3</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">0</span><span class="p">]])),</span>

            <span class="c1"># top (5-6-7-8)</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">5</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">6</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">7</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">7</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">4</span><span class="p">]])),</span>

            <span class="c1"># up - (4-8, 3-7, 1-5, 2-6)</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">4</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">5</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">6</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">7</span><span class="p">]])),</span>
        <span class="p">]</span></div>

<div class="viewcode-block" id="CHEXA8.flip_normal"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CHEXA8.flip_normal">[docs]</a>    <span class="k">def</span> <span class="nf">flip_normal</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>  <span class="c1">## TODO verify</span>
        <span class="sd">&quot;&quot;&quot;flips the element inside out&quot;&quot;&quot;</span>
        <span class="c1"># reverse the lower and upper quad faces</span>
        <span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n5</span><span class="p">,</span> <span class="n">n6</span><span class="p">,</span> <span class="n">n7</span><span class="p">,</span> <span class="n">n8</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span> <span class="o">=</span> <span class="p">[</span><span class="n">n1</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span>
                      <span class="n">n5</span><span class="p">,</span> <span class="n">n8</span><span class="p">,</span> <span class="n">n7</span><span class="p">,</span> <span class="n">n6</span><span class="p">,]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">n1_ref</span><span class="p">,</span> <span class="n">n2_ref</span><span class="p">,</span> <span class="n">n3_ref</span><span class="p">,</span> <span class="n">n4_ref</span><span class="p">,</span> <span class="n">n5_ref</span><span class="p">,</span> <span class="n">n6_ref</span><span class="p">,</span> <span class="n">n7_ref</span><span class="p">,</span> <span class="n">n8_ref</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">n1_ref</span><span class="p">,</span> <span class="n">n4_ref</span><span class="p">,</span> <span class="n">n3_ref</span><span class="p">,</span> <span class="n">n2_ref</span><span class="p">,</span>
                <span class="n">n5_ref</span><span class="p">,</span> <span class="n">n8_ref</span><span class="p">,</span> <span class="n">n7_ref</span><span class="p">,</span> <span class="n">n6_ref</span><span class="p">,]</span></div></div>

<div class="viewcode-block" id="CHEXA20"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CHEXA20">[docs]</a><span class="k">class</span> <span class="nc">CHEXA20</span><span class="p">(</span><span class="n">SolidElement</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    +-------+-----+-----+-----+-----+-----+-----+-----+-----+</span>
<span class="sd">    |   1   |  2  |  3  |  4  |  5  |  6  |  7  |  8  |  9  |</span>
<span class="sd">    +=======+=====+=====+=====+=====+=====+=====+=====+=====+</span>
<span class="sd">    | CHEXA | EID | PID | G1  | G2  | G3  | G4  | G5  | G6  |</span>
<span class="sd">    +-------+-----+-----+-----+-----+-----+-----+-----+-----+</span>
<span class="sd">    |       | G7  | G8  | G9  | G10 | G11 | G12 | G13 | G14 |</span>
<span class="sd">    +-------+-----+-----+-----+-----+-----+-----+-----+-----+</span>
<span class="sd">    |       | G15 | G16 | G17 | G18 | G19 | G20 |     |     |</span>
<span class="sd">    +-------+-----+-----+-----+-----+-----+-----+-----+-----+</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">type</span> <span class="o">=</span> <span class="s1">&#39;CHEXA&#39;</span>
<div class="viewcode-block" id="CHEXA20.write_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CHEXA20.write_card">[docs]</a>    <span class="k">def</span> <span class="nf">write_card</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">is_double</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span>
        <span class="n">nodes2</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;&#39;</span> <span class="k">if</span> <span class="n">node</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="s1">&#39;</span><span class="si">%8i</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">node</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">8</span><span class="p">:]]</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">eid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Pid</span><span class="p">()]</span> <span class="o">+</span> <span class="n">nodes</span><span class="p">[:</span><span class="mi">8</span><span class="p">]</span> <span class="o">+</span> <span class="n">nodes2</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;CHEXA   </span><span class="si">%8i%8i%8i%8i%8i%8i%8i%8i</span><span class="se">\n</span><span class="s1">&#39;</span>
               <span class="s1">&#39;        </span><span class="si">%8i%8i%8s%8s%8s%8s%8s%8s</span><span class="se">\n</span><span class="s1">&#39;</span>
               <span class="s1">&#39;        </span><span class="si">%8s%8s%8s%8s%8s%8s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">msg</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span></div>

<div class="viewcode-block" id="CHEXA20.write_card_16"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CHEXA20.write_card_16">[docs]</a>    <span class="k">def</span> <span class="nf">write_card_16</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">is_double</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="n">nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span>
        <span class="n">nodes2</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;&#39;</span> <span class="k">if</span> <span class="n">node</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="s1">&#39;</span><span class="si">%8i</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">node</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">8</span><span class="p">:]]</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">eid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Pid</span><span class="p">()]</span> <span class="o">+</span> <span class="n">nodes</span><span class="p">[:</span><span class="mi">8</span><span class="p">]</span> <span class="o">+</span> <span class="n">nodes2</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;CHEXA*  </span><span class="si">%16i%16i%16i%16i</span><span class="se">\n</span><span class="s1">&#39;</span>
               <span class="s1">&#39;*       </span><span class="si">%16i%16i%16i%16i</span><span class="se">\n</span><span class="s1">&#39;</span>
               <span class="s1">&#39;*       </span><span class="si">%16i%16i%16s%16s</span><span class="se">\n</span><span class="s1">&#39;</span>
               <span class="s1">&#39;*       </span><span class="si">%16s%16s%16s%16s</span><span class="se">\n</span><span class="s1">&#39;</span>
               <span class="s1">&#39;*       </span><span class="si">%16s%16s%16s%16s%16s%16s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">msg</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span></div>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">nids</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a CHEXA20</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        eid : int</span>
<span class="sd">            element id</span>
<span class="sd">        pid : int</span>
<span class="sd">            property id (PSOLID, PLSOLID)</span>
<span class="sd">        nids : List[int]</span>
<span class="sd">            node ids; n=20</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">SolidElement</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">comment</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">=</span> <span class="n">comment</span>
        <span class="c1">#: Element ID</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">eid</span> <span class="o">=</span> <span class="n">eid</span>
        <span class="c1">#: Property ID</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pid</span> <span class="o">=</span> <span class="n">pid</span>

        <span class="n">nnodes</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nids</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">nnodes</span> <span class="o">&lt;</span> <span class="mi">20</span><span class="p">:</span>
            <span class="n">nids</span><span class="o">.</span><span class="n">extend</span><span class="p">((</span><span class="mi">20</span> <span class="o">-</span> <span class="n">nnodes</span><span class="p">)</span> <span class="o">*</span> <span class="p">[</span><span class="kc">None</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">prepare_node_ids</span><span class="p">(</span><span class="n">nids</span><span class="p">,</span> <span class="n">allow_empty_nodes</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;len(nids)=</span><span class="si">%s</span><span class="s1"> nids=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">nids</span><span class="p">),</span> <span class="n">nids</span><span class="p">)</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">)</span> <span class="o">==</span> <span class="mi">20</span><span class="p">,</span> <span class="n">msg</span>

<div class="viewcode-block" id="CHEXA20.add_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CHEXA20.add_card">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">add_card</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">card</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a CHEXA20 card from ``BDF.add_card(...)``</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        card : BDFCard()</span>
<span class="sd">            a BDFCard object</span>
<span class="sd">        comment : str; default=&#39;&#39;</span>
<span class="sd">            a comment for the card</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">eid</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;eid&#39;</span><span class="p">)</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;pid&#39;</span><span class="p">)</span>
        <span class="n">nids</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;nid1&#39;</span><span class="p">),</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;nid2&#39;</span><span class="p">),</span>
            <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;nid3&#39;</span><span class="p">),</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;nid4&#39;</span><span class="p">),</span>
            <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;nid5&#39;</span><span class="p">),</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;nid6&#39;</span><span class="p">),</span>
            <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="s1">&#39;nid7&#39;</span><span class="p">),</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;nid8&#39;</span><span class="p">),</span>
            <span class="n">integer_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="s1">&#39;nid9&#39;</span><span class="p">),</span>
            <span class="n">integer_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="s1">&#39;nid10&#39;</span><span class="p">),</span>
            <span class="n">integer_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="s1">&#39;nid11&#39;</span><span class="p">),</span>
            <span class="n">integer_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="s1">&#39;nid12&#39;</span><span class="p">),</span>
            <span class="n">integer_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="s1">&#39;nid13&#39;</span><span class="p">),</span>
            <span class="n">integer_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="s1">&#39;nid14&#39;</span><span class="p">),</span>
            <span class="n">integer_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="s1">&#39;nid15&#39;</span><span class="p">),</span>
            <span class="n">integer_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="s1">&#39;nid16&#39;</span><span class="p">),</span>
            <span class="n">integer_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="s1">&#39;nid17&#39;</span><span class="p">),</span>
            <span class="n">integer_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="s1">&#39;nid18&#39;</span><span class="p">),</span>
            <span class="n">integer_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="s1">&#39;nid19&#39;</span><span class="p">),</span>
            <span class="n">integer_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="s1">&#39;nid20&#39;</span><span class="p">),</span>
        <span class="p">]</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">card</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">23</span><span class="p">,</span> <span class="s1">&#39;len(CHEXA20 card) = </span><span class="si">%i</span><span class="se">\n</span><span class="s1">card=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">card</span><span class="p">),</span> <span class="n">card</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">CHEXA20</span><span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">nids</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span></div>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">add_op2_data</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a CHEXA20 card from the OP2</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        data : List[varies]</span>
<span class="sd">            a list of fields defined in OP2 format</span>
<span class="sd">        comment : str; default=&#39;&#39;</span>
<span class="sd">            a comment for the card</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">eid</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">nids</span> <span class="o">=</span> <span class="p">[</span><span class="n">d</span> <span class="k">if</span> <span class="n">d</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="kc">None</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">:]]</span>
        <span class="k">return</span> <span class="n">CHEXA20</span><span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">nids</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span>

<div class="viewcode-block" id="CHEXA20.cross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CHEXA20.cross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">cross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">BDF</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Cross links the card so referenced cards can be extracted directly</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        model : BDF()</span>
<span class="sd">            the BDF object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;, which is required by CHEXA eid=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">eid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">EmptyNodes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pid_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">Property</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span></div>

<div class="viewcode-block" id="CHEXA20.safe_cross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CHEXA20.safe_cross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">safe_cross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">xref_errors</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Cross links the card so referenced cards can be extracted directly</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        model : BDF()</span>
<span class="sd">            the BDF object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;, which is required by CHEXA eid=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">eid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">EmptyNodes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pid_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">safe_property</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">eid</span><span class="p">,</span> <span class="n">xref_errors</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">faces</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the faces of the element</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        faces : Dict[int] = [face1, face2, ...]</span>
<span class="sd">            key = face number</span>
<span class="sd">            value = a list of nodes (integer pointers) as the values.</span>

<span class="sd">        .. note::  The order of the nodes are consistent with normals that point outwards</span>
<span class="sd">                   The face numbering is meaningless</span>

<span class="sd">        .. note::  The order of the nodes are consistent with ANSYS numbering; is this current?</span>
<span class="sd">        .. warning:: higher order element ids not verified with ANSYS; is this current?</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; print(element.faces)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="p">(</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n5</span><span class="p">,</span> <span class="n">n6</span><span class="p">,</span> <span class="n">n7</span><span class="p">,</span> <span class="n">n8</span><span class="p">,</span>
         <span class="n">n9</span><span class="p">,</span> <span class="n">n10</span><span class="p">,</span> <span class="n">n11</span><span class="p">,</span> <span class="n">n12</span><span class="p">,</span> <span class="n">n13</span><span class="p">,</span> <span class="n">n14</span><span class="p">,</span> <span class="n">n15</span><span class="p">,</span> <span class="n">n16</span><span class="p">,</span> <span class="n">n17</span><span class="p">,</span> <span class="n">n18</span><span class="p">,</span> <span class="n">n19</span><span class="p">,</span> <span class="n">n20</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span>
        <span class="n">faces</span> <span class="o">=</span> <span class="p">{</span>
            <span class="mi">1</span> <span class="p">:</span> <span class="p">[</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n9</span><span class="p">,</span> <span class="n">n10</span><span class="p">,</span> <span class="n">n11</span><span class="p">,</span> <span class="n">n12</span><span class="p">],</span>
            <span class="mi">2</span> <span class="p">:</span> <span class="p">[</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n6</span><span class="p">,</span> <span class="n">n5</span><span class="p">,</span> <span class="n">n9</span><span class="p">,</span> <span class="n">n18</span><span class="p">,</span> <span class="n">n13</span><span class="p">,</span> <span class="n">n17</span><span class="p">],</span>
            <span class="mi">3</span> <span class="p">:</span> <span class="p">[</span><span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n7</span><span class="p">,</span> <span class="n">n6</span><span class="p">,</span> <span class="n">n10</span><span class="p">,</span> <span class="n">n19</span><span class="p">,</span> <span class="n">n14</span><span class="p">,</span> <span class="n">n18</span><span class="p">],</span>
            <span class="mi">4</span> <span class="p">:</span> <span class="p">[</span><span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n8</span><span class="p">,</span> <span class="n">n7</span><span class="p">,</span> <span class="n">n11</span><span class="p">,</span> <span class="n">n10</span><span class="p">,</span> <span class="n">n15</span><span class="p">,</span> <span class="n">n19</span><span class="p">],</span>
            <span class="mi">5</span> <span class="p">:</span> <span class="p">[</span><span class="n">n4</span><span class="p">,</span> <span class="n">n1</span><span class="p">,</span> <span class="n">n5</span><span class="p">,</span> <span class="n">n8</span><span class="p">,</span> <span class="n">n12</span><span class="p">,</span> <span class="n">n17</span><span class="p">,</span> <span class="n">n16</span><span class="p">,</span> <span class="n">n20</span><span class="p">],</span>
            <span class="mi">6</span> <span class="p">:</span> <span class="p">[</span><span class="n">n5</span><span class="p">,</span> <span class="n">n6</span><span class="p">,</span> <span class="n">n7</span><span class="p">,</span> <span class="n">n8</span><span class="p">,</span> <span class="n">n13</span><span class="p">,</span> <span class="n">n14</span><span class="p">,</span> <span class="n">n15</span><span class="p">,</span> <span class="n">n16</span><span class="p">],</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">faces</span>

<div class="viewcode-block" id="CHEXA20.get_edge_ids"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CHEXA20.get_edge_ids">[docs]</a>    <span class="k">def</span> <span class="nf">get_edge_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the edge IDs</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">node_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="c1"># base</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">1</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">2</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">3</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">0</span><span class="p">]])),</span>

            <span class="c1"># top</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">5</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">6</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">7</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">7</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">4</span><span class="p">]])),</span>

            <span class="c1"># sides</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">4</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">5</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">6</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">7</span><span class="p">]])),</span>
        <span class="p">]</span></div>

<div class="viewcode-block" id="CHEXA20.get_face"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CHEXA20.get_face">[docs]</a>    <span class="k">def</span> <span class="nf">get_face</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nid_opposite</span><span class="p">,</span> <span class="n">nid</span><span class="p">):</span>
        <span class="n">nids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span><span class="p">[:</span><span class="mi">8</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">chexa_face</span><span class="p">(</span><span class="n">nid_opposite</span><span class="p">,</span> <span class="n">nid</span><span class="p">,</span> <span class="n">nids</span><span class="p">)</span></div>

<div class="viewcode-block" id="CHEXA20.get_face_area_centroid_normal"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CHEXA20.get_face_area_centroid_normal">[docs]</a>    <span class="k">def</span> <span class="nf">get_face_area_centroid_normal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nid</span><span class="p">,</span> <span class="n">nid_opposite</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        nid : int</span>
<span class="sd">            G1 - a grid point on the corner of a face</span>
<span class="sd">        nid_opposite : int</span>
<span class="sd">            G3 - the grid point diagonally opposite of G1</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">nids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span><span class="p">[:</span><span class="mi">8</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">chexa_face_area_centroid_normal</span><span class="p">(</span><span class="n">nid</span><span class="p">,</span> <span class="n">nid_opposite</span><span class="p">,</span> <span class="n">nids</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span><span class="p">[:</span><span class="mi">8</span><span class="p">])</span></div>

    <span class="k">def</span> <span class="nf">_verify</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xref</span><span class="p">):</span>
        <span class="n">eid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">eid</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Pid</span><span class="p">()</span>
        <span class="n">edges</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_edge_ids</span><span class="p">()</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pid</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">nid</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span><span class="p">):</span>
            <span class="k">assert</span> <span class="n">nid</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">nid</span><span class="p">,</span> <span class="nb">int</span><span class="p">),</span> <span class="s1">&#39;nid</span><span class="si">%i</span><span class="s1"> is not an integer/blank; nid=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">nid</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">xref</span><span class="p">:</span>
            <span class="n">centroid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Centroid</span><span class="p">()</span>
            <span class="n">volume</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Volume</span><span class="p">()</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
                <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">centroid</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="nb">float</span><span class="p">)</span>

<div class="viewcode-block" id="CHEXA20.Centroid"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CHEXA20.Centroid">[docs]</a>    <span class="k">def</span> <span class="nf">Centroid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. seealso:: CHEXA8.Centroid</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="p">(</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n5</span><span class="p">,</span>
         <span class="n">n6</span><span class="p">,</span> <span class="n">n7</span><span class="p">,</span> <span class="n">n8</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node_positions</span><span class="p">()[:</span><span class="mi">8</span><span class="p">]</span>
        <span class="n">c1</span> <span class="o">=</span> <span class="n">area_centroid</span><span class="p">(</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">c2</span> <span class="o">=</span> <span class="n">area_centroid</span><span class="p">(</span><span class="n">n5</span><span class="p">,</span> <span class="n">n6</span><span class="p">,</span> <span class="n">n7</span><span class="p">,</span> <span class="n">n8</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">centroid</span> <span class="o">=</span> <span class="p">(</span><span class="n">c1</span> <span class="o">+</span> <span class="n">c2</span><span class="p">)</span> <span class="o">/</span> <span class="mf">2.</span>
        <span class="k">return</span> <span class="n">centroid</span></div>

<div class="viewcode-block" id="CHEXA20.Volume"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CHEXA20.Volume">[docs]</a>    <span class="k">def</span> <span class="nf">Volume</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. seealso:: CHEXA8.Volume</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="p">(</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n5</span><span class="p">,</span>
         <span class="n">n6</span><span class="p">,</span> <span class="n">n7</span><span class="p">,</span> <span class="n">n8</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node_positions</span><span class="p">()[:</span><span class="mi">8</span><span class="p">]</span>
        <span class="p">(</span><span class="n">area1</span><span class="p">,</span> <span class="n">c1</span><span class="p">)</span> <span class="o">=</span> <span class="n">area_centroid</span><span class="p">(</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">)</span>
        <span class="p">(</span><span class="n">area2</span><span class="p">,</span> <span class="n">c2</span><span class="p">)</span> <span class="o">=</span> <span class="n">area_centroid</span><span class="p">(</span><span class="n">n5</span><span class="p">,</span> <span class="n">n6</span><span class="p">,</span> <span class="n">n7</span><span class="p">,</span> <span class="n">n8</span><span class="p">)</span>
        <span class="n">volume</span> <span class="o">=</span> <span class="p">(</span><span class="n">area1</span> <span class="o">+</span> <span class="n">area2</span><span class="p">)</span> <span class="o">/</span> <span class="mf">2.</span> <span class="o">*</span> <span class="n">norm</span><span class="p">(</span><span class="n">c1</span> <span class="o">-</span> <span class="n">c2</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">abs</span><span class="p">(</span><span class="n">volume</span><span class="p">)</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">node_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">nids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_node_ids</span><span class="p">(</span><span class="n">nodes</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span><span class="p">,</span> <span class="n">allow_empty_nodes</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">nids</span></div>


<div class="viewcode-block" id="CIHEX1"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CIHEX1">[docs]</a><span class="k">class</span> <span class="nc">CIHEX1</span><span class="p">(</span><span class="n">CHEXA8</span><span class="p">):</span>
    <span class="nb">type</span> <span class="o">=</span> <span class="s1">&#39;CIHEX1&#39;</span>

<div class="viewcode-block" id="CIHEX1.write_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CIHEX1.write_card">[docs]</a>    <span class="k">def</span> <span class="nf">write_card</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">is_double</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">eid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Pid</span><span class="p">()]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;CIHEX1  </span><span class="si">%8i%8i%8i%8i%8i%8i%8i%8i</span><span class="se">\n</span><span class="s1">&#39;</span>
               <span class="s1">&#39;        </span><span class="si">%8i%8i</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">msg</span></div>

<div class="viewcode-block" id="CIHEX1.write_card_16"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CIHEX1.write_card_16">[docs]</a>    <span class="k">def</span> <span class="nf">write_card_16</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">is_double</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">eid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Pid</span><span class="p">()]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;CIHEX1* </span><span class="si">%16i%16i%16i%16i</span><span class="se">\n</span><span class="s1">&#39;</span>
               <span class="s1">&#39;*       </span><span class="si">%16i%16i%16i%16i</span><span class="se">\n</span><span class="s1">&#39;</span>
               <span class="s1">&#39;*       </span><span class="si">%16i%16i</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">msg</span></div>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">nids</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="n">CHEXA8</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">nids</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span></div>


<div class="viewcode-block" id="CIHEX2"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CIHEX2">[docs]</a><span class="k">class</span> <span class="nc">CIHEX2</span><span class="p">(</span><span class="n">CHEXA20</span><span class="p">):</span>
    <span class="nb">type</span> <span class="o">=</span> <span class="s1">&#39;CIHEX2&#39;</span>

<div class="viewcode-block" id="CIHEX2.write_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CIHEX2.write_card">[docs]</a>    <span class="k">def</span> <span class="nf">write_card</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">is_double</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span>
        <span class="n">nodes2</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;&#39;</span> <span class="k">if</span> <span class="n">node</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="s1">&#39;</span><span class="si">%8i</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">node</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">8</span><span class="p">:]]</span>

        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">eid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Pid</span><span class="p">()]</span> <span class="o">+</span> <span class="n">nodes</span><span class="p">[:</span><span class="mi">8</span><span class="p">]</span> <span class="o">+</span> <span class="n">nodes2</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;CIHEX2  </span><span class="si">%8i%8i%8i%8i%8i%8i%8i%8i</span><span class="se">\n</span><span class="s1">&#39;</span>
               <span class="s1">&#39;        </span><span class="si">%8i%8i%8s%8s%8s%8s%8s%8s</span><span class="se">\n</span><span class="s1">&#39;</span>
               <span class="s1">&#39;        </span><span class="si">%8s%8s%8s%8s%8s%8s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">msg</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span></div>

<div class="viewcode-block" id="CIHEX2.write_card_16"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CIHEX2.write_card_16">[docs]</a>    <span class="k">def</span> <span class="nf">write_card_16</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">is_double</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="n">nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span>
        <span class="n">nodes2</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;&#39;</span> <span class="k">if</span> <span class="n">node</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="s1">&#39;</span><span class="si">%8i</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">node</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">8</span><span class="p">:]]</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">eid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Pid</span><span class="p">()]</span> <span class="o">+</span> <span class="n">nodes</span><span class="p">[:</span><span class="mi">8</span><span class="p">]</span> <span class="o">+</span> <span class="n">nodes2</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;CIHEX2* </span><span class="si">%16i%16i%16i%16i</span><span class="se">\n</span><span class="s1">&#39;</span>
               <span class="s1">&#39;*       </span><span class="si">%16i%16i%16i%16i</span><span class="se">\n</span><span class="s1">&#39;</span>
               <span class="s1">&#39;*       </span><span class="si">%16i%16i%16s%16s</span><span class="se">\n</span><span class="s1">&#39;</span>
               <span class="s1">&#39;*       </span><span class="si">%16s%16s%16s%16s</span><span class="se">\n</span><span class="s1">&#39;</span>
               <span class="s1">&#39;*       </span><span class="si">%16s%16s%16s%16s%16s%16s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">msg</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span></div>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">nids</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="n">CHEXA20</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">nids</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span></div>


<div class="viewcode-block" id="CPENTA6"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CPENTA6">[docs]</a><span class="k">class</span> <span class="nc">CPENTA6</span><span class="p">(</span><span class="n">SolidElement</span><span class="p">):</span>
    <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    +--------+-----+-----+----+----+----+----+----+----+</span>
<span class="sd">    |    1   |  2  |  3  |  4 |  5 |  6 |  7 |  8 |  9 |</span>
<span class="sd">    +========+=====+=====+====+====+====+====+====+====+</span>
<span class="sd">    | CPENTA | EID | PID | G1 | G2 | G3 | G4 | G5 | G6 |</span>
<span class="sd">    +--------+-----+-----+----+----+----+----+----+----+</span>

<span class="sd">    ::</span>
<span class="sd">         3         6</span>
<span class="sd">        *----------*</span>
<span class="sd">       / \        / \</span>
<span class="sd">      / A \      / c \</span>
<span class="sd">      *---*-----*-----*</span>
<span class="sd">      1    2    4      5</span>
<span class="sd">      V = (A1+A2)/2  * norm(c1-c2)</span>
<span class="sd">      C = (c1-c2)/2</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">type</span> <span class="o">=</span> <span class="s1">&#39;CPENTA&#39;</span>
<div class="viewcode-block" id="CPENTA6.write_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CPENTA6.write_card">[docs]</a>    <span class="k">def</span> <span class="nf">write_card</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">is_double</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">eid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Pid</span><span class="p">()]</span> <span class="o">+</span> <span class="n">nodes</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;CPENTA  </span><span class="si">%8i%8i%8i%8i%8i%8i%8i%8i</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">msg</span></div>

<div class="viewcode-block" id="CPENTA6.write_card_16"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CPENTA6.write_card_16">[docs]</a>    <span class="k">def</span> <span class="nf">write_card_16</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">is_double</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="n">nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">eid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Pid</span><span class="p">()]</span> <span class="o">+</span> <span class="n">nodes</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;CPENTA  </span><span class="si">%16i%16i%16i%16i</span><span class="se">\n</span><span class="s1">&#39;</span>
               <span class="s1">&#39;        </span><span class="si">%16i%16i%16i%16i</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">msg</span></div>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">nids</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a CPENTA6</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        eid : int</span>
<span class="sd">            element id</span>
<span class="sd">        pid : int</span>
<span class="sd">            property id (PSOLID, PLSOLID)</span>
<span class="sd">        nids : List[int]</span>
<span class="sd">            node ids; n=6</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">SolidElement</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">comment</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">=</span> <span class="n">comment</span>
        <span class="c1">#: Element ID</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">eid</span> <span class="o">=</span> <span class="n">eid</span>
        <span class="c1">#: Property ID</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pid</span> <span class="o">=</span> <span class="n">pid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">prepare_node_ids</span><span class="p">(</span><span class="n">nids</span><span class="p">)</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">)</span> <span class="o">==</span> <span class="mi">6</span>

<div class="viewcode-block" id="CPENTA6.add_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CPENTA6.add_card">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">add_card</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">card</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a CPENTA6 card from ``BDF.add_card(...)``</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        card : BDFCard()</span>
<span class="sd">            a BDFCard object</span>
<span class="sd">        comment : str; default=&#39;&#39;</span>
<span class="sd">            a comment for the card</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">eid</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;eid&#39;</span><span class="p">)</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;pid&#39;</span><span class="p">)</span>
        <span class="n">nids</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;nid1&#39;</span><span class="p">),</span>
            <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;nid2&#39;</span><span class="p">),</span>
            <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;nid3&#39;</span><span class="p">),</span>
            <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;nid4&#39;</span><span class="p">),</span>
            <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;nid5&#39;</span><span class="p">),</span>
            <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;nid6&#39;</span><span class="p">),</span>
        <span class="p">]</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">card</span><span class="p">)</span> <span class="o">==</span> <span class="mi">9</span><span class="p">,</span> <span class="s1">&#39;len(CPENTA6 card) = </span><span class="si">%i</span><span class="se">\n</span><span class="s1">card=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">card</span><span class="p">),</span> <span class="n">card</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">CPENTA6</span><span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">nids</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span></div>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">add_op2_data</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a CPENTA6 card from the OP2</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        data : List[varies]</span>
<span class="sd">            a list of fields defined in OP2 format</span>
<span class="sd">        comment : str; default=&#39;&#39;</span>
<span class="sd">            a comment for the card</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">eid</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">nids</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">==</span> <span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;len(data)=</span><span class="si">%s</span><span class="s1"> data=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">data</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">CPENTA6</span><span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">nids</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span>

<div class="viewcode-block" id="CPENTA6.cross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CPENTA6.cross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">cross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">BDF</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Cross links the card so referenced cards can be extracted directly</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        model : BDF()</span>
<span class="sd">            the BDF object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;, which is required by CPENTA eid=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">eid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">Nodes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pid_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">Property</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span></div>

<div class="viewcode-block" id="CPENTA6.safe_cross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CPENTA6.safe_cross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">safe_cross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">xref_errors</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Cross links the card so referenced cards can be extracted directly</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        model : BDF()</span>
<span class="sd">            the BDF object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;, which is required by CPENTA eid=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">eid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">Nodes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pid_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">safe_property</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">eid</span><span class="p">,</span> <span class="n">xref_errors</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span></div>

<div class="viewcode-block" id="CPENTA6.material_coordinate_system"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CPENTA6.material_coordinate_system">[docs]</a>    <span class="k">def</span> <span class="nf">material_coordinate_system</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xyz</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;http://www.ipes.dk/Files/Ipes/Filer/nastran_2016_doc_release.pdf&quot;&quot;&quot;</span>
        <span class="c1">#if normal is None:</span>
            <span class="c1">#normal = self.Normal() # k = kmat</span>

        <span class="k">if</span> <span class="n">xyz</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">x1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
            <span class="n">x2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
            <span class="n">x3</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
            <span class="n">x4</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
            <span class="n">x5</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
            <span class="n">x6</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">x1</span> <span class="o">=</span> <span class="n">xyz</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span>
            <span class="n">x2</span> <span class="o">=</span> <span class="n">xyz</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]</span>
            <span class="n">x3</span> <span class="o">=</span> <span class="n">xyz</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">]</span>
            <span class="n">x4</span> <span class="o">=</span> <span class="n">xyz</span><span class="p">[:,</span> <span class="mi">3</span><span class="p">]</span>
            <span class="n">x5</span> <span class="o">=</span> <span class="n">xyz</span><span class="p">[:,</span> <span class="mi">4</span><span class="p">]</span>
            <span class="n">x6</span> <span class="o">=</span> <span class="n">xyz</span><span class="p">[:,</span> <span class="mi">5</span><span class="p">]</span>

        <span class="c1">#CORDM=-2</span>
        <span class="n">centroid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Centroid</span><span class="p">()</span>
        <span class="n">origin</span> <span class="o">=</span> <span class="p">(</span><span class="n">x1</span> <span class="o">+</span> <span class="n">x4</span><span class="p">)</span> <span class="o">/</span> <span class="mf">2.</span>
        <span class="n">xe</span> <span class="o">=</span> <span class="p">(</span><span class="n">x2</span> <span class="o">+</span> <span class="n">x3</span> <span class="o">+</span> <span class="n">x5</span> <span class="o">+</span> <span class="n">x6</span><span class="p">)</span> <span class="o">-</span> <span class="n">origin</span>
        <span class="n">xe</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">xe</span><span class="p">)</span>
        <span class="n">v</span> <span class="o">=</span> <span class="p">((</span><span class="n">x1</span> <span class="o">+</span> <span class="n">x3</span> <span class="o">+</span> <span class="n">x4</span> <span class="o">+</span> <span class="n">x6</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">x1</span> <span class="o">+</span> <span class="n">x2</span> <span class="o">+</span> <span class="n">x4</span> <span class="o">+</span> <span class="n">x5</span><span class="p">))</span> <span class="o">/</span> <span class="mf">4.</span>
        <span class="n">ze</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cross</span><span class="p">(</span><span class="n">xe</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
        <span class="n">ze</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">ze</span><span class="p">)</span>

        <span class="n">ye</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cross</span><span class="p">(</span><span class="n">ze</span><span class="p">,</span> <span class="n">xe</span><span class="p">)</span>
        <span class="n">ye</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">ye</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">centroid</span><span class="p">,</span> <span class="n">xe</span><span class="p">,</span> <span class="n">ye</span><span class="p">,</span> <span class="n">ze</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">faces</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the faces of the element</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        faces : Dict[int] = [face1, face2, ...]</span>
<span class="sd">            key = face number</span>
<span class="sd">            value = a list of nodes (integer pointers) as the values.</span>

<span class="sd">        .. note::  The order of the nodes are consistent with normals that point outwards</span>
<span class="sd">                   The face numbering is meaningless</span>

<span class="sd">        .. note::  The order of the nodes are consistent with ANSYS numbering; is this current?</span>
<span class="sd">        .. warning:: higher order element ids not verified with ANSYS; is this current?</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; print(element.faces)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span>
        <span class="n">faces</span> <span class="o">=</span> <span class="p">{</span>
            <span class="mi">1</span> <span class="p">:</span> <span class="p">[</span><span class="n">nodes</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">2</span><span class="p">]],</span>
            <span class="mi">2</span> <span class="p">:</span> <span class="p">[</span><span class="n">nodes</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">5</span><span class="p">]],</span>
            <span class="mi">3</span> <span class="p">:</span> <span class="p">[</span><span class="n">nodes</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">3</span><span class="p">]],</span>
            <span class="mi">4</span> <span class="p">:</span> <span class="p">[</span><span class="n">nodes</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">4</span><span class="p">]],</span>
            <span class="mi">5</span> <span class="p">:</span> <span class="p">[</span><span class="n">nodes</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">5</span><span class="p">]],</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">faces</span>

<div class="viewcode-block" id="CPENTA6.get_edge_ids"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CPENTA6.get_edge_ids">[docs]</a>    <span class="k">def</span> <span class="nf">get_edge_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the edge IDs</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">node_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="c1"># base</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">1</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">2</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">0</span><span class="p">]])),</span>

            <span class="c1"># top</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">4</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">5</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">3</span><span class="p">]])),</span>

            <span class="c1"># sides</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">3</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">4</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">5</span><span class="p">]])),</span>
        <span class="p">]</span></div>

<div class="viewcode-block" id="CPENTA6.get_face"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CPENTA6.get_face">[docs]</a>    <span class="k">def</span> <span class="nf">get_face</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nid</span><span class="p">,</span> <span class="n">nid_opposite</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="n">nids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span><span class="p">[:</span><span class="mi">6</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">cpenta_face</span><span class="p">(</span><span class="n">nid</span><span class="p">,</span> <span class="n">nid_opposite</span><span class="p">,</span> <span class="n">nids</span><span class="p">)</span></div>

<div class="viewcode-block" id="CPENTA6.get_face_area_centroid_normal"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CPENTA6.get_face_area_centroid_normal">[docs]</a>    <span class="k">def</span> <span class="nf">get_face_area_centroid_normal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nid</span><span class="p">,</span> <span class="n">nid_opposite</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="n">nids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span><span class="p">[:</span><span class="mi">6</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">cpenta_face_area_centroid_normal</span><span class="p">(</span><span class="n">nid</span><span class="p">,</span> <span class="n">nid_opposite</span><span class="p">,</span> <span class="n">nids</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span><span class="p">[:</span><span class="mi">6</span><span class="p">])</span></div>

<div class="viewcode-block" id="CPENTA6.get_face_nodes_and_area"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CPENTA6.get_face_nodes_and_area">[docs]</a>    <span class="k">def</span> <span class="nf">get_face_nodes_and_area</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nid</span><span class="p">,</span> <span class="n">nid_opposite</span><span class="p">):</span>
        <span class="n">nids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span><span class="p">[:</span><span class="mi">6</span><span class="p">]</span>
        <span class="n">indx1</span> <span class="o">=</span> <span class="n">nids</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">nid</span><span class="p">)</span>
        <span class="n">indx2</span> <span class="o">=</span> <span class="n">nids</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">nid_opposite</span><span class="p">)</span>

        <span class="c1">#  offset so it&#39;s easier to map the nodes with the QRG</span>
        <span class="n">pack</span> <span class="o">=</span> <span class="p">[</span><span class="n">indx1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">indx2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>
        <span class="n">pack</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
        <span class="n">mapper</span> <span class="o">=</span> <span class="p">{</span>
            <span class="c1"># reverse points away from the element</span>
            <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>  <span class="c1"># close</span>
            <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
            <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>

            <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span>  <span class="c1"># far-reverse</span>
            <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span>
            <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">]:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span>

            <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">]:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>  <span class="c1"># bottom</span>
            <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">]:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>

            <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">]:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>  <span class="c1"># left-reverse</span>
            <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>

            <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">]:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>  <span class="c1"># right</span>
            <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">]:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
        <span class="p">}</span>

        <span class="n">pack2</span> <span class="o">=</span> <span class="n">mapper</span><span class="p">[</span><span class="n">pack</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">pack2</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
            <span class="p">(</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">)</span> <span class="o">=</span> <span class="n">pack2</span>
            <span class="n">face_node_ids</span> <span class="o">=</span> <span class="p">[</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">]</span>
            <span class="n">n1i</span> <span class="o">=</span> <span class="n">nids</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">n1</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">n2i</span> <span class="o">=</span> <span class="n">nids</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">n2</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">n3i</span> <span class="o">=</span> <span class="n">nids</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">n3</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">p1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span><span class="p">[</span><span class="n">n1i</span><span class="p">]</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
            <span class="n">p2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span><span class="p">[</span><span class="n">n2i</span><span class="p">]</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
            <span class="n">p3</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span><span class="p">[</span><span class="n">n3i</span><span class="p">]</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
            <span class="n">area</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">norm</span><span class="p">(</span><span class="n">cross</span><span class="p">(</span><span class="n">p1</span> <span class="o">-</span> <span class="n">p2</span><span class="p">,</span> <span class="n">p1</span> <span class="o">-</span> <span class="n">p3</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="p">(</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">)</span> <span class="o">=</span> <span class="n">pack2</span>
            <span class="n">n1i</span> <span class="o">=</span> <span class="n">nids</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">n1</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">n2i</span> <span class="o">=</span> <span class="n">nids</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">n2</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">n3i</span> <span class="o">=</span> <span class="n">nids</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">n3</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">n4i</span> <span class="o">=</span> <span class="n">nids</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">n4</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">face_node_ids</span> <span class="o">=</span> <span class="p">[</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">]</span>
            <span class="n">p1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span><span class="p">[</span><span class="n">n1i</span><span class="p">]</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
            <span class="n">p2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span><span class="p">[</span><span class="n">n2i</span><span class="p">]</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
            <span class="n">p3</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span><span class="p">[</span><span class="n">n3i</span><span class="p">]</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
            <span class="n">p4</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span><span class="p">[</span><span class="n">n4i</span><span class="p">]</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
            <span class="n">area</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">norm</span><span class="p">(</span><span class="n">cross</span><span class="p">(</span><span class="n">p1</span> <span class="o">-</span> <span class="n">p3</span><span class="p">,</span> <span class="n">p2</span> <span class="o">-</span> <span class="n">p4</span><span class="p">))</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">face_node_ids</span><span class="p">,</span> <span class="n">area</span><span class="p">]</span></div>

    <span class="k">def</span> <span class="nf">_verify</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xref</span><span class="p">):</span>
        <span class="n">eid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">eid</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Pid</span><span class="p">()</span>
        <span class="n">nids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pid</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">nid</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">nids</span><span class="p">):</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">nid</span><span class="p">,</span> <span class="nb">int</span><span class="p">),</span> <span class="s1">&#39;nid</span><span class="si">%i</span><span class="s1"> is not an integer; nid=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">nid</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">xref</span><span class="p">:</span>
            <span class="n">centroid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Centroid</span><span class="p">()</span>
            <span class="n">volume</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Volume</span><span class="p">()</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
                <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">centroid</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="nb">float</span><span class="p">)</span>

<div class="viewcode-block" id="CPENTA6.Centroid"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CPENTA6.Centroid">[docs]</a>    <span class="k">def</span> <span class="nf">Centroid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="p">(</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n5</span><span class="p">,</span> <span class="n">n6</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node_positions</span><span class="p">()</span>
        <span class="n">c1</span> <span class="o">=</span> <span class="p">(</span><span class="n">n1</span> <span class="o">+</span> <span class="n">n2</span> <span class="o">+</span> <span class="n">n3</span><span class="p">)</span> <span class="o">/</span> <span class="mf">3.</span>
        <span class="n">c2</span> <span class="o">=</span> <span class="p">(</span><span class="n">n4</span> <span class="o">+</span> <span class="n">n5</span> <span class="o">+</span> <span class="n">n6</span><span class="p">)</span> <span class="o">/</span> <span class="mf">3.</span>
        <span class="n">centroid</span> <span class="o">=</span> <span class="p">(</span><span class="n">c1</span> <span class="o">+</span> <span class="n">c2</span><span class="p">)</span> <span class="o">/</span> <span class="mf">2.</span>
        <span class="k">return</span> <span class="n">centroid</span></div>

<div class="viewcode-block" id="CPENTA6.Volume"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CPENTA6.Volume">[docs]</a>    <span class="k">def</span> <span class="nf">Volume</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Calculate the volume of the penta&quot;&quot;&quot;</span>
        <span class="p">(</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n5</span><span class="p">,</span> <span class="n">n6</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node_positions</span><span class="p">()</span>
        <span class="n">area1</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">norm</span><span class="p">(</span><span class="n">cross</span><span class="p">(</span><span class="n">n3</span> <span class="o">-</span> <span class="n">n1</span><span class="p">,</span> <span class="n">n2</span> <span class="o">-</span> <span class="n">n1</span><span class="p">))</span>
        <span class="n">area2</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">norm</span><span class="p">(</span><span class="n">cross</span><span class="p">(</span><span class="n">n6</span> <span class="o">-</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n5</span> <span class="o">-</span> <span class="n">n4</span><span class="p">))</span>
        <span class="n">c1</span> <span class="o">=</span> <span class="p">(</span><span class="n">n1</span> <span class="o">+</span> <span class="n">n2</span> <span class="o">+</span> <span class="n">n3</span><span class="p">)</span> <span class="o">/</span> <span class="mf">3.</span>
        <span class="n">c2</span> <span class="o">=</span> <span class="p">(</span><span class="n">n4</span> <span class="o">+</span> <span class="n">n5</span> <span class="o">+</span> <span class="n">n6</span><span class="p">)</span> <span class="o">/</span> <span class="mf">3.</span>
        <span class="n">volume</span> <span class="o">=</span> <span class="p">(</span><span class="n">area1</span> <span class="o">+</span> <span class="n">area2</span><span class="p">)</span> <span class="o">/</span> <span class="mf">2.</span> <span class="o">*</span> <span class="n">norm</span><span class="p">(</span><span class="n">c1</span> <span class="o">-</span> <span class="n">c2</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">abs</span><span class="p">(</span><span class="n">volume</span><span class="p">)</span></div>
        <span class="c1">#return volume4(n1, n2, n3, n4) + volume4(n2, n3, n4, n5) + volume4(n2, n4, n5, n6)</span>

<div class="viewcode-block" id="CPENTA6.raw_fields"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CPENTA6.raw_fields">[docs]</a>    <span class="k">def</span> <span class="nf">raw_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">list_fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;CPENTA&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">eid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Pid</span><span class="p">()]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span>
        <span class="k">return</span> <span class="n">list_fields</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">node_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">nids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_node_ids</span><span class="p">(</span><span class="n">nodes</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span><span class="p">,</span> <span class="n">allow_empty_nodes</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">nids</span></div>

<div class="viewcode-block" id="cpenta_face"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.cpenta_face">[docs]</a><span class="k">def</span> <span class="nf">cpenta_face</span><span class="p">(</span><span class="n">nid</span><span class="p">,</span> <span class="n">nid_opposite</span><span class="p">,</span> <span class="n">nids</span><span class="p">):</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">nids</span><span class="p">)</span> <span class="o">==</span> <span class="mi">6</span><span class="p">,</span> <span class="n">nids</span>
    <span class="n">indx1</span> <span class="o">=</span> <span class="n">nids</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">nid</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">nid_opposite</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">indx1</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]:</span>
            <span class="n">pack2</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
        <span class="k">elif</span> <span class="n">indx1</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]:</span>
            <span class="n">pack2</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="n">indx1</span><span class="p">)</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">pack2</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">,</span> <span class="n">pack2</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">indx2</span> <span class="o">=</span> <span class="n">nids</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">nid_opposite</span><span class="p">)</span>

        <span class="c1">#  offset so it&#39;s easier to map the nodes with the QRG</span>
        <span class="n">pack</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">indx1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">indx2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]))</span>
        <span class="n">_cpenta_mapper</span> <span class="o">=</span> <span class="p">{</span>
            <span class="c1"># reverse points away from the element</span>
            <span class="c1">#(1, 2) : [1, 2, 3],  # close</span>
            <span class="c1">#(2, 3) : [1, 2, 3],</span>
            <span class="c1">#(1, 3) : [1, 2, 3],</span>

            <span class="c1">#(4, 5) : [4, 5, 6],  # far-reverse</span>
            <span class="c1">#(5, 6) : [4, 5, 6],</span>
            <span class="c1">#(4, 6) : [4, 5, 6],</span>

            <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>  <span class="c1"># bottom</span>
            <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>

            <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span> <span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>  <span class="c1"># left-reverse</span>
            <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>

            <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span> <span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>  <span class="c1"># right</span>
            <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
        <span class="p">}</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">pack2</span> <span class="o">=</span> <span class="n">_cpenta_mapper</span><span class="p">[</span><span class="n">pack</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;PLOAD4; remove a node&#39;</span><span class="p">)</span>
            <span class="k">raise</span>
        <span class="n">pack2</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">pack2</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">pack2</span></div>

<div class="viewcode-block" id="cpenta_face_area_centroid_normal"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.cpenta_face_area_centroid_normal">[docs]</a><span class="k">def</span> <span class="nf">cpenta_face_area_centroid_normal</span><span class="p">(</span><span class="n">nid</span><span class="p">,</span> <span class="n">nid_opposite</span><span class="p">,</span> <span class="n">nids</span><span class="p">,</span> <span class="n">nodes_ref</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    nid : int</span>
<span class="sd">        G1 - a grid point on the corner of a face</span>
<span class="sd">    nid_opposite : int / None</span>
<span class="sd">        G3 - the grid point diagonally opposite of G1</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">face</span> <span class="o">=</span> <span class="n">cpenta_face</span><span class="p">(</span><span class="n">nid</span><span class="p">,</span> <span class="n">nid_opposite</span><span class="p">,</span> <span class="n">nids</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">nid_opposite</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">n1i</span><span class="p">,</span> <span class="n">n2i</span><span class="p">,</span> <span class="n">n3i</span> <span class="o">=</span> <span class="n">face</span>
        <span class="n">p1</span> <span class="o">=</span> <span class="n">nodes_ref</span><span class="p">[</span><span class="n">n1i</span><span class="p">]</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
        <span class="n">p2</span> <span class="o">=</span> <span class="n">nodes_ref</span><span class="p">[</span><span class="n">n2i</span><span class="p">]</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
        <span class="n">p3</span> <span class="o">=</span> <span class="n">nodes_ref</span><span class="p">[</span><span class="n">n3i</span><span class="p">]</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
        <span class="n">a</span> <span class="o">=</span> <span class="n">p3</span> <span class="o">-</span> <span class="n">p1</span>
        <span class="n">b</span> <span class="o">=</span> <span class="n">p2</span> <span class="o">-</span> <span class="n">p1</span>
        <span class="n">centroid</span> <span class="o">=</span> <span class="p">(</span><span class="n">p1</span> <span class="o">+</span> <span class="n">p2</span> <span class="o">+</span> <span class="n">p3</span><span class="p">)</span> <span class="o">/</span> <span class="mf">3.</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">n1i</span><span class="p">,</span> <span class="n">n2i</span><span class="p">,</span> <span class="n">n3i</span><span class="p">,</span> <span class="n">n4i</span> <span class="o">=</span> <span class="n">face</span>
        <span class="n">p1</span> <span class="o">=</span> <span class="n">nodes_ref</span><span class="p">[</span><span class="n">n1i</span><span class="p">]</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
        <span class="n">p2</span> <span class="o">=</span> <span class="n">nodes_ref</span><span class="p">[</span><span class="n">n2i</span><span class="p">]</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
        <span class="n">p3</span> <span class="o">=</span> <span class="n">nodes_ref</span><span class="p">[</span><span class="n">n3i</span><span class="p">]</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
        <span class="n">p4</span> <span class="o">=</span> <span class="n">nodes_ref</span><span class="p">[</span><span class="n">n4i</span><span class="p">]</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
        <span class="n">a</span> <span class="o">=</span> <span class="n">p1</span> <span class="o">-</span> <span class="n">p3</span>
        <span class="n">b</span> <span class="o">=</span> <span class="n">p2</span> <span class="o">-</span> <span class="n">p4</span>
        <span class="n">centroid</span> <span class="o">=</span> <span class="p">(</span><span class="n">p1</span> <span class="o">+</span> <span class="n">p2</span> <span class="o">+</span> <span class="n">p3</span> <span class="o">+</span> <span class="n">p4</span><span class="p">)</span> <span class="o">/</span> <span class="mf">4.</span>
    <span class="n">normal</span> <span class="o">=</span> <span class="n">cross</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
    <span class="n">n</span> <span class="o">=</span> <span class="n">norm</span><span class="p">(</span><span class="n">normal</span><span class="p">)</span>
    <span class="n">area</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">n</span>
    <span class="k">return</span> <span class="n">face</span><span class="p">,</span> <span class="n">area</span><span class="p">,</span> <span class="n">centroid</span><span class="p">,</span> <span class="n">normal</span> <span class="o">/</span> <span class="n">n</span></div>

<div class="viewcode-block" id="chexa_face"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.chexa_face">[docs]</a><span class="k">def</span> <span class="nf">chexa_face</span><span class="p">(</span><span class="n">nid_opposite</span><span class="p">,</span> <span class="n">nid</span><span class="p">,</span> <span class="n">nids</span><span class="p">):</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">nids</span><span class="p">)</span> <span class="o">==</span> <span class="mi">8</span><span class="p">,</span> <span class="n">nids</span>
    <span class="n">g1i</span> <span class="o">=</span> <span class="n">nids</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">nid_opposite</span><span class="p">)</span>
    <span class="n">g3i</span> <span class="o">=</span> <span class="n">nids</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">nid</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="n">_chexa_faces</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">g1i</span> <span class="ow">in</span> <span class="n">face</span> <span class="ow">and</span> <span class="n">g3i</span> <span class="ow">in</span> <span class="n">face</span><span class="p">:</span>
            <span class="n">found_face</span> <span class="o">=</span> <span class="n">face</span>
    <span class="n">found_face</span> <span class="o">=</span> <span class="n">_chexa_mapper</span><span class="p">[</span><span class="nb">tuple</span><span class="p">([</span><span class="n">g1i</span><span class="p">,</span> <span class="n">g3i</span><span class="p">])]</span>
    <span class="k">return</span> <span class="n">found_face</span></div>

<div class="viewcode-block" id="chexa_face_area_centroid_normal"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.chexa_face_area_centroid_normal">[docs]</a><span class="k">def</span> <span class="nf">chexa_face_area_centroid_normal</span><span class="p">(</span><span class="n">nid</span><span class="p">,</span> <span class="n">nid_opposite</span><span class="p">,</span> <span class="n">nids</span><span class="p">,</span> <span class="n">nodes_ref</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    nid : int</span>
<span class="sd">        G1 - a grid point on the corner of a face</span>
<span class="sd">    nid_opposite : int</span>
<span class="sd">        G3 - the grid point diagonally opposite of G1</span>
<span class="sd">    nodes_ref : List[GRID]</span>
<span class="sd">        the GRID objects</span>

<span class="sd">    # top   (7-6-5-4)</span>
<span class="sd">    # btm   (0-1-2-3)</span>
<span class="sd">    # left  (0-3-7-4)</span>
<span class="sd">    # right (5-6-2-1)</span>
<span class="sd">    # front (4-5-1-0)</span>
<span class="sd">    # back  (2-6-7-3)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">face</span> <span class="o">=</span> <span class="n">chexa_face</span><span class="p">(</span><span class="n">nid_opposite</span><span class="p">,</span> <span class="n">nid</span><span class="p">,</span> <span class="n">nids</span><span class="p">)</span>
    <span class="n">nid1</span><span class="p">,</span> <span class="n">nid2</span><span class="p">,</span> <span class="n">nid3</span><span class="p">,</span> <span class="n">nid4</span> <span class="o">=</span> <span class="n">face</span>
    <span class="n">n1</span> <span class="o">=</span> <span class="n">nodes_ref</span><span class="p">[</span><span class="n">nid1</span><span class="p">]</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
    <span class="n">n2</span> <span class="o">=</span> <span class="n">nodes_ref</span><span class="p">[</span><span class="n">nid2</span><span class="p">]</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
    <span class="n">n3</span> <span class="o">=</span> <span class="n">nodes_ref</span><span class="p">[</span><span class="n">nid3</span><span class="p">]</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
    <span class="n">n4</span> <span class="o">=</span> <span class="n">nodes_ref</span><span class="p">[</span><span class="n">nid4</span><span class="p">]</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>

    <span class="n">axb</span> <span class="o">=</span> <span class="n">cross</span><span class="p">(</span><span class="n">n3</span> <span class="o">-</span> <span class="n">n1</span><span class="p">,</span> <span class="n">n4</span> <span class="o">-</span> <span class="n">n2</span><span class="p">)</span>
    <span class="n">areai</span> <span class="o">=</span> <span class="n">norm</span><span class="p">(</span><span class="n">axb</span><span class="p">)</span>
    <span class="n">centroid</span> <span class="o">=</span> <span class="p">(</span><span class="n">n1</span> <span class="o">+</span> <span class="n">n2</span> <span class="o">+</span> <span class="n">n3</span> <span class="o">+</span> <span class="n">n4</span><span class="p">)</span> <span class="o">/</span> <span class="mf">4.</span>
    <span class="n">area</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">areai</span>
    <span class="n">normal</span> <span class="o">=</span> <span class="n">axb</span> <span class="o">/</span> <span class="n">areai</span>
    <span class="k">return</span> <span class="n">face</span><span class="p">,</span> <span class="n">area</span><span class="p">,</span> <span class="n">centroid</span><span class="p">,</span> <span class="n">normal</span></div>


<div class="viewcode-block" id="CPENTA15"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CPENTA15">[docs]</a><span class="k">class</span> <span class="nc">CPENTA15</span><span class="p">(</span><span class="n">SolidElement</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    +---------+-----+-----+----+-----+-----+-----+-----+-----+</span>
<span class="sd">    |    1    |  2  |  3  |  4 |  5  |  6  |  7  |  8  |  9  |</span>
<span class="sd">    +=========+=====+=====+====+=====+=====+=====+=====+=====+</span>
<span class="sd">    |  CPENTA | EID | PID | G1 | G2  | G3  | G4  | G5  | G6  |</span>
<span class="sd">    +---------+-----+-----+----+-----+-----+-----+-----+-----+</span>
<span class="sd">    |         | G7  | G8  | G9 | G10 | G11 | G12 | G13 | G14 |</span>
<span class="sd">    +---------+-----+-----+----+-----+-----+-----+-----+-----+</span>
<span class="sd">    |         | G15 |     |    |     |     |     |     |     |</span>
<span class="sd">    +---------+-----+-----+----+-----+-----+-----+-----+-----+</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">type</span> <span class="o">=</span> <span class="s1">&#39;CPENTA&#39;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">nids</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a CPENTA15</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        eid : int</span>
<span class="sd">            element id</span>
<span class="sd">        pid : int</span>
<span class="sd">            property id (PSOLID, PLSOLID)</span>
<span class="sd">        nids : List[int]</span>
<span class="sd">            node ids; n=15</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">SolidElement</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">comment</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">=</span> <span class="n">comment</span>
        <span class="c1">#: Element ID</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">eid</span> <span class="o">=</span> <span class="n">eid</span>
        <span class="c1">#: Property ID</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pid</span> <span class="o">=</span> <span class="n">pid</span>
        <span class="n">nnodes</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nids</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">nnodes</span> <span class="o">&lt;</span> <span class="mi">15</span><span class="p">:</span>
            <span class="n">nids</span><span class="o">.</span><span class="n">extend</span><span class="p">((</span><span class="mi">15</span> <span class="o">-</span> <span class="n">nnodes</span><span class="p">)</span> <span class="o">*</span> <span class="p">[</span><span class="kc">None</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">prepare_node_ids</span><span class="p">(</span><span class="n">nids</span><span class="p">,</span> <span class="n">allow_empty_nodes</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">)</span> <span class="o">==</span> <span class="mi">15</span>

<div class="viewcode-block" id="CPENTA15.add_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CPENTA15.add_card">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">add_card</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">card</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a CPENTA15 card from ``BDF.add_card(...)``</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        card : BDFCard()</span>
<span class="sd">            a BDFCard object</span>
<span class="sd">        comment : str; default=&#39;&#39;</span>
<span class="sd">            a comment for the card</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">eid</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;eid&#39;</span><span class="p">)</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;pid&#39;</span><span class="p">)</span>
        <span class="n">nids</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;nid1&#39;</span><span class="p">),</span>
            <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;nid2&#39;</span><span class="p">),</span>
            <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;nid3&#39;</span><span class="p">),</span>
            <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;nid4&#39;</span><span class="p">),</span>
            <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;nid5&#39;</span><span class="p">),</span>
            <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;nid6&#39;</span><span class="p">),</span>
            <span class="n">integer_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="s1">&#39;nid7&#39;</span><span class="p">),</span>
            <span class="n">integer_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;nid8&#39;</span><span class="p">),</span>
            <span class="n">integer_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="s1">&#39;nid9&#39;</span><span class="p">),</span>
            <span class="n">integer_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="s1">&#39;nid10&#39;</span><span class="p">),</span>
            <span class="n">integer_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="s1">&#39;nid11&#39;</span><span class="p">),</span>
            <span class="n">integer_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="s1">&#39;nid12&#39;</span><span class="p">),</span>
            <span class="n">integer_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="s1">&#39;nid13&#39;</span><span class="p">),</span>
            <span class="n">integer_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="s1">&#39;nid14&#39;</span><span class="p">),</span>
            <span class="n">integer_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="s1">&#39;nid15&#39;</span><span class="p">),</span>
        <span class="p">]</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">card</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">18</span><span class="p">,</span> <span class="s1">&#39;len(CPENTA15 card) = </span><span class="si">%i</span><span class="se">\n</span><span class="s1">card=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">card</span><span class="p">),</span> <span class="n">card</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">CPENTA15</span><span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">nids</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span></div>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">add_op2_data</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a CPENTA15 card from the OP2</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        data : List[varies]</span>
<span class="sd">            a list of fields defined in OP2 format</span>
<span class="sd">        comment : str; default=&#39;&#39;</span>
<span class="sd">            a comment for the card</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">eid</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">nids</span> <span class="o">=</span> <span class="p">[</span><span class="n">d</span> <span class="k">if</span> <span class="n">d</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="kc">None</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">:]]</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">==</span> <span class="mi">17</span><span class="p">,</span> <span class="s1">&#39;len(data)=</span><span class="si">%s</span><span class="s1"> data=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">data</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">CPENTA15</span><span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">nids</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span>

<div class="viewcode-block" id="CPENTA15.cross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CPENTA15.cross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">cross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">BDF</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Cross links the card so referenced cards can be extracted directly</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        model : BDF()</span>
<span class="sd">            the BDF object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;, which is required by CPENTA eid=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">eid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">EmptyNodes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pid_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">Property</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span></div>

<div class="viewcode-block" id="CPENTA15.safe_cross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CPENTA15.safe_cross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">safe_cross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">xref_errors</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Cross links the card so referenced cards can be extracted directly</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        model : BDF()</span>
<span class="sd">            the BDF object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;, which is required by CPENTA eid=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">eid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">EmptyNodes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pid_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">safe_property</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">eid</span><span class="p">,</span> <span class="n">xref_errors</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">faces</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the faces of the element</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        faces : Dict[int] = [face1, face2, ...]</span>
<span class="sd">            key = face number</span>
<span class="sd">            value = a list of nodes (integer pointers) as the values.</span>

<span class="sd">        .. note::  The order of the nodes are consistent with normals that point outwards</span>
<span class="sd">                   The face numbering is meaningless</span>

<span class="sd">        .. note::  The order of the nodes are consistent with ANSYS numbering; is this current?</span>
<span class="sd">        .. warning:: higher order element ids not verified with ANSYS; is this current?</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; print(element.faces)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n5</span><span class="p">,</span> <span class="n">n6</span><span class="p">,</span> <span class="n">n7</span><span class="p">,</span> <span class="n">n8</span><span class="p">,</span> <span class="n">n9</span><span class="p">,</span> <span class="n">n10</span><span class="p">,</span> <span class="n">n11</span><span class="p">,</span> <span class="n">n12</span><span class="p">,</span> <span class="n">n13</span><span class="p">,</span> <span class="n">n14</span><span class="p">,</span> <span class="n">n15</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span>
        <span class="n">faces</span> <span class="o">=</span> <span class="p">{</span>
            <span class="mi">1</span> <span class="p">:</span> <span class="p">[</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n7</span><span class="p">,</span> <span class="n">n8</span><span class="p">,</span> <span class="n">n9</span><span class="p">],</span>
            <span class="mi">2</span> <span class="p">:</span> <span class="p">[</span><span class="n">n4</span><span class="p">,</span> <span class="n">n5</span><span class="p">,</span> <span class="n">n6</span><span class="p">,</span> <span class="n">n10</span><span class="p">,</span> <span class="n">n11</span><span class="p">,</span> <span class="n">n12</span><span class="p">],</span>
            <span class="mi">3</span> <span class="p">:</span> <span class="p">[</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n5</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n7</span><span class="p">,</span> <span class="n">n14</span><span class="p">,</span> <span class="n">n10</span><span class="p">,</span> <span class="n">n13</span><span class="p">],</span>
            <span class="mi">4</span> <span class="p">:</span> <span class="p">[</span><span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n6</span><span class="p">,</span> <span class="n">n5</span><span class="p">,</span> <span class="n">n8</span><span class="p">,</span> <span class="n">n15</span><span class="p">,</span> <span class="n">n11</span><span class="p">,</span> <span class="n">n14</span><span class="p">],</span>
            <span class="mi">5</span> <span class="p">:</span> <span class="p">[</span><span class="n">n3</span><span class="p">,</span> <span class="n">n1</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n6</span><span class="p">,</span> <span class="n">n9</span><span class="p">,</span> <span class="n">n13</span><span class="p">,</span> <span class="n">n12</span><span class="p">,</span> <span class="n">n15</span><span class="p">],</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">faces</span>

<div class="viewcode-block" id="CPENTA15.get_face"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CPENTA15.get_face">[docs]</a>    <span class="k">def</span> <span class="nf">get_face</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nid</span><span class="p">,</span> <span class="n">nid_opposite</span><span class="p">):</span>
        <span class="n">nids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span><span class="p">[:</span><span class="mi">6</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">cpenta_face</span><span class="p">(</span><span class="n">nid_opposite</span><span class="p">,</span> <span class="n">nid</span><span class="p">,</span> <span class="n">nids</span><span class="p">)</span></div>

<div class="viewcode-block" id="CPENTA15.get_face_area_centroid_normal"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CPENTA15.get_face_area_centroid_normal">[docs]</a>    <span class="k">def</span> <span class="nf">get_face_area_centroid_normal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nid</span><span class="p">,</span> <span class="n">nid_opposite</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="n">nids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span><span class="p">[:</span><span class="mi">6</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">cpenta_face_area_centroid_normal</span><span class="p">(</span><span class="n">nid</span><span class="p">,</span> <span class="n">nid_opposite</span><span class="p">,</span> <span class="n">nids</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span><span class="p">[:</span><span class="mi">6</span><span class="p">])</span></div>

<div class="viewcode-block" id="CPENTA15.get_edge_ids"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CPENTA15.get_edge_ids">[docs]</a>    <span class="k">def</span> <span class="nf">get_edge_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the edge IDs</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">node_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="c1"># base</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">1</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">2</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">0</span><span class="p">]])),</span>

            <span class="c1"># top</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">4</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">5</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">3</span><span class="p">]])),</span>

            <span class="c1"># sides</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">3</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">4</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">5</span><span class="p">]])),</span>
        <span class="p">]</span></div>

    <span class="k">def</span> <span class="nf">_verify</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xref</span><span class="p">):</span>
        <span class="n">eid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">eid</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Pid</span><span class="p">()</span>
        <span class="n">nids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pid</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">nid</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">nids</span><span class="p">):</span>
            <span class="k">assert</span> <span class="n">nid</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">nid</span><span class="p">,</span> <span class="nb">int</span><span class="p">),</span> <span class="s1">&#39;nid</span><span class="si">%i</span><span class="s1"> is not an integer/blank; nid=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">nid</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">xref</span><span class="p">:</span>
            <span class="n">centroid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Centroid</span><span class="p">()</span>
            <span class="n">volume</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Volume</span><span class="p">()</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
                <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">centroid</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="nb">float</span><span class="p">)</span>

<div class="viewcode-block" id="CPENTA15.Centroid"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CPENTA15.Centroid">[docs]</a>    <span class="k">def</span> <span class="nf">Centroid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. seealso:: CPENTA6.Centroid</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="p">(</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n5</span><span class="p">,</span> <span class="n">n6</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node_positions</span><span class="p">()[:</span><span class="mi">6</span><span class="p">]</span>
        <span class="n">c1</span> <span class="o">=</span> <span class="p">(</span><span class="n">n1</span> <span class="o">+</span> <span class="n">n2</span> <span class="o">+</span> <span class="n">n3</span><span class="p">)</span> <span class="o">/</span> <span class="mf">3.</span>
        <span class="n">c2</span> <span class="o">=</span> <span class="p">(</span><span class="n">n4</span> <span class="o">+</span> <span class="n">n5</span> <span class="o">+</span> <span class="n">n6</span><span class="p">)</span> <span class="o">/</span> <span class="mf">3.</span>
        <span class="n">centroid</span> <span class="o">=</span> <span class="p">(</span><span class="n">c1</span> <span class="o">+</span> <span class="n">c2</span><span class="p">)</span> <span class="o">/</span> <span class="mf">2.</span>
        <span class="k">return</span> <span class="n">centroid</span></div>

<div class="viewcode-block" id="CPENTA15.Volume"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CPENTA15.Volume">[docs]</a>    <span class="k">def</span> <span class="nf">Volume</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. seealso:: CPENTA6.Volume</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="p">(</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n5</span><span class="p">,</span> <span class="n">n6</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node_positions</span><span class="p">()[:</span><span class="mi">6</span><span class="p">]</span>
        <span class="n">area1</span> <span class="o">=</span> <span class="n">Area</span><span class="p">(</span><span class="n">n3</span> <span class="o">-</span> <span class="n">n1</span><span class="p">,</span> <span class="n">n2</span> <span class="o">-</span> <span class="n">n1</span><span class="p">)</span>
        <span class="n">area2</span> <span class="o">=</span> <span class="n">Area</span><span class="p">(</span><span class="n">n6</span> <span class="o">-</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n5</span> <span class="o">-</span> <span class="n">n4</span><span class="p">)</span>
        <span class="n">c1</span> <span class="o">=</span> <span class="p">(</span><span class="n">n1</span> <span class="o">+</span> <span class="n">n2</span> <span class="o">+</span> <span class="n">n3</span><span class="p">)</span> <span class="o">/</span> <span class="mf">3.</span>
        <span class="n">c2</span> <span class="o">=</span> <span class="p">(</span><span class="n">n4</span> <span class="o">+</span> <span class="n">n5</span> <span class="o">+</span> <span class="n">n6</span><span class="p">)</span> <span class="o">/</span> <span class="mf">3.</span>
        <span class="n">volume</span> <span class="o">=</span> <span class="p">(</span><span class="n">area1</span> <span class="o">+</span> <span class="n">area2</span><span class="p">)</span> <span class="o">/</span> <span class="mf">2.</span> <span class="o">*</span> <span class="n">norm</span><span class="p">(</span><span class="n">c1</span> <span class="o">-</span> <span class="n">c2</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">abs</span><span class="p">(</span><span class="n">volume</span><span class="p">)</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">node_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">nids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_node_ids</span><span class="p">(</span><span class="n">nodes</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span><span class="p">,</span> <span class="n">allow_empty_nodes</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">nids</span>

<div class="viewcode-block" id="CPENTA15.write_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CPENTA15.write_card">[docs]</a>    <span class="k">def</span> <span class="nf">write_card</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">is_double</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span>
        <span class="n">nodes2</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;&#39;</span> <span class="k">if</span> <span class="n">node</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="s1">&#39;</span><span class="si">%8i</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">node</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">6</span><span class="p">:]]</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">eid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Pid</span><span class="p">()]</span> <span class="o">+</span> <span class="n">nodes</span><span class="p">[:</span><span class="mi">6</span><span class="p">]</span> <span class="o">+</span> <span class="n">nodes2</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;CPENTA  </span><span class="si">%8i%8i%8i%8i%8i%8i%8i%8i</span><span class="se">\n</span><span class="s1">&#39;</span>
               <span class="s1">&#39;        </span><span class="si">%8s%8s%8s%8s%8s%8s%8s%8s</span><span class="se">\n</span><span class="s1">&#39;</span>
               <span class="s1">&#39;        </span><span class="si">%8s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">msg</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span></div>

<div class="viewcode-block" id="CPENTA15.write_card_16"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CPENTA15.write_card_16">[docs]</a>    <span class="k">def</span> <span class="nf">write_card_16</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">is_double</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="n">nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span>
        <span class="n">nodes2</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;&#39;</span> <span class="k">if</span> <span class="n">node</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="s1">&#39;</span><span class="si">%16i</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">node</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">6</span><span class="p">:]]</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">eid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Pid</span><span class="p">()]</span> <span class="o">+</span> <span class="n">nodes</span><span class="p">[:</span><span class="mi">6</span><span class="p">]</span> <span class="o">+</span> <span class="n">nodes2</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;CPENTA* </span><span class="si">%16i%16i%16i%16i</span><span class="se">\n</span><span class="s1">&#39;</span>
               <span class="s1">&#39;*       </span><span class="si">%16s%16s%16s%16s</span><span class="se">\n</span><span class="s1">&#39;</span>
               <span class="s1">&#39;*       </span><span class="si">%16s%16s%16s%16s</span><span class="se">\n</span><span class="s1">&#39;</span>
               <span class="s1">&#39;*       </span><span class="si">%16s%16s%16s%16s</span><span class="se">\n</span><span class="s1">&#39;</span>
               <span class="s1">&#39;*       </span><span class="si">%16s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">msg</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span></div></div>


<div class="viewcode-block" id="CPYRAM5"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CPYRAM5">[docs]</a><span class="k">class</span> <span class="nc">CPYRAM5</span><span class="p">(</span><span class="n">SolidElement</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    +--------+-----+-----+-----+-----+-----+-----+-----+</span>
<span class="sd">    |    1   |  2  |  3  |  4  |  5  |  6  |  7  |  8  |</span>
<span class="sd">    +========+=====+=====+=====+=====+=====+=====+=====+</span>
<span class="sd">    | CPYRAM | EID | PID | G1  | G2  | G3  | G4  | G5  |</span>
<span class="sd">    +--------+-----+-----+-----+-----+-----+-----+-----+</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">type</span> <span class="o">=</span> <span class="s1">&#39;CPYRAM&#39;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">nids</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="n">SolidElement</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">comment</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">=</span> <span class="n">comment</span>
        <span class="c1">#: Element ID</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">eid</span> <span class="o">=</span> <span class="n">eid</span>
        <span class="c1">#: Property ID</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pid</span> <span class="o">=</span> <span class="n">pid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">prepare_node_ids</span><span class="p">(</span><span class="n">nids</span><span class="p">)</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;len(nids)=</span><span class="si">%s</span><span class="s1"> nids=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">nids</span><span class="p">),</span> <span class="n">nids</span><span class="p">)</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">20</span><span class="p">,</span> <span class="n">msg</span>

<div class="viewcode-block" id="CPYRAM5.add_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CPYRAM5.add_card">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">add_card</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">card</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a CPYRAM5 card from ``BDF.add_card(...)``</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        card : BDFCard()</span>
<span class="sd">            a BDFCard object</span>
<span class="sd">        comment : str; default=&#39;&#39;</span>
<span class="sd">            a comment for the card</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">eid</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;eid&#39;</span><span class="p">)</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="n">integer_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;pid&#39;</span><span class="p">,</span> <span class="n">eid</span><span class="p">)</span>
        <span class="n">nids</span> <span class="o">=</span> <span class="p">[</span><span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;nid1&#39;</span><span class="p">),</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;nid2&#39;</span><span class="p">),</span>
                <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;nid3&#39;</span><span class="p">),</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;nid4&#39;</span><span class="p">),</span>
                <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;nid5&#39;</span><span class="p">)]</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">card</span><span class="p">)</span> <span class="o">==</span> <span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;len(CPYRAM5 1card) = </span><span class="si">%i</span><span class="se">\n</span><span class="s1">card=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">card</span><span class="p">),</span> <span class="n">card</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">CPYRAM5</span><span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">nids</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span></div>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">add_op2_data</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a CPYRAM5 card from the OP2</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        data : List[varies]</span>
<span class="sd">            a list of fields defined in OP2 format</span>
<span class="sd">        comment : str; default=&#39;&#39;</span>
<span class="sd">            a comment for the card</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">eid</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">nids</span> <span class="o">=</span> <span class="p">[</span><span class="n">d</span> <span class="k">if</span> <span class="n">d</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="kc">None</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">:]]</span>
        <span class="k">return</span> <span class="n">CPYRAM5</span><span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">nids</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span>

<div class="viewcode-block" id="CPYRAM5.cross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CPYRAM5.cross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">cross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">BDF</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Cross links the card so referenced cards can be extracted directly</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        model : BDF()</span>
<span class="sd">            the BDF object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;, which is required by CPYRAM eid=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">eid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">EmptyNodes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pid_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">Property</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span></div>

<div class="viewcode-block" id="CPYRAM5.safe_cross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CPYRAM5.safe_cross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">safe_cross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">xref_errors</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Cross links the card so referenced cards can be extracted directly</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        model : BDF()</span>
<span class="sd">            the BDF object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;, which is required by CPYRAM eid=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">eid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">Nodes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pid_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">safe_property</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">eid</span><span class="p">,</span> <span class="n">xref_errors</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">faces</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the faces of the element</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        faces : Dict[int] = [face1, face2, ...]</span>
<span class="sd">            key = face number</span>
<span class="sd">            value = a list of nodes (integer pointers) as the values.</span>

<span class="sd">        .. note::  The order of the nodes are consistent with normals that point outwards</span>
<span class="sd">                   The face numbering is meaningless</span>

<span class="sd">        .. note::  The order of the nodes are consistent with ANSYS numbering; is this current?</span>
<span class="sd">        .. warning:: higher order element ids not verified with ANSYS; is this current?</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; print(element.faces)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span>
        <span class="n">faces</span> <span class="o">=</span> <span class="p">{</span>
            <span class="mi">1</span> <span class="p">:</span> <span class="p">[</span><span class="n">nodes</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">3</span><span class="p">]],</span>
            <span class="mi">2</span> <span class="p">:</span> <span class="p">[</span><span class="n">nodes</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">4</span><span class="p">]],</span>
            <span class="mi">3</span> <span class="p">:</span> <span class="p">[</span><span class="n">nodes</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">4</span><span class="p">]],</span>
            <span class="mi">4</span> <span class="p">:</span> <span class="p">[</span><span class="n">nodes</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">4</span><span class="p">]],</span>
            <span class="mi">5</span> <span class="p">:</span> <span class="p">[</span><span class="n">nodes</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">4</span><span class="p">]],</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">faces</span>

<div class="viewcode-block" id="CPYRAM5.get_edge_ids"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CPYRAM5.get_edge_ids">[docs]</a>    <span class="k">def</span> <span class="nf">get_edge_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the edge IDs</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">node_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="c1"># base</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">1</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">2</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">3</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">0</span><span class="p">]])),</span>

            <span class="c1"># sides</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">4</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">4</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">4</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">4</span><span class="p">]])),</span>
        <span class="p">]</span></div>

    <span class="k">def</span> <span class="nf">_verify</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xref</span><span class="p">):</span>
        <span class="n">eid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">eid</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Pid</span><span class="p">()</span>
        <span class="n">nids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pid</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">nid</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">nids</span><span class="p">):</span>
            <span class="k">assert</span> <span class="n">nid</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">nid</span><span class="p">,</span> <span class="nb">int</span><span class="p">),</span> <span class="s1">&#39;nid</span><span class="si">%i</span><span class="s1"> is not an integer/blank; nid=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">nid</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">xref</span><span class="p">:</span>
            <span class="n">centroid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Centroid</span><span class="p">()</span>
            <span class="n">volume</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Volume</span><span class="p">()</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
                <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">centroid</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="nb">float</span><span class="p">)</span>

<div class="viewcode-block" id="CPYRAM5.Centroid"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CPYRAM5.Centroid">[docs]</a>    <span class="k">def</span> <span class="nf">Centroid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. seealso:: CPYRAM5.Centroid</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="p">(</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n5</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node_positions</span><span class="p">()</span>
        <span class="n">c1</span> <span class="o">=</span> <span class="n">area_centroid</span><span class="p">(</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">centroid</span> <span class="o">=</span> <span class="p">(</span><span class="n">c1</span> <span class="o">+</span> <span class="n">n5</span><span class="p">)</span> <span class="o">/</span> <span class="mf">2.</span>
        <span class="k">return</span> <span class="n">centroid</span></div>

<div class="viewcode-block" id="CPYRAM5.Volume"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CPYRAM5.Volume">[docs]</a>    <span class="k">def</span> <span class="nf">Volume</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. seealso:: CPYRAM5.Volume</span>

<span class="sd">        V = (l * w) * h / 3</span>
<span class="sd">        V = A * h / 3</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="p">(</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n5</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node_positions</span><span class="p">()</span>
        <span class="n">area1</span><span class="p">,</span> <span class="n">c1</span> <span class="o">=</span> <span class="n">area_centroid</span><span class="p">(</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">)</span>
        <span class="n">volume</span> <span class="o">=</span> <span class="n">area1</span> <span class="o">/</span> <span class="mf">3.</span> <span class="o">*</span> <span class="n">norm</span><span class="p">(</span><span class="n">c1</span> <span class="o">-</span> <span class="n">n5</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">abs</span><span class="p">(</span><span class="n">volume</span><span class="p">)</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">node_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">nids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_node_ids</span><span class="p">(</span><span class="n">nodes</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span><span class="p">,</span> <span class="n">allow_empty_nodes</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">nids</span>

<div class="viewcode-block" id="CPYRAM5.write_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CPYRAM5.write_card">[docs]</a>    <span class="k">def</span> <span class="nf">write_card</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">is_double</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">eid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Pid</span><span class="p">()]</span> <span class="o">+</span> <span class="n">nodes</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;CPYRAM  </span><span class="si">%8i%8i%8i%8i%8i%8i%8i</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">msg</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span></div>

<div class="viewcode-block" id="CPYRAM5.write_card_16"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CPYRAM5.write_card_16">[docs]</a>    <span class="k">def</span> <span class="nf">write_card_16</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">is_double</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="n">nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">eid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Pid</span><span class="p">()]</span> <span class="o">+</span> <span class="n">nodes</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;CPYRAM  </span><span class="si">%16i%16i%16i%16i</span><span class="se">\n</span><span class="s1">&#39;</span>
               <span class="s1">&#39;        </span><span class="si">%16i%16i%16i</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">msg</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span></div></div>


<div class="viewcode-block" id="CPYRAM13"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CPYRAM13">[docs]</a><span class="k">class</span> <span class="nc">CPYRAM13</span><span class="p">(</span><span class="n">SolidElement</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    +--------+-----+-----+-----+-----+-----+-----+-----+-----+</span>
<span class="sd">    |    1   |  2  |  3  |  4  |  5  |  6  |  7  |  8  |  9  |</span>
<span class="sd">    +========+=====+=====+=====+=====+=====+=====+=====+=====+</span>
<span class="sd">    | CPYRAM | EID | PID | G1  | G2  | G3  | G4  | G5  | G6  |</span>
<span class="sd">    +--------+-----+-----+-----+-----+-----+-----+-----+-----+</span>
<span class="sd">    |        | G7  | G8  | G9  | G10 | G11 | G12 |     |     |</span>
<span class="sd">    +--------+-----+-----+-----+-----+-----+-----+-----+-----+</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">type</span> <span class="o">=</span> <span class="s1">&#39;CPYRAM&#39;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">nids</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="n">SolidElement</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">comment</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">=</span> <span class="n">comment</span>
        <span class="c1">#: Element ID</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">eid</span> <span class="o">=</span> <span class="n">eid</span>
        <span class="c1">#: Property ID</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pid</span> <span class="o">=</span> <span class="n">pid</span>
        <span class="n">nnodes</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nids</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">nnodes</span> <span class="o">&lt;</span> <span class="mi">13</span><span class="p">:</span>
            <span class="n">nids</span><span class="o">.</span><span class="n">extend</span><span class="p">((</span><span class="mi">13</span> <span class="o">-</span> <span class="n">nnodes</span><span class="p">)</span> <span class="o">*</span> <span class="p">[</span><span class="kc">None</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">prepare_node_ids</span><span class="p">(</span><span class="n">nids</span><span class="p">,</span> <span class="n">allow_empty_nodes</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;len(nids)=</span><span class="si">%s</span><span class="s1"> nids=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">nids</span><span class="p">),</span> <span class="n">nids</span><span class="p">)</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">)</span> <span class="o">==</span> <span class="mi">13</span><span class="p">,</span> <span class="n">msg</span>

<div class="viewcode-block" id="CPYRAM13.add_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CPYRAM13.add_card">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">add_card</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">card</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a CPYRAM13 card from ``BDF.add_card(...)``</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        card : BDFCard()</span>
<span class="sd">            a BDFCard object</span>
<span class="sd">        comment : str; default=&#39;&#39;</span>
<span class="sd">            a comment for the card</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">eid</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;eid&#39;</span><span class="p">)</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="n">integer_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;pid&#39;</span><span class="p">,</span> <span class="n">eid</span><span class="p">)</span>
        <span class="n">nids</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;nid1&#39;</span><span class="p">),</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;nid2&#39;</span><span class="p">),</span>
            <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;nid3&#39;</span><span class="p">),</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;nid4&#39;</span><span class="p">),</span>
            <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;nid5&#39;</span><span class="p">),</span>
            <span class="n">integer_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;nid6&#39;</span><span class="p">),</span>
            <span class="n">integer_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="s1">&#39;nid7&#39;</span><span class="p">),</span>
            <span class="n">integer_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;nid8&#39;</span><span class="p">),</span>
            <span class="n">integer_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="s1">&#39;nid9&#39;</span><span class="p">),</span>
            <span class="n">integer_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="s1">&#39;nid10&#39;</span><span class="p">),</span>
            <span class="n">integer_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="s1">&#39;nid11&#39;</span><span class="p">),</span>
            <span class="n">integer_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="s1">&#39;nid12&#39;</span><span class="p">),</span>
            <span class="n">integer_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="s1">&#39;nid13&#39;</span><span class="p">)</span>
        <span class="p">]</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">card</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">16</span><span class="p">,</span> <span class="s1">&#39;len(CPYRAM13 1card) = </span><span class="si">%i</span><span class="se">\n</span><span class="s1">card=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">card</span><span class="p">),</span> <span class="n">card</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">CPYRAM13</span><span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">nids</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span></div>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">add_op2_data</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a CPYRAM13 card from the OP2</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        data : List[varies]</span>
<span class="sd">            a list of fields defined in OP2 format</span>
<span class="sd">        comment : str; default=&#39;&#39;</span>
<span class="sd">            a comment for the card</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">eid</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">nids</span> <span class="o">=</span> <span class="p">[</span><span class="n">d</span> <span class="k">if</span> <span class="n">d</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="kc">None</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">:]]</span>
        <span class="k">return</span> <span class="n">CPYRAM13</span><span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">nids</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span>

<div class="viewcode-block" id="CPYRAM13.cross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CPYRAM13.cross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">cross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">BDF</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Cross links the card so referenced cards can be extracted directly</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        model : BDF()</span>
<span class="sd">            the BDF object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;, which is required by CPYRAM eid=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">eid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">EmptyNodes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pid_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">Property</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span></div>

<div class="viewcode-block" id="CPYRAM13.safe_cross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CPYRAM13.safe_cross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">safe_cross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">xref_errors</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Cross links the card so referenced cards can be extracted directly</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        model : BDF()</span>
<span class="sd">            the BDF object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;, which is required by CPYRAM eid=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">eid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">Nodes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pid_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">safe_property</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">eid</span><span class="p">,</span> <span class="n">xref_errors</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">faces</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the faces of the element</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        faces : Dict[int] = [face1, face2, ...]</span>
<span class="sd">            key = face number</span>
<span class="sd">            value = a list of nodes (integer pointers) as the values.</span>

<span class="sd">        .. note::  The order of the nodes are consistent with normals that point outwards</span>
<span class="sd">                   The face numbering is meaningless</span>

<span class="sd">        .. note::  The order of the nodes are consistent with ANSYS numbering; is this current?</span>
<span class="sd">        .. warning:: higher order element ids not verified with ANSYS; is this current?</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; print(element.faces)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">node_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span>
        <span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n5</span><span class="p">,</span> <span class="n">n6</span><span class="p">,</span> <span class="n">n7</span><span class="p">,</span> <span class="n">n8</span><span class="p">,</span> <span class="n">n9</span><span class="p">,</span> <span class="n">n10</span><span class="p">,</span> <span class="n">n11</span><span class="p">,</span> <span class="n">n12</span><span class="p">,</span> <span class="n">n13</span> <span class="o">=</span> <span class="n">node_ids</span>
        <span class="n">faces</span> <span class="o">=</span> <span class="p">{</span>
            <span class="mi">1</span> <span class="p">:</span> <span class="p">[</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n6</span><span class="p">,</span> <span class="n">n7</span><span class="p">,</span> <span class="n">n8</span><span class="p">,</span> <span class="n">n9</span><span class="p">],</span>
            <span class="mi">2</span> <span class="p">:</span> <span class="p">[</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n5</span><span class="p">,</span> <span class="n">n6</span><span class="p">,</span> <span class="n">n11</span><span class="p">,</span> <span class="n">n10</span><span class="p">],</span>
            <span class="mi">3</span> <span class="p">:</span> <span class="p">[</span><span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n5</span><span class="p">,</span> <span class="n">n7</span><span class="p">,</span> <span class="n">n12</span><span class="p">,</span> <span class="n">n11</span><span class="p">],</span>
            <span class="mi">4</span> <span class="p">:</span> <span class="p">[</span><span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n5</span><span class="p">,</span> <span class="n">n8</span><span class="p">,</span> <span class="n">n13</span><span class="p">,</span> <span class="n">n12</span><span class="p">],</span>
            <span class="mi">5</span> <span class="p">:</span> <span class="p">[</span><span class="n">n4</span><span class="p">,</span> <span class="n">n1</span><span class="p">,</span> <span class="n">n5</span><span class="p">,</span> <span class="n">n9</span><span class="p">,</span> <span class="n">n10</span><span class="p">,</span> <span class="n">n13</span><span class="p">],</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">faces</span>

<div class="viewcode-block" id="CPYRAM13.get_edge_ids"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CPYRAM13.get_edge_ids">[docs]</a>    <span class="k">def</span> <span class="nf">get_edge_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the edge IDs</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">node_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="c1"># base</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">1</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">2</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">3</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">0</span><span class="p">]])),</span>

            <span class="c1"># sides</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">4</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">4</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">4</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">4</span><span class="p">]])),</span>
        <span class="p">]</span></div>

    <span class="k">def</span> <span class="nf">_verify</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xref</span><span class="p">):</span>
        <span class="n">eid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">eid</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Pid</span><span class="p">()</span>
        <span class="n">nids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pid</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">nid</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">nids</span><span class="p">):</span>
            <span class="k">assert</span> <span class="n">nid</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">nid</span><span class="p">,</span> <span class="nb">int</span><span class="p">),</span> <span class="s1">&#39;nid</span><span class="si">%i</span><span class="s1"> is not an integer/blank; nid=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">nid</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">xref</span><span class="p">:</span>
            <span class="n">centroid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Centroid</span><span class="p">()</span>
            <span class="n">volume</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Volume</span><span class="p">()</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
                <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">centroid</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="nb">float</span><span class="p">)</span>

<div class="viewcode-block" id="CPYRAM13.Centroid"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CPYRAM13.Centroid">[docs]</a>    <span class="k">def</span> <span class="nf">Centroid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. seealso:: CPYRAM5.Centroid</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="p">(</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n5</span><span class="p">,</span>
         <span class="n">n6</span><span class="p">,</span> <span class="n">n7</span><span class="p">,</span> <span class="n">n8</span><span class="p">,</span> <span class="n">n9</span><span class="p">,</span> <span class="n">n10</span><span class="p">,</span>
         <span class="n">n11</span><span class="p">,</span> <span class="n">n12</span><span class="p">,</span> <span class="n">n13</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node_positions</span><span class="p">()</span>
        <span class="n">c1</span> <span class="o">=</span> <span class="n">area_centroid</span><span class="p">(</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">centroid</span> <span class="o">=</span> <span class="p">(</span><span class="n">c1</span> <span class="o">+</span> <span class="n">n5</span><span class="p">)</span> <span class="o">/</span> <span class="mf">2.</span>
        <span class="k">return</span> <span class="n">centroid</span></div>

<div class="viewcode-block" id="CPYRAM13.Volume"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CPYRAM13.Volume">[docs]</a>    <span class="k">def</span> <span class="nf">Volume</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. seealso:: CPYRAM5.Volume</span>

<span class="sd">        V = (l * w) * h / 3</span>
<span class="sd">        V = A * h / 3</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="p">(</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n5</span><span class="p">,</span>
         <span class="n">n6</span><span class="p">,</span> <span class="n">n7</span><span class="p">,</span> <span class="n">n8</span><span class="p">,</span> <span class="n">n9</span><span class="p">,</span> <span class="n">n10</span><span class="p">,</span>
         <span class="n">n11</span><span class="p">,</span> <span class="n">n12</span><span class="p">,</span> <span class="n">n13</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node_positions</span><span class="p">()</span>
        <span class="n">area1</span><span class="p">,</span> <span class="n">c1</span> <span class="o">=</span> <span class="n">area_centroid</span><span class="p">(</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">)</span>
        <span class="n">volume</span> <span class="o">=</span> <span class="n">area1</span> <span class="o">/</span> <span class="mf">3.</span> <span class="o">*</span> <span class="n">norm</span><span class="p">(</span><span class="n">c1</span> <span class="o">-</span> <span class="n">n5</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">abs</span><span class="p">(</span><span class="n">volume</span><span class="p">)</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">node_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">nids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_node_ids</span><span class="p">(</span><span class="n">nodes</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span><span class="p">,</span> <span class="n">allow_empty_nodes</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">nids</span>

<div class="viewcode-block" id="CPYRAM13.write_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CPYRAM13.write_card">[docs]</a>    <span class="k">def</span> <span class="nf">write_card</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">is_double</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span>
        <span class="n">nodes2</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;&#39;</span> <span class="k">if</span> <span class="n">node</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="s1">&#39;</span><span class="si">%8i</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">node</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">5</span><span class="p">:]]</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">eid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Pid</span><span class="p">()]</span> <span class="o">+</span> <span class="n">nodes</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span> <span class="o">+</span> <span class="n">nodes2</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;CPYRAM  </span><span class="si">%8i%8i%8i%8i%8i%8i%8i%8s</span><span class="se">\n</span><span class="s1">&#39;</span>
               <span class="s1">&#39;        </span><span class="si">%8s%8s%8s%8s%8s%8s%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">msg</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span></div>

<div class="viewcode-block" id="CPYRAM13.write_card_16"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CPYRAM13.write_card_16">[docs]</a>    <span class="k">def</span> <span class="nf">write_card_16</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">is_double</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="n">nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span>
        <span class="n">nodes2</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;&#39;</span> <span class="k">if</span> <span class="n">node</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="s1">&#39;</span><span class="si">%16i</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">node</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">5</span><span class="p">:]]</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">eid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Pid</span><span class="p">()]</span> <span class="o">+</span> <span class="n">nodes</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span> <span class="o">+</span> <span class="n">nodes2</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;CPYRAM* </span><span class="si">%16i%16i%16i%16i</span><span class="se">\n</span><span class="s1">&#39;</span>
               <span class="s1">&#39;*       </span><span class="si">%16i%16i%16i%16s</span><span class="se">\n</span><span class="s1">&#39;</span>
               <span class="s1">&#39;*       </span><span class="si">%16s%16s%16s%16s</span><span class="se">\n</span><span class="s1">&#39;</span>
               <span class="s1">&#39;*       </span><span class="si">%16s%16s%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">msg</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span></div></div>


<div class="viewcode-block" id="CTETRA4"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CTETRA4">[docs]</a><span class="k">class</span> <span class="nc">CTETRA4</span><span class="p">(</span><span class="n">SolidElement</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    +--------+-----+-----+----+----+----+----+</span>
<span class="sd">    |    1   |  2  |  3  |  4 |  5 |  6 |  7 |</span>
<span class="sd">    +========+=====+=====+====+====+====+====+</span>
<span class="sd">    | CTETRA | EID | PID | G1 | G2 | G3 | G4 |</span>
<span class="sd">    +--------+-----+-----+----+----+----+----+</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">type</span> <span class="o">=</span> <span class="s1">&#39;CTETRA&#39;</span>
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">faces</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the faces of the element</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        faces : Dict[int] = [face1, face2, ...]</span>
<span class="sd">            key = face number</span>
<span class="sd">            value = a list of nodes (integer pointers) as the values.</span>

<span class="sd">        .. note::  The order of the nodes are consistent with normals that point outwards</span>
<span class="sd">                   The face numbering is meaningless</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; print(element.faces)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span>
        <span class="n">faces</span> <span class="o">=</span> <span class="p">{</span>
            <span class="mi">1</span> <span class="p">:</span> <span class="p">[</span><span class="n">nodes</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">3</span><span class="p">]],</span>
            <span class="mi">2</span> <span class="p">:</span> <span class="p">[</span><span class="n">nodes</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">2</span><span class="p">]],</span>
            <span class="mi">3</span> <span class="p">:</span> <span class="p">[</span><span class="n">nodes</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">3</span><span class="p">]],</span>
            <span class="mi">4</span> <span class="p">:</span> <span class="p">[</span><span class="n">nodes</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">faces</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">ansys_faces</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the faces of the element</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        faces : Dict[int] = [face1, face2, ...]</span>
<span class="sd">            key = face number</span>
<span class="sd">            value = a list of nodes (integer pointers) as the values.</span>

<span class="sd">        .. note::  The order of the nodes are consistent with ANSYS numbering.</span>
<span class="sd">        .. warning:: higher order element ids not verified with ANSYS.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; print(element.faces)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span>
        <span class="n">faces</span> <span class="o">=</span> <span class="p">{</span>
            <span class="mi">1</span> <span class="p">:</span> <span class="p">[</span><span class="n">nodes</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">2</span><span class="p">]],</span>
            <span class="mi">2</span> <span class="p">:</span> <span class="p">[</span><span class="n">nodes</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">3</span><span class="p">]],</span>
            <span class="mi">3</span> <span class="p">:</span> <span class="p">[</span><span class="n">nodes</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">3</span><span class="p">]],</span>
            <span class="mi">4</span> <span class="p">:</span> <span class="p">[</span><span class="n">nodes</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">3</span><span class="p">]],</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">faces</span>

<div class="viewcode-block" id="CTETRA4.write_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CTETRA4.write_card">[docs]</a>    <span class="k">def</span> <span class="nf">write_card</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">is_double</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">eid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Pid</span><span class="p">()]</span> <span class="o">+</span> <span class="n">nodes</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;CTETRA  </span><span class="si">%8i%8i%8i%8i%8i%8i</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">msg</span></div>

<div class="viewcode-block" id="CTETRA4.write_card_16"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CTETRA4.write_card_16">[docs]</a>    <span class="k">def</span> <span class="nf">write_card_16</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">is_double</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="n">nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">eid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Pid</span><span class="p">()]</span> <span class="o">+</span> <span class="n">nodes</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;CTETRA  </span><span class="si">%16i%16i%16i%16i</span><span class="se">\n</span><span class="s1">&#39;</span>
               <span class="s1">&#39;        </span><span class="si">%16i%16i</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">msg</span></div>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">nids</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a CTETRA4</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        eid : int</span>
<span class="sd">            element id</span>
<span class="sd">        pid : int</span>
<span class="sd">            property id (PSOLID, PLSOLID)</span>
<span class="sd">        nids : List[int]</span>
<span class="sd">            node ids; n=4</span>
<span class="sd">        comment : str; default=&#39;&#39;</span>
<span class="sd">            a comment for the card</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">SolidElement</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">comment</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">=</span> <span class="n">comment</span>
        <span class="c1">#: Element ID</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">eid</span> <span class="o">=</span> <span class="n">eid</span>
        <span class="c1">#: Property ID</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pid</span> <span class="o">=</span> <span class="n">pid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">prepare_node_ids</span><span class="p">(</span><span class="n">nids</span><span class="p">)</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span>

<div class="viewcode-block" id="CTETRA4.add_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CTETRA4.add_card">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">add_card</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">card</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a CTETRA4 card from ``BDF.add_card(...)``</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        card : BDFCard()</span>
<span class="sd">            a BDFCard object</span>
<span class="sd">        comment : str; default=&#39;&#39;</span>
<span class="sd">            a comment for the card</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">eid</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;eid&#39;</span><span class="p">)</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;pid&#39;</span><span class="p">)</span>
        <span class="n">nids</span> <span class="o">=</span> <span class="p">[</span><span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;nid1&#39;</span><span class="p">),</span>
                <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;nid2&#39;</span><span class="p">),</span>
                <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;nid3&#39;</span><span class="p">),</span>
                <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;nid4&#39;</span><span class="p">),</span> <span class="p">]</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">card</span><span class="p">)</span> <span class="o">==</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;len(CTETRA4 card) = </span><span class="si">%i</span><span class="se">\n</span><span class="s1">card=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">card</span><span class="p">),</span> <span class="n">card</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">CTETRA4</span><span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">nids</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span></div>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">add_op2_data</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a CTETRA4 card from the OP2</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        data : List[varies]</span>
<span class="sd">            a list of fields defined in OP2 format</span>
<span class="sd">        comment : str; default=&#39;&#39;</span>
<span class="sd">            a comment for the card</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">eid</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">nids</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">==</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;len(data)=</span><span class="si">%s</span><span class="s1"> data=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">data</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">CTETRA4</span><span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">nids</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span>

<div class="viewcode-block" id="CTETRA4.cross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CTETRA4.cross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">cross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">BDF</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Cross links the card so referenced cards can be extracted directly</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        model : BDF()</span>
<span class="sd">            the BDF object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;, which is required by CTETRA eid=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">eid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">Nodes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pid_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">Property</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span></div>

<div class="viewcode-block" id="CTETRA4.safe_cross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CTETRA4.safe_cross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">safe_cross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">xref_errors</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Cross links the card so referenced cards can be extracted directly</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        model : BDF()</span>
<span class="sd">            the BDF object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;, which is required by CTETRA eid=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">eid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">Nodes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pid_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">safe_property</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">eid</span><span class="p">,</span> <span class="n">xref_errors</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span></div>

<div class="viewcode-block" id="CTETRA4.material_coordinate_system"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CTETRA4.material_coordinate_system">[docs]</a>    <span class="k">def</span> <span class="nf">material_coordinate_system</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xyz</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        centroid: (3,) float ndarray</span>
<span class="sd">           the centoid</span>
<span class="sd">        xe, ye, ze: (3,) float ndarray</span>
<span class="sd">            the element coordinate system</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">centroid</span><span class="p">,</span> <span class="n">xe</span><span class="p">,</span> <span class="n">ye</span><span class="p">,</span> <span class="n">ze</span> <span class="o">=</span> <span class="n">_ctetra_element_coordinate_system</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xyz</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">centroid</span><span class="p">,</span> <span class="n">xe</span><span class="p">,</span> <span class="n">ye</span><span class="p">,</span> <span class="n">ze</span></div>

    <span class="k">def</span> <span class="nf">_verify</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xref</span><span class="p">):</span>
        <span class="n">eid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">eid</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Pid</span><span class="p">()</span>
        <span class="n">nids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pid</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">nid</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">nids</span><span class="p">):</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">nid</span><span class="p">,</span> <span class="nb">int</span><span class="p">),</span> <span class="s1">&#39;nid</span><span class="si">%i</span><span class="s1"> is not an integer; nid=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">nid</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">xref</span><span class="p">:</span>
            <span class="n">centroid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Centroid</span><span class="p">()</span>
            <span class="n">volume</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Volume</span><span class="p">()</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
                <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">centroid</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="nb">float</span><span class="p">)</span>

<div class="viewcode-block" id="CTETRA4.get_edge_ids"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CTETRA4.get_edge_ids">[docs]</a>    <span class="k">def</span> <span class="nf">get_edge_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the edge IDs</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">node_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="c1"># base</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">1</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">2</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">0</span><span class="p">]])),</span>

            <span class="c1"># sides</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">3</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">3</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">3</span><span class="p">]])),</span>
        <span class="p">]</span></div>

<div class="viewcode-block" id="CTETRA4.Volume"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CTETRA4.Volume">[docs]</a>    <span class="k">def</span> <span class="nf">Volume</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Calculate the volume of the tet&quot;&quot;&quot;</span>
        <span class="p">(</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node_positions</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">volume4</span><span class="p">(</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">)</span></div>

<div class="viewcode-block" id="CTETRA4.Centroid"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CTETRA4.Centroid">[docs]</a>    <span class="k">def</span> <span class="nf">Centroid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="p">(</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node_positions</span><span class="p">()</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">n1</span> <span class="o">+</span> <span class="n">n2</span> <span class="o">+</span> <span class="n">n3</span> <span class="o">+</span> <span class="n">n4</span><span class="p">)</span> <span class="o">/</span> <span class="mf">4.</span></div>

<div class="viewcode-block" id="CTETRA4.get_face_nodes"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CTETRA4.get_face_nodes">[docs]</a>    <span class="k">def</span> <span class="nf">get_face_nodes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nid_opposite</span><span class="p">,</span> <span class="n">nid</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">assert</span> <span class="n">nid</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">,</span> <span class="n">nid</span>
        <span class="n">nids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span><span class="p">[:</span><span class="mi">4</span><span class="p">]</span>
        <span class="n">indx</span> <span class="o">=</span> <span class="n">nids</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">nid_opposite</span><span class="p">)</span>
        <span class="n">nids</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">indx</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">nids</span></div>

<div class="viewcode-block" id="CTETRA4.get_face"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CTETRA4.get_face">[docs]</a>    <span class="k">def</span> <span class="nf">get_face</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nid_opposite</span><span class="p">,</span> <span class="n">nid</span><span class="p">):</span>
        <span class="n">nids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span><span class="p">[:</span><span class="mi">6</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">ctetra_face</span><span class="p">(</span><span class="n">nid_opposite</span><span class="p">,</span> <span class="n">nid</span><span class="p">,</span> <span class="n">nids</span><span class="p">)</span></div>

<div class="viewcode-block" id="CTETRA4.get_face_area_centroid_normal"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CTETRA4.get_face_area_centroid_normal">[docs]</a>    <span class="k">def</span> <span class="nf">get_face_area_centroid_normal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nid</span><span class="p">,</span> <span class="n">nid_opposite</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">ctetra_face_area_centroid_normal</span><span class="p">(</span><span class="n">nid</span><span class="p">,</span> <span class="n">nid_opposite</span><span class="p">,</span>
                                                <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span><span class="p">)</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">node_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">nids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_node_ids</span><span class="p">(</span><span class="n">nodes</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span><span class="p">,</span> <span class="n">allow_empty_nodes</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">nids</span>

<div class="viewcode-block" id="CTETRA4.flip_normal"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CTETRA4.flip_normal">[docs]</a>    <span class="k">def</span> <span class="nf">flip_normal</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>  <span class="c1">## TODO verify</span>
        <span class="sd">&quot;&quot;&quot;flips the element inside out&quot;&quot;&quot;</span>
        <span class="c1"># flip n2 with n3</span>
        <span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span> <span class="o">=</span> <span class="p">[</span><span class="n">n1</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n4</span><span class="p">]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">n1_ref</span><span class="p">,</span> <span class="n">n2_ref</span><span class="p">,</span> <span class="n">n3_ref</span><span class="p">,</span> <span class="n">n4_ref</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span> <span class="o">=</span> <span class="p">[</span><span class="n">n1_ref</span><span class="p">,</span> <span class="n">n3_ref</span><span class="p">,</span> <span class="n">n2_ref</span><span class="p">,</span> <span class="n">n4_ref</span><span class="p">]</span></div></div>

<div class="viewcode-block" id="ctetra_face"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.ctetra_face">[docs]</a><span class="k">def</span> <span class="nf">ctetra_face</span><span class="p">(</span><span class="n">nid</span><span class="p">,</span> <span class="n">nid_opposite</span><span class="p">,</span> <span class="n">nids</span><span class="p">):</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">nids</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span><span class="p">,</span> <span class="n">nids</span>
    <span class="n">g1i</span> <span class="o">=</span> <span class="n">nids</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">nid</span><span class="p">)</span>
    <span class="n">g4i</span> <span class="o">=</span> <span class="n">nids</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">nid_opposite</span><span class="p">)</span>

    <span class="n">_ctetra_faces</span> <span class="o">=</span> <span class="p">(</span>
        <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
        <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
        <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
        <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="n">_ctetra_faces</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">g1i</span> <span class="ow">in</span> <span class="n">face</span> <span class="ow">and</span> <span class="n">g4i</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">face</span><span class="p">:</span>
            <span class="n">found_face</span> <span class="o">=</span> <span class="n">face</span>
    <span class="k">return</span> <span class="n">found_face</span></div>

<div class="viewcode-block" id="ctetra_face_area_centroid_normal"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.ctetra_face_area_centroid_normal">[docs]</a><span class="k">def</span> <span class="nf">ctetra_face_area_centroid_normal</span><span class="p">(</span><span class="n">nid</span><span class="p">,</span> <span class="n">nid_opposite</span><span class="p">,</span> <span class="n">nids</span><span class="p">,</span> <span class="n">nodes_ref</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    nid : int</span>
<span class="sd">        G1 - a grid point on the corner of a face</span>
<span class="sd">    nid_opposite : int</span>
<span class="sd">        G4 - a grid point not being loaded</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">face</span> <span class="o">=</span> <span class="n">ctetra_face</span><span class="p">(</span><span class="n">nid</span><span class="p">,</span> <span class="n">nid_opposite</span><span class="p">,</span> <span class="n">nids</span><span class="p">)</span>
    <span class="n">nid1</span><span class="p">,</span> <span class="n">nid2</span><span class="p">,</span> <span class="n">nid3</span> <span class="o">=</span> <span class="n">face</span>
    <span class="n">n1</span> <span class="o">=</span> <span class="n">nodes_ref</span><span class="p">[</span><span class="n">nid1</span><span class="p">]</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
    <span class="n">n2</span> <span class="o">=</span> <span class="n">nodes_ref</span><span class="p">[</span><span class="n">nid2</span><span class="p">]</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
    <span class="n">n3</span> <span class="o">=</span> <span class="n">nodes_ref</span><span class="p">[</span><span class="n">nid3</span><span class="p">]</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>

    <span class="n">axb</span> <span class="o">=</span> <span class="n">cross</span><span class="p">(</span><span class="n">n2</span> <span class="o">-</span> <span class="n">n1</span><span class="p">,</span> <span class="n">n3</span> <span class="o">-</span> <span class="n">n1</span><span class="p">)</span>
    <span class="n">normi</span> <span class="o">=</span> <span class="n">norm</span><span class="p">(</span><span class="n">axb</span><span class="p">)</span>
    <span class="n">centroid</span> <span class="o">=</span> <span class="p">(</span><span class="n">n1</span> <span class="o">+</span> <span class="n">n2</span> <span class="o">+</span> <span class="n">n3</span><span class="p">)</span> <span class="o">/</span> <span class="mf">3.</span>
    <span class="n">area</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">normi</span>
    <span class="k">assert</span> <span class="n">area</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="n">area</span>
    <span class="n">normal</span> <span class="o">=</span> <span class="n">axb</span> <span class="o">/</span> <span class="n">normi</span>
    <span class="k">return</span> <span class="n">face</span><span class="p">,</span> <span class="n">area</span><span class="p">,</span> <span class="n">centroid</span><span class="p">,</span> <span class="n">normal</span></div>


<div class="viewcode-block" id="CTETRA10"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CTETRA10">[docs]</a><span class="k">class</span> <span class="nc">CTETRA10</span><span class="p">(</span><span class="n">SolidElement</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    +--------+-----+-----+-----+-----+-----+----+-----+-----+</span>
<span class="sd">    |    1   |  2  |  3  |  4  |  5  |  6  |  7 |  8  |  9  |</span>
<span class="sd">    +========+=====+=====+=====+=====+=====+====+=====+=====+</span>
<span class="sd">    | CTETRA | EID | PID | G1  | G2  | G3  | G4 | G5  | G6  |</span>
<span class="sd">    +--------+-----+-----+-----+-----+-----+----+-----+-----+</span>
<span class="sd">    |        | G7  |  G8 | G9  | G10 |     |    |     |     |</span>
<span class="sd">    +--------+-----+-----+-----+-----+-----+----+-----+-----+</span>
<span class="sd">    | CTETRA | 1   | 1   | 239 | 229 | 516 | 99 | 335 | 103 |</span>
<span class="sd">    +--------+-----+-----+-----+-----+-----+----+-----+-----+</span>
<span class="sd">    |        | 265 | 334 | 101 | 102 |     |    |     |     |</span>
<span class="sd">    +--------+-----+-----+-----+-----+-----+----+-----+-----+</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">type</span> <span class="o">=</span> <span class="s1">&#39;CTETRA&#39;</span>
<div class="viewcode-block" id="CTETRA10.write_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CTETRA10.write_card">[docs]</a>    <span class="k">def</span> <span class="nf">write_card</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">is_double</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span>
        <span class="n">nodes2</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;&#39;</span> <span class="k">if</span> <span class="n">node</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="s1">&#39;</span><span class="si">%8i</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">node</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">4</span><span class="p">:]]</span>

        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">eid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Pid</span><span class="p">()]</span> <span class="o">+</span> <span class="n">nodes</span><span class="p">[:</span><span class="mi">4</span><span class="p">]</span> <span class="o">+</span> <span class="n">nodes2</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;CTETRA  </span><span class="si">%8i%8i%8i%8i%8i%8i%8s%8s</span><span class="se">\n</span><span class="s1">&#39;</span>
               <span class="s1">&#39;        </span><span class="si">%8s%8s%8s%8s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">msg</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span></div>

<div class="viewcode-block" id="CTETRA10.write_card_16"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CTETRA10.write_card_16">[docs]</a>    <span class="k">def</span> <span class="nf">write_card_16</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">is_double</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="n">nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span>
        <span class="n">nodes2</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;&#39;</span> <span class="k">if</span> <span class="n">node</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="s1">&#39;</span><span class="si">%16i</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">node</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">4</span><span class="p">:]]</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">eid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Pid</span><span class="p">()]</span> <span class="o">+</span> <span class="n">nodes</span><span class="p">[:</span><span class="mi">4</span><span class="p">]</span> <span class="o">+</span> <span class="n">nodes2</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;CTETRA  </span><span class="si">%16i%16i%16i%16i</span><span class="se">\n</span><span class="s1">&#39;</span>
               <span class="s1">&#39;        </span><span class="si">%16i%16i%16s%16s</span><span class="se">\n</span><span class="s1">&#39;</span>
               <span class="s1">&#39;        </span><span class="si">%16s%16s%16s%16s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">msg</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span></div>

<div class="viewcode-block" id="CTETRA10.get_face_area_centroid_normal"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CTETRA10.get_face_area_centroid_normal">[docs]</a>    <span class="k">def</span> <span class="nf">get_face_area_centroid_normal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nid_opposite</span><span class="p">,</span> <span class="n">nid</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">ctetra_face_area_centroid_normal</span><span class="p">(</span><span class="n">nid_opposite</span><span class="p">,</span> <span class="n">nid</span><span class="p">,</span>
                                                <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span><span class="p">[:</span><span class="mi">4</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span><span class="p">[:</span><span class="mi">4</span><span class="p">])</span></div>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">nids</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a CTETRA10</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        eid : int</span>
<span class="sd">            element id</span>
<span class="sd">        pid : int</span>
<span class="sd">            property id (PSOLID, PLSOLID)</span>
<span class="sd">        nids : List[int]</span>
<span class="sd">            node ids; n=10</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">SolidElement</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">comment</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">=</span> <span class="n">comment</span>
        <span class="c1">#: Element ID</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">eid</span> <span class="o">=</span> <span class="n">eid</span>
        <span class="c1">#: Property ID</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pid</span> <span class="o">=</span> <span class="n">pid</span>
        <span class="n">nnodes</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nids</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">nnodes</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">:</span>
            <span class="n">nids</span><span class="o">.</span><span class="n">extend</span><span class="p">((</span><span class="mi">10</span> <span class="o">-</span> <span class="n">nnodes</span><span class="p">)</span> <span class="o">*</span> <span class="p">[</span><span class="kc">None</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">prepare_node_ids</span><span class="p">(</span><span class="n">nids</span><span class="p">,</span> <span class="n">allow_empty_nodes</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">)</span> <span class="o">==</span> <span class="mi">10</span>

<div class="viewcode-block" id="CTETRA10.add_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CTETRA10.add_card">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">add_card</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">card</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a CTETRA10 card from ``BDF.add_card(...)``</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        card : BDFCard()</span>
<span class="sd">            a BDFCard object</span>
<span class="sd">        comment : str; default=&#39;&#39;</span>
<span class="sd">            a comment for the card</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">eid</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;eid&#39;</span><span class="p">)</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;pid&#39;</span><span class="p">)</span>
        <span class="n">nids</span> <span class="o">=</span> <span class="p">[</span><span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;nid1&#39;</span><span class="p">),</span>
                <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;nid2&#39;</span><span class="p">),</span>
                <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;nid3&#39;</span><span class="p">),</span>
                <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;nid4&#39;</span><span class="p">),</span>
                <span class="n">integer_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;nid5&#39;</span><span class="p">),</span>
                <span class="n">integer_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;nid6&#39;</span><span class="p">),</span>
                <span class="n">integer_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="s1">&#39;nid7&#39;</span><span class="p">),</span>
                <span class="n">integer_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;nid8&#39;</span><span class="p">),</span>
                <span class="n">integer_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="s1">&#39;nid9&#39;</span><span class="p">),</span>
                <span class="n">integer_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="s1">&#39;nid10&#39;</span><span class="p">),</span> <span class="p">]</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">card</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">13</span><span class="p">,</span> <span class="s1">&#39;len(CTETRA10 card) = </span><span class="si">%i</span><span class="se">\n</span><span class="s1">card=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">card</span><span class="p">),</span> <span class="n">card</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">CTETRA10</span><span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">nids</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span></div>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">add_op2_data</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a CTETRA10 card from the OP2</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        data : List[varies]</span>
<span class="sd">            a list of fields defined in OP2 format</span>
<span class="sd">        comment : str; default=&#39;&#39;</span>
<span class="sd">            a comment for the card</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">eid</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">nids</span> <span class="o">=</span> <span class="p">[</span><span class="n">d</span> <span class="k">if</span> <span class="n">d</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="kc">None</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">:]]</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">==</span> <span class="mi">12</span><span class="p">,</span> <span class="s1">&#39;len(data)=</span><span class="si">%s</span><span class="s1"> data=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">data</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">CTETRA10</span><span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">nids</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span>

<div class="viewcode-block" id="CTETRA10.cross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CTETRA10.cross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">cross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">BDF</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Cross links the card so referenced cards can be extracted directly</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        model : BDF()</span>
<span class="sd">            the BDF object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;, which is required by CTETRA eid=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">eid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">EmptyNodes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pid_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">Property</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span></div>

<div class="viewcode-block" id="CTETRA10.safe_cross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CTETRA10.safe_cross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">safe_cross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">xref_errors</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Cross links the card so referenced cards can be extracted directly</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        model : BDF()</span>
<span class="sd">            the BDF object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;, which is required by CTETRA eid=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">eid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">Nodes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pid_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">safe_property</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">eid</span><span class="p">,</span> <span class="n">xref_errors</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span></div>

<div class="viewcode-block" id="CTETRA10.material_coordinate_system"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CTETRA10.material_coordinate_system">[docs]</a>    <span class="k">def</span> <span class="nf">material_coordinate_system</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xyz</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        centroid: (3,) float ndarray</span>
<span class="sd">           the centoid</span>
<span class="sd">        xe, ye, ze: (3,) float ndarray</span>
<span class="sd">            the element coordinate system</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">centroid</span><span class="p">,</span> <span class="n">xe</span><span class="p">,</span> <span class="n">ye</span><span class="p">,</span> <span class="n">ze</span> <span class="o">=</span> <span class="n">_ctetra_element_coordinate_system</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xyz</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">centroid</span><span class="p">,</span> <span class="n">xe</span><span class="p">,</span> <span class="n">ye</span><span class="p">,</span> <span class="n">ze</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">faces</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the faces of the element</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        faces : Dict[int] = [face1, face2, ...]</span>
<span class="sd">            key = face number</span>
<span class="sd">            value = a list of nodes (integer pointers) as the values.</span>

<span class="sd">        .. note::  The order of the nodes are consistent with normals that point outwards</span>
<span class="sd">                   The face numbering is meaningless</span>

<span class="sd">        .. note::  The order of the nodes are consistent with ANSYS numbering; is this current?</span>
<span class="sd">        .. warning:: higher order element ids not verified with ANSYS; is this current?</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; print(element.faces)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n5</span><span class="p">,</span> <span class="n">n6</span><span class="p">,</span> <span class="n">n7</span><span class="p">,</span> <span class="n">n8</span><span class="p">,</span> <span class="n">n9</span><span class="p">,</span> <span class="n">n10</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span>
        <span class="n">faces</span> <span class="o">=</span> <span class="p">{</span>
            <span class="mi">1</span> <span class="p">:</span> <span class="p">[</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n5</span><span class="p">,</span> <span class="n">n6</span><span class="p">,</span> <span class="n">n7</span><span class="p">],</span>  <span class="c1">#More?</span>
            <span class="mi">2</span> <span class="p">:</span> <span class="p">[</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n5</span><span class="p">,</span> <span class="n">n9</span><span class="p">,</span> <span class="n">n8</span><span class="p">],</span>
            <span class="mi">3</span> <span class="p">:</span> <span class="p">[</span><span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n6</span><span class="p">,</span> <span class="n">n10</span><span class="p">,</span> <span class="n">n9</span><span class="p">],</span>
            <span class="mi">4</span> <span class="p">:</span> <span class="p">[</span><span class="n">n3</span><span class="p">,</span> <span class="n">n1</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n7</span><span class="p">,</span> <span class="n">n8</span><span class="p">,</span> <span class="n">n10</span><span class="p">],</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">faces</span>

<div class="viewcode-block" id="CTETRA10.get_edge_ids"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CTETRA10.get_edge_ids">[docs]</a>    <span class="k">def</span> <span class="nf">get_edge_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the edge IDs</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">node_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="c1"># base</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">1</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">2</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">0</span><span class="p">]])),</span>

            <span class="c1"># sides</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">3</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">3</span><span class="p">]])),</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">node_ids</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">node_ids</span><span class="p">[</span><span class="mi">3</span><span class="p">]])),</span>
        <span class="p">]</span></div>

    <span class="k">def</span> <span class="nf">_verify</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xref</span><span class="p">):</span>
        <span class="n">eid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">eid</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Pid</span><span class="p">()</span>
        <span class="n">nids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pid</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">nid</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">nids</span><span class="p">):</span>
            <span class="k">assert</span> <span class="n">nid</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">nid</span><span class="p">,</span> <span class="nb">int</span><span class="p">),</span> <span class="s1">&#39;nid</span><span class="si">%i</span><span class="s1"> is not an integer/blank; nid=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">nid</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">xref</span><span class="p">:</span>
            <span class="n">centroid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Centroid</span><span class="p">()</span>
            <span class="n">volume</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Volume</span><span class="p">()</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
                <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">centroid</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="nb">float</span><span class="p">)</span>

    <span class="c1">#def N_10(self, g1, g2, g3, g4):</span>
        <span class="c1">#N1 = g1 * (2 * g1 - 1)</span>
        <span class="c1">#N2 = g2 * (2 * g2 - 1)</span>
        <span class="c1">#N3 = g3 * (2 * g3 - 1)</span>
        <span class="c1">#N4 = g4 * (2 * g4 - 1)</span>
        <span class="c1">#N5 = 4 * g1 * g2</span>
        <span class="c1">#N6 = 4 * g2 * g3</span>
        <span class="c1">#N7 = 4 * g3 * g1</span>
        <span class="c1">#N8 = 4 * g1 * g4</span>
        <span class="c1">#N9 = 4 * g2 * g4</span>
        <span class="c1">#N10 = 4 * g3 * g4</span>
        <span class="c1">#return (N1, N2, N3, N4, N5, N6, N7, N8, N9, N10)</span>

<div class="viewcode-block" id="CTETRA10.Volume"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CTETRA10.Volume">[docs]</a>    <span class="k">def</span> <span class="nf">Volume</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the volume, :math:`V`, of the primary tetrahedron.</span>

<span class="sd">        .. seealso:: CTETRA4.Volume</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="p">(</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node_positions</span><span class="p">()[:</span><span class="mi">4</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">volume4</span><span class="p">(</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">)</span></div>

<div class="viewcode-block" id="CTETRA10.Centroid"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CTETRA10.Centroid">[docs]</a>    <span class="k">def</span> <span class="nf">Centroid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the cenroid of the primary tetrahedron.</span>

<span class="sd">        .. seealso:: CTETRA4.Centroid</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="p">(</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node_positions</span><span class="p">()[:</span><span class="mi">4</span><span class="p">]</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">n1</span> <span class="o">+</span> <span class="n">n2</span> <span class="o">+</span> <span class="n">n3</span> <span class="o">+</span> <span class="n">n4</span><span class="p">)</span> <span class="o">/</span> <span class="mf">4.</span></div>

<div class="viewcode-block" id="CTETRA10.get_face_nodes"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid.CTETRA10.get_face_nodes">[docs]</a>    <span class="k">def</span> <span class="nf">get_face_nodes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nid_opposite</span><span class="p">,</span> <span class="n">nid</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="n">nids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_ids</span><span class="p">[:</span><span class="mi">4</span><span class="p">]</span>
        <span class="n">indx</span> <span class="o">=</span> <span class="n">nids</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">nid_opposite</span><span class="p">)</span>
        <span class="n">nids</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">indx</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">nids</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">node_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">nids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_node_ids</span><span class="p">(</span><span class="n">nodes</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes_ref</span><span class="p">,</span> <span class="n">allow_empty_nodes</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">nids</span></div>

<div class="viewcode-block" id="_ctetra_element_coordinate_system"><a class="viewcode-back" href="../../../../../reference/bdf/cards/elements/pyNastran.bdf.cards.elements.solid.html#pyNastran.bdf.cards.elements.solid._ctetra_element_coordinate_system">[docs]</a><span class="k">def</span> <span class="nf">_ctetra_element_coordinate_system</span><span class="p">(</span><span class="n">element</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">CTETRA4</span><span class="p">,</span> <span class="n">CTETRA10</span><span class="p">],</span> <span class="n">xyz</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    centroid: (3,) float ndarray</span>
<span class="sd">       the centoid</span>
<span class="sd">    xe, ye, ze: (3,) float ndarray</span>
<span class="sd">        the element coordinate system</span>

<span class="sd">    http://www.ipes.dk/Files/Ipes/Filer/nastran_2016_doc_release.pdf&quot;&quot;&quot;</span>
    <span class="c1"># this is the</span>
    <span class="c1">#if normal is None:</span>
        <span class="c1">#normal = element.Normal() # k = kmat</span>

    <span class="k">if</span> <span class="n">xyz</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">x1</span> <span class="o">=</span> <span class="n">element</span><span class="o">.</span><span class="n">nodes_ref</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
        <span class="n">x2</span> <span class="o">=</span> <span class="n">element</span><span class="o">.</span><span class="n">nodes_ref</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
        <span class="n">x3</span> <span class="o">=</span> <span class="n">element</span><span class="o">.</span><span class="n">nodes_ref</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
        <span class="n">x4</span> <span class="o">=</span> <span class="n">element</span><span class="o">.</span><span class="n">nodes_ref</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">x1</span> <span class="o">=</span> <span class="n">xyz</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span>
        <span class="n">x2</span> <span class="o">=</span> <span class="n">xyz</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]</span>
        <span class="n">x3</span> <span class="o">=</span> <span class="n">xyz</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">]</span>
        <span class="n">x4</span> <span class="o">=</span> <span class="n">xyz</span><span class="p">[:,</span> <span class="mi">3</span><span class="p">]</span>

    <span class="c1">#CORDM=-2</span>
    <span class="n">centroid</span> <span class="o">=</span> <span class="p">(</span><span class="n">x1</span> <span class="o">+</span> <span class="n">x2</span> <span class="o">+</span> <span class="n">x3</span> <span class="o">+</span> <span class="n">x4</span><span class="p">)</span> <span class="o">/</span> <span class="mf">4.</span>
    <span class="n">xe</span> <span class="o">=</span> <span class="p">(</span><span class="n">x2</span> <span class="o">+</span> <span class="n">x3</span> <span class="o">+</span> <span class="n">x4</span><span class="p">)</span> <span class="o">/</span> <span class="mf">3.</span> <span class="o">-</span> <span class="n">x1</span>
    <span class="n">xe</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">xe</span><span class="p">)</span>
    <span class="n">v</span> <span class="o">=</span> <span class="p">((</span><span class="n">x1</span> <span class="o">+</span> <span class="n">x3</span> <span class="o">+</span> <span class="n">x4</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">x1</span> <span class="o">+</span> <span class="n">x2</span> <span class="o">+</span> <span class="n">x4</span><span class="p">))</span> <span class="o">/</span> <span class="mf">3.</span>
    <span class="n">ze</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cross</span><span class="p">(</span><span class="n">xe</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
    <span class="n">ze</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">ze</span><span class="p">)</span>

    <span class="n">ye</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cross</span><span class="p">(</span><span class="n">ze</span><span class="p">,</span> <span class="n">xe</span><span class="p">)</span>
    <span class="n">ye</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">ye</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">centroid</span><span class="p">,</span> <span class="n">xe</span><span class="p">,</span> <span class="n">ye</span><span class="p">,</span> <span class="n">ze</span></div>

</pre></div>

           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Steven Doyle.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>