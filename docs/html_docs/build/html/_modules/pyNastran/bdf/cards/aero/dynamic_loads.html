

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>pyNastran.bdf.cards.aero.dynamic_loads &mdash; pyNastran 1.4-dev 1.4-dev documentation</title>
  

  
  <link rel="stylesheet" href="../../../../../_static/css/my_theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/css/my_theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/graphviz.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../../" src="../../../../../_static/documentation_options.js"></script>
        <script data-url_root="../../../../../" id="documentation_options" src="../../../../../_static/documentation_options.js"></script>
        <script src="../../../../../_static/jquery.js"></script>
        <script src="../../../../../_static/underscore.js"></script>
        <script src="../../../../../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="../../../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../../index.html" class="icon icon-home"> pyNastran 1.4-dev
          

          
            
            <img src="../../../../../_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.4-dev
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../installation/index.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../quick_start/index.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../how_to/index.html">How To: pyNastran</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../reference/pyNastran.html">pyNastran Package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../manual/index.html">pyNastran Manual</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">pyNastran 1.4-dev</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../../../index.html">Module code</a> &raquo;</li>
        
      <li>pyNastran.bdf.cards.aero.dynamic_loads</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for pyNastran.bdf.cards.aero.dynamic_loads</h1><div class="highlight"><pre>
<span></span><span class="c1"># coding: utf-8</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">All aero cards are defined in this file.  This includes:</span>

<span class="sd"> * AERO</span>
<span class="sd"> * FLFACT</span>
<span class="sd"> * FLUTTER</span>
<span class="sd"> * GUST</span>
<span class="sd"> * MKAERO1 / MKAERO2</span>

<span class="sd">All cards are BaseCard objects.</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>
<span class="kn">from</span> <span class="nn">itertools</span> <span class="kn">import</span> <span class="n">count</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">TYPE_CHECKING</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="kn">from</span> <span class="nn">pyNastran.utils.numpy_utils</span> <span class="kn">import</span> <span class="n">integer_types</span>
<span class="kn">from</span> <span class="nn">pyNastran.bdf.field_writer_8</span> <span class="kn">import</span> <span class="n">set_blank_if_default</span><span class="p">,</span> <span class="n">print_card_8</span>
<span class="kn">from</span> <span class="nn">pyNastran.bdf.field_writer_16</span> <span class="kn">import</span> <span class="n">print_card_16</span>
<span class="kn">from</span> <span class="nn">pyNastran.bdf.cards.base_card</span> <span class="kn">import</span> <span class="n">BaseCard</span>
<span class="kn">from</span> <span class="nn">pyNastran.utils.atmosphere</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">make_flfacts_eas_sweep</span><span class="p">,</span> <span class="n">make_flfacts_alt_sweep</span><span class="p">,</span> <span class="n">make_flfacts_mach_sweep</span><span class="p">,</span>
    <span class="n">atm_density</span><span class="p">,</span> <span class="n">_velocity_factor</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">pyNastran.bdf.bdf_interface.assign_type</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">integer</span><span class="p">,</span> <span class="n">integer_or_blank</span><span class="p">,</span> <span class="n">double</span><span class="p">,</span> <span class="n">double_or_blank</span><span class="p">,</span> <span class="n">string</span><span class="p">,</span>
    <span class="n">fields</span><span class="p">,</span> <span class="n">string_or_blank</span><span class="p">,</span> <span class="n">double_string_or_blank</span><span class="p">,</span> <span class="n">interpret_value</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">pyNastran.bdf.cards.utils</span> <span class="kn">import</span> <span class="n">wipe_empty_fields</span>
<span class="k">if</span> <span class="n">TYPE_CHECKING</span><span class="p">:</span>  <span class="c1"># pragma: no cover</span>
    <span class="kn">from</span> <span class="nn">pyNastran.bdf.bdf</span> <span class="kn">import</span> <span class="n">BDF</span>


<div class="viewcode-block" id="Aero"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.Aero">[docs]</a><span class="k">class</span> <span class="nc">Aero</span><span class="p">(</span><span class="n">BaseCard</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Base class for AERO and AEROS cards.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Common class for AERO, AEROS</span>

<span class="sd">        Attributes</span>
<span class="sd">        ----------</span>
<span class="sd">        acsid : int; default=0</span>
<span class="sd">            aerodyanmic coordinate system</span>
<span class="sd">            defines the direction of the wind</span>
<span class="sd">        sym_xz : int; default=0</span>
<span class="sd">            xz symmetry flag (+1=symmetry; -1=antisymmetric)</span>
<span class="sd">        sym_xy : int; default=0</span>
<span class="sd">            xy symmetry flag (+1=symmetry; -1=antisymmetric)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">BaseCard</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sym_xy</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sym_xz</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">acsid</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">acsid_ref</span> <span class="o">=</span> <span class="kc">None</span>

<div class="viewcode-block" id="Aero.Acsid"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.Aero.Acsid">[docs]</a>    <span class="k">def</span> <span class="nf">Acsid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">acsid_ref</span><span class="o">.</span><span class="n">cid</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">acsid</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_symmetric_xy</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sym_xy</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_symmetric_xz</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sym_xz</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_anti_symmetric_xy</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sym_xy</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_anti_symmetric_xz</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sym_xz</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="kc">False</span>

<div class="viewcode-block" id="Aero.set_ground_effect"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.Aero.set_ground_effect">[docs]</a>    <span class="k">def</span> <span class="nf">set_ground_effect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">enable</span><span class="p">):</span>  <span class="c1"># TODO: verify</span>
        <span class="k">if</span> <span class="n">enable</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sym_xy</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sym_xy</span> <span class="o">=</span> <span class="mi">1</span></div></div>


<div class="viewcode-block" id="AERO"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.AERO">[docs]</a><span class="k">class</span> <span class="nc">AERO</span><span class="p">(</span><span class="n">Aero</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Gives basic aerodynamic parameters for unsteady aerodynamics.</span>

<span class="sd">    +------+-------+----------+------+--------+-------+-------+</span>
<span class="sd">    |   1  |   2   |    3     |   4  |   5    |   6   |   7   |</span>
<span class="sd">    +======+=======+==========+======+========+=======+=======+</span>
<span class="sd">    | AERO | ACSID | VELOCITY | REFC | RHOREF | SYMXZ | SYMXY |</span>
<span class="sd">    +------+-------+----------+------+--------+-------+-------+</span>
<span class="sd">    | AERO |   3   |   1.3+   | 100. |  1.-5  |   1   |  -1   |</span>
<span class="sd">    +------+-------+----------+------+--------+-------+-------+</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">type</span> <span class="o">=</span> <span class="s1">&#39;AERO&#39;</span>
    <span class="n">_properties</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;is_anti_symmetric_xy&#39;</span><span class="p">,</span> <span class="s1">&#39;is_anti_symmetric_xz&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;is_symmetric_xy&#39;</span><span class="p">,</span> <span class="s1">&#39;is_symmetric_xz&#39;</span><span class="p">]</span>
    <span class="n">_field_map</span> <span class="o">=</span> <span class="p">{</span>
        <span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;acsid&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span><span class="s1">&#39;velocity&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span><span class="s1">&#39;cRef&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span><span class="s1">&#39;rhoRef&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">:</span><span class="s1">&#39;symXZ&#39;</span><span class="p">,</span>
        <span class="mi">6</span><span class="p">:</span><span class="s1">&#39;symXY&#39;</span><span class="p">,</span>
    <span class="p">}</span>

<div class="viewcode-block" id="AERO._init_from_empty"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.AERO._init_from_empty">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_init_from_empty</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="n">velocity</span> <span class="o">=</span> <span class="mf">1.</span>
        <span class="n">cref</span> <span class="o">=</span> <span class="mf">1.</span>
        <span class="n">rho_ref</span> <span class="o">=</span> <span class="mf">1.</span>
        <span class="k">return</span> <span class="n">AERO</span><span class="p">(</span><span class="n">velocity</span><span class="p">,</span> <span class="n">cref</span><span class="p">,</span> <span class="n">rho_ref</span><span class="p">,</span> <span class="n">acsid</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sym_xz</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sym_xy</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">velocity</span><span class="p">,</span> <span class="n">cref</span><span class="p">,</span> <span class="n">rho_ref</span><span class="p">,</span> <span class="n">acsid</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sym_xz</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sym_xy</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates an AERO card</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        velocity : float</span>
<span class="sd">            the airspeed</span>
<span class="sd">        cref : float</span>
<span class="sd">            the aerodynamic chord</span>
<span class="sd">        rho_ref : float</span>
<span class="sd">            FLFACT density scaling factor</span>
<span class="sd">        acsid : int; default=0</span>
<span class="sd">            aerodyanmic coordinate system</span>
<span class="sd">            defines the direction of the wind</span>
<span class="sd">        sym_xz : int; default=0</span>
<span class="sd">            xz symmetry flag (+1=symmetry; -1=antisymmetric)</span>
<span class="sd">        sym_xy : int; default=0</span>
<span class="sd">            xy symmetry flag (+1=symmetry; -1=antisymmetric)</span>
<span class="sd">        comment : str; default=&#39;&#39;</span>
<span class="sd">            a comment for the card</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Aero</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">comment</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">=</span> <span class="n">comment</span>

        <span class="c1">#: Aerodynamic coordinate system identification</span>
        <span class="k">if</span> <span class="n">acsid</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">acsid</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">acsid</span> <span class="o">=</span> <span class="n">acsid</span>

        <span class="c1">#: Velocity for aerodynamic force data recovery and to calculate the BOV</span>
        <span class="c1">#: parameter</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">velocity</span> <span class="o">=</span> <span class="n">velocity</span>

        <span class="c1">#: Reference length for reduced frequency</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cref</span> <span class="o">=</span> <span class="n">cref</span>

        <span class="c1">#: Reference density</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rho_ref</span> <span class="o">=</span> <span class="n">rho_ref</span>

        <span class="c1">#: Symmetry key for the aero coordinate x-z plane. See Remark 6.</span>
        <span class="c1">#: (Integer = +1 for symmetry, 0 for no symmetry, and -1 for antisymmetry;</span>
        <span class="c1">#: Default = 0)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sym_xz</span> <span class="o">=</span> <span class="n">sym_xz</span>

        <span class="c1">#: The symmetry key for the aero coordinate x-y plane can be used to</span>
        <span class="c1">#: simulate ground effect. (Integer = -1 for symmetry, 0 for no symmetry,</span>
        <span class="c1">#: and +1 for antisymmetry; Default = 0)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sym_xy</span> <span class="o">=</span> <span class="n">sym_xy</span>

<div class="viewcode-block" id="AERO.validate"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.AERO.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">acsid</span><span class="p">,</span> <span class="n">integer_types</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;acsid=</span><span class="si">%r</span><span class="s1"> must be an integer; type=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">acsid</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">acsid</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sym_xz</span><span class="p">,</span> <span class="n">integer_types</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;sym_xz=</span><span class="si">%r</span><span class="s1"> must be an integer; type=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">sym_xz</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sym_xz</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sym_xy</span><span class="p">,</span> <span class="n">integer_types</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;sym_xy=</span><span class="si">%r</span><span class="s1"> must be an integer; type=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">sym_xy</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sym_xy</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">msg</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="n">msg</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span></div>

<div class="viewcode-block" id="AERO.cross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.AERO.cross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">cross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">BDF</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Cross refernece aerodynamic coordinate system.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        model : BDF</span>
<span class="sd">            The BDF object.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;, which is required by AERO&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">acsid_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">Coord</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">acsid</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span></div>

<div class="viewcode-block" id="AERO.safe_cross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.AERO.safe_cross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">safe_cross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">xref_errors</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Safe cross refernece aerodynamic coordinate system.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        model : BDF</span>
<span class="sd">            The BDF object.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;, which is required by AERO&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">acsid_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">safe_coord</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">acsid</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">xref_errors</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span></div>

<div class="viewcode-block" id="AERO.add_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.AERO.add_card">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">add_card</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">card</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds an AERO card from ``BDF.add_card(...)``</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        card : BDFCard()</span>
<span class="sd">            a BDFCard object</span>
<span class="sd">        comment : str; default=&#39;&#39;</span>
<span class="sd">            a comment for the card</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">acsid</span> <span class="o">=</span> <span class="n">integer_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;acsid&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">velocity</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;velocity&#39;</span><span class="p">)</span>
        <span class="n">cref</span> <span class="o">=</span> <span class="n">double</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;cRef&#39;</span><span class="p">)</span>
        <span class="n">rho_ref</span> <span class="o">=</span> <span class="n">double</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;rho_ref&#39;</span><span class="p">)</span>
        <span class="n">sym_xz</span> <span class="o">=</span> <span class="n">integer_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;symXZ&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">sym_xy</span> <span class="o">=</span> <span class="n">integer_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;symXY&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">card</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;len(AERO card) = </span><span class="si">%i</span><span class="se">\n</span><span class="s1">card=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">card</span><span class="p">),</span> <span class="n">card</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">AERO</span><span class="p">(</span><span class="n">velocity</span><span class="p">,</span> <span class="n">cref</span><span class="p">,</span> <span class="n">rho_ref</span><span class="p">,</span> <span class="n">acsid</span><span class="o">=</span><span class="n">acsid</span><span class="p">,</span> <span class="n">sym_xz</span><span class="o">=</span><span class="n">sym_xz</span><span class="p">,</span> <span class="n">sym_xy</span><span class="o">=</span><span class="n">sym_xy</span><span class="p">,</span>
                    <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span></div>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">add_op2_data</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="n">acsid</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">velocity</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">cref</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">rho_ref</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
        <span class="n">sym_xz</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
        <span class="n">sym_xy</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">==</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;data = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">data</span>
        <span class="k">return</span> <span class="n">AERO</span><span class="p">(</span><span class="n">acsid</span><span class="p">,</span> <span class="n">velocity</span><span class="p">,</span> <span class="n">cref</span><span class="p">,</span> <span class="n">rho_ref</span><span class="p">,</span> <span class="n">sym_xz</span><span class="p">,</span> <span class="n">sym_xy</span><span class="p">,</span>
                    <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span>

        <span class="c1"># T is the tabular function</span>
        <span class="c1">#angle = self.wg*self.t*(t-(x-self.x0)/self.V)</span>

<div class="viewcode-block" id="AERO.uncross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.AERO.uncross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">uncross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Removes cross-reference links&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">acsid_ref</span> <span class="o">=</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="AERO.update"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.AERO.update">[docs]</a>    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">maps</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        maps = {</span>
<span class="sd">            &#39;coord&#39; : cid_map,</span>
<span class="sd">        }</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">cid_map</span> <span class="o">=</span> <span class="n">maps</span><span class="p">[</span><span class="s1">&#39;coord&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">acsid</span> <span class="o">=</span> <span class="n">cid_map</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">acsid</span><span class="p">]</span></div>

<div class="viewcode-block" id="AERO.raw_fields"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.AERO.raw_fields">[docs]</a>    <span class="k">def</span> <span class="nf">raw_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the fields in their unmodified form</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        fields : List[int/float/str]</span>
<span class="sd">           the fields that define the card</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">list_fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;AERO&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Acsid</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">velocity</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">cref</span><span class="p">,</span>
                       <span class="bp">self</span><span class="o">.</span><span class="n">rho_ref</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">sym_xz</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">sym_xy</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">list_fields</span></div>

<div class="viewcode-block" id="AERO.repr_fields"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.AERO.repr_fields">[docs]</a>    <span class="k">def</span> <span class="nf">repr_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the fields in their simplified form</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        fields : List[varies]</span>
<span class="sd">          the fields that define the card</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">sym_xz</span> <span class="o">=</span> <span class="n">set_blank_if_default</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sym_xz</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">sym_xy</span> <span class="o">=</span> <span class="n">set_blank_if_default</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sym_xy</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">list_fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;AERO&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Acsid</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">velocity</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">cref</span><span class="p">,</span>
                       <span class="bp">self</span><span class="o">.</span><span class="n">rho_ref</span><span class="p">,</span> <span class="n">sym_xz</span><span class="p">,</span> <span class="n">sym_xy</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">list_fields</span></div>

<div class="viewcode-block" id="AERO.write_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.AERO.write_card">[docs]</a>    <span class="k">def</span> <span class="nf">write_card</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">is_double</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Writes the card with the specified width and precision</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        size : int (default=8)</span>
<span class="sd">            size of the field; {8, 16}</span>
<span class="sd">        is_double : bool (default=False)</span>
<span class="sd">            is this card double precision</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        msg : str</span>
<span class="sd">            the string representation of the card</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">card</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">repr_fields</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">print_card_8</span><span class="p">(</span><span class="n">card</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="FLFACT"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.FLFACT">[docs]</a><span class="k">class</span> <span class="nc">FLFACT</span><span class="p">(</span><span class="n">BaseCard</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    +--------+-----+----+------+-----+----+----+----+----+</span>
<span class="sd">    |   1    |  2  |  3 |   4  |  5  | 6  | 7  | 8  | 9  |</span>
<span class="sd">    +========+=====+====+======+=====+====+====+====+====+</span>
<span class="sd">    | FLFACT | SID | F1 | F2   | F3  | F4 | F5 | F6 | F7 |</span>
<span class="sd">    +--------+-----+----+------+-----+----+----+----+----+</span>
<span class="sd">    |        | F8  | F9 | etc. |     |    |    |    |    |</span>
<span class="sd">    +--------+-----+----+------+-----+----+----+----+----+</span>
<span class="sd">    | FLFACT | 97  | .3 |  .7  | 3.5 |    |    |    |    |</span>
<span class="sd">    +--------+-----+----+------+-----+----+----+----+----+</span>

<span class="sd">    # delta quantity approach</span>

<span class="sd">    +--------+-----+-------+------+-------+----+--------+</span>
<span class="sd">    |   1    |  2  |  3    |   4  |   5   | 6  |   7    |</span>
<span class="sd">    +========+=====+=======+======+=======+====+========+</span>
<span class="sd">    | FLFACT | SID | F1    | THRU | FNF   | NF |  FMID  |</span>
<span class="sd">    +--------+-----+-------+------+-------+----+--------+</span>
<span class="sd">    | FLFACT | 201 | 0.200 | THRU | 0.100 | 11 | 0.1333 |</span>
<span class="sd">    +--------+-----+-------+------+-------+----+--------+</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">type</span> <span class="o">=</span> <span class="s1">&#39;FLFACT&#39;</span>

<div class="viewcode-block" id="FLFACT._init_from_empty"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.FLFACT._init_from_empty">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_init_from_empty</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="n">sid</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">factors</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">FLFACT</span><span class="p">(</span><span class="n">sid</span><span class="p">,</span> <span class="n">factors</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sid</span><span class="p">,</span> <span class="n">factors</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates an FLFACT card, which defines factors used for flutter</span>
<span class="sd">        analysis.  These factors define either:</span>
<span class="sd">         - density</span>
<span class="sd">         - mach</span>
<span class="sd">         - velocity</span>
<span class="sd">         - reduced frequency</span>
<span class="sd">        depending on the FLUTTER method chosen (e.g., PK, PKNL, PKNLS)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        sid : int</span>
<span class="sd">            the id of a density, reduced_frequency, mach, or velocity table</span>
<span class="sd">            the FLUTTER card defines the meaning</span>
<span class="sd">        factors : varies</span>
<span class="sd">            values : List[float, ..., float]</span>
<span class="sd">                list of factors</span>
<span class="sd">            List[f1, THRU, fnf, nf, fmid]</span>
<span class="sd">                f1 : float</span>
<span class="sd">                    first value</span>
<span class="sd">                THRU : str</span>
<span class="sd">                    the word THRU</span>
<span class="sd">                fnf : float</span>
<span class="sd">                    second value</span>
<span class="sd">                nf : int</span>
<span class="sd">                    number of values</span>
<span class="sd">                fmid : float; default=(f1 + fnf) / 2.</span>
<span class="sd">                    the mid point to bias the array</span>
<span class="sd">                TODO: does f1 need be be greater than f2/fnf???</span>
<span class="sd">        comment : str; default=&#39;&#39;</span>
<span class="sd">            a comment for the card</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">BaseCard</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">comment</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">=</span> <span class="n">comment</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sid</span> <span class="o">=</span> <span class="n">sid</span>
        <span class="c1">#self.f1 = f1</span>
        <span class="c1">#self.fnf = fnf</span>
        <span class="c1">#self.nf = nf</span>
        <span class="c1">#self.fmid = fmid</span>

        <span class="c1"># the dumb string_types thing is because we also get floats</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">factors</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">factors</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="n">factors</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;THRU&#39;</span><span class="p">:</span>
            <span class="c1">#msg = &#39;embedded THRUs not supported yet on FLFACT card\n&#39;</span>
            <span class="n">nfactors</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">factors</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">nfactors</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
                <span class="p">(</span><span class="n">f1</span><span class="p">,</span> <span class="n">_thru</span><span class="p">,</span> <span class="n">fnf</span><span class="p">,</span> <span class="n">nf</span><span class="p">)</span> <span class="o">=</span> <span class="n">factors</span>
                <span class="n">fmid</span> <span class="o">=</span> <span class="p">(</span><span class="n">f1</span> <span class="o">+</span> <span class="n">fnf</span><span class="p">)</span> <span class="o">/</span> <span class="mf">2.</span>
            <span class="k">elif</span> <span class="n">nfactors</span> <span class="o">==</span> <span class="mi">5</span><span class="p">:</span>
                <span class="p">(</span><span class="n">f1</span><span class="p">,</span> <span class="n">_thru</span><span class="p">,</span> <span class="n">fnf</span><span class="p">,</span> <span class="n">nf</span><span class="p">,</span> <span class="n">fmid</span><span class="p">)</span> <span class="o">=</span> <span class="n">factors</span>
                <span class="c1">#assert _thru.upper() == &#39;THRU&#39;, &#39;factors=%s&#39; % str(factors)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s1">&#39;factors must be length 4/5; factors=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">factors</span><span class="p">)</span>
            <span class="n">i</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">nf</span><span class="p">,</span> <span class="n">nf</span><span class="p">,</span> <span class="n">endpoint</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="n">factors</span> <span class="o">=</span> <span class="p">(</span>
                <span class="p">(</span><span class="n">f1</span><span class="o">*</span><span class="p">(</span><span class="n">fnf</span> <span class="o">-</span> <span class="n">fmid</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">nf</span><span class="o">-</span><span class="n">i</span><span class="p">)</span> <span class="o">+</span> <span class="n">fnf</span> <span class="o">*</span> <span class="p">(</span><span class="n">fmid</span> <span class="o">-</span> <span class="n">f1</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span> <span class="o">/</span>
                <span class="p">(</span>   <span class="p">(</span><span class="n">fnf</span> <span class="o">-</span> <span class="n">fmid</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">nf</span><span class="o">-</span><span class="n">i</span><span class="p">)</span> <span class="o">+</span>       <span class="p">(</span><span class="n">fmid</span> <span class="o">-</span> <span class="n">f1</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
            <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">factors</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">factors</span><span class="p">)</span>

<div class="viewcode-block" id="FLFACT.validate"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.FLFACT.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">factors</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;FLFACT sid=</span><span class="si">%s</span><span class="s1"> is empty; factors=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sid</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">factors</span><span class="p">)))</span></div>

<div class="viewcode-block" id="FLFACT.add_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.FLFACT.add_card">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">add_card</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">card</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds an FLFACT card from ``BDF.add_card(...)``</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        card : BDFCard()</span>
<span class="sd">            a BDFCard object</span>
<span class="sd">        comment : str; default=&#39;&#39;</span>
<span class="sd">            a comment for the card</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">sid</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;sid&#39;</span><span class="p">)</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">card</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;len(FLFACT card)=</span><span class="si">%s</span><span class="s1">; card=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">card</span><span class="p">),</span> <span class="n">card</span><span class="p">)</span>
        <span class="n">field3</span> <span class="o">=</span> <span class="n">double_string_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;THRU&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">field3</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">f1</span> <span class="o">=</span> <span class="n">double</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;f1&#39;</span><span class="p">)</span>
            <span class="n">factors</span> <span class="o">=</span> <span class="p">[</span><span class="n">f1</span><span class="p">]</span>
            <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">card</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;len(FLFACT card)=</span><span class="si">%s</span><span class="s1">; card=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">card</span><span class="p">),</span> <span class="n">card</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">field3</span><span class="p">,</span> <span class="nb">float</span><span class="p">):</span>
            <span class="n">factors</span> <span class="o">=</span> <span class="n">fields</span><span class="p">(</span><span class="n">double</span><span class="p">,</span> <span class="n">card</span><span class="p">,</span> <span class="s1">&#39;factors&#39;</span><span class="p">,</span> <span class="n">i</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">j</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">card</span><span class="p">))</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">field3</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="n">field3</span> <span class="o">==</span> <span class="s1">&#39;THRU&#39;</span><span class="p">:</span>
            <span class="n">f1</span> <span class="o">=</span> <span class="n">double</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;f1&#39;</span><span class="p">)</span>
            <span class="n">fnf</span> <span class="o">=</span> <span class="n">double</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;fnf&#39;</span><span class="p">)</span>
            <span class="n">nf</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;nf&#39;</span><span class="p">)</span>
            <span class="n">fmid_default</span> <span class="o">=</span> <span class="p">(</span><span class="n">f1</span> <span class="o">+</span> <span class="n">fnf</span><span class="p">)</span> <span class="o">/</span> <span class="mf">2.</span>
            <span class="n">fmid</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;fmid&#39;</span><span class="p">,</span> <span class="n">fmid_default</span><span class="p">)</span>
            <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">card</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;len(FLFACT card)=</span><span class="si">%s</span><span class="s1">; card=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">card</span><span class="p">),</span> <span class="n">card</span><span class="p">)</span>
            <span class="n">factors</span> <span class="o">=</span> <span class="p">[</span><span class="n">f1</span><span class="p">,</span> <span class="s1">&#39;THRU&#39;</span><span class="p">,</span> <span class="n">fnf</span><span class="p">,</span> <span class="n">nf</span><span class="p">,</span> <span class="n">fmid</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">SyntaxError</span><span class="p">(</span><span class="s1">&#39;expected a float or string for FLFACT field 3; value=</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">field3</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">FLFACT</span><span class="p">(</span><span class="n">sid</span><span class="p">,</span> <span class="n">factors</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span></div>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">add_op2_data</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="n">sid</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">factors</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
        <span class="k">return</span> <span class="n">FLFACT</span><span class="p">(</span><span class="n">sid</span><span class="p">,</span> <span class="n">factors</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span>

<div class="viewcode-block" id="FLFACT.max"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.FLFACT.max">[docs]</a>    <span class="k">def</span> <span class="nf">max</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">factors</span><span class="o">.</span><span class="n">max</span><span class="p">()</span></div>

<div class="viewcode-block" id="FLFACT.min"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.FLFACT.min">[docs]</a>    <span class="k">def</span> <span class="nf">min</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">factors</span><span class="o">.</span><span class="n">min</span><span class="p">()</span></div>

    <span class="c1">#def uncross_reference(self) -&gt; None:</span>
        <span class="c1">#pass</span>

<div class="viewcode-block" id="FLFACT.raw_fields"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.FLFACT.raw_fields">[docs]</a>    <span class="k">def</span> <span class="nf">raw_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the fields in their unmodified form</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        fields : list[varies]</span>
<span class="sd">            the fields that define the card</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">list_fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;FLFACT&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">sid</span><span class="p">]</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">factors</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">list_fields</span></div>

<div class="viewcode-block" id="FLFACT.write_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.FLFACT.write_card">[docs]</a>    <span class="k">def</span> <span class="nf">write_card</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">is_double</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">card</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">repr_fields</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">size</span> <span class="o">==</span> <span class="mi">8</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">print_card_8</span><span class="p">(</span><span class="n">card</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">print_card_16</span><span class="p">(</span><span class="n">card</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="FLUTTER"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.FLUTTER">[docs]</a><span class="k">class</span> <span class="nc">FLUTTER</span><span class="p">(</span><span class="n">BaseCard</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Defines data needed to perform flutter analysis.</span>

<span class="sd">    +---------+-----+--------+------+------+-------+-------+-------------+------+</span>
<span class="sd">    |    1    |  2  |   3    |  4   |  5   |   6   |   7   |      8      |  9   |</span>
<span class="sd">    +=========+=====+========+======+======+=======+=======+=============+======+</span>
<span class="sd">    | FLUTTER | SID | METHOD | DENS | MACH | RFREQ | IMETH | NVALUE/OMAX | EPS  |</span>
<span class="sd">    +---------+-----+--------+------+------+-------+-------+-------------+------+</span>
<span class="sd">    | FLUTTER | 19  |   K    | 119  | 219  | 319   |   S   |      5      | 1.-4 |</span>
<span class="sd">    +---------+-----+--------+------+------+-------+-------+-------------+------+</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">type</span> <span class="o">=</span> <span class="s1">&#39;FLUTTER&#39;</span>
    <span class="n">_field_map</span> <span class="o">=</span> <span class="p">{</span>
        <span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;sid&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span><span class="s1">&#39;method&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span><span class="s1">&#39;density&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span><span class="s1">&#39;mach&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">:</span><span class="s1">&#39;reduced_freq_velocity&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">:</span><span class="s1">&#39;imethod&#39;</span><span class="p">,</span>
        <span class="mi">8</span><span class="p">:</span><span class="s1">&#39;epsilon&#39;</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">_properties</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;_field_map&#39;</span><span class="p">,</span> <span class="s1">&#39;headers&#39;</span><span class="p">,</span> <span class="p">]</span>

<div class="viewcode-block" id="FLUTTER._init_from_empty"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.FLUTTER._init_from_empty">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_init_from_empty</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="n">sid</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">method</span> <span class="o">=</span> <span class="s1">&#39;PKNL&#39;</span>
        <span class="n">density</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">mach</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">reduced_freq_velocity</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">FLUTTER</span><span class="p">(</span><span class="n">sid</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">density</span><span class="p">,</span> <span class="n">mach</span><span class="p">,</span> <span class="n">reduced_freq_velocity</span><span class="p">,</span>
                       <span class="n">imethod</span><span class="o">=</span><span class="s1">&#39;L&#39;</span><span class="p">,</span> <span class="n">nvalue</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">omax</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="mf">1.0e-3</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">_get_field_helper</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets complicated parameters on the FLUTTER card</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        n : int</span>
<span class="sd">            the field number to update</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        value : int/float/str</span>
<span class="sd">            the value for the appropriate field</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">7</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">method</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;K&#39;</span><span class="p">,</span> <span class="s1">&#39;KE&#39;</span><span class="p">]:</span>
                <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nvalue</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">method</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;PKS&#39;</span><span class="p">,</span> <span class="s1">&#39;PKNLS&#39;</span><span class="p">]:</span>
                <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">omax</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nvalue</span>
            <span class="k">return</span> <span class="n">value</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s1">&#39;Field </span><span class="si">%r</span><span class="s1"> is an invalid FLUTTER entry.&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">n</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_update_field_helper</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Updates complicated parameters on the FLUTTER card</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        n : int</span>
<span class="sd">            the field number to update</span>
<span class="sd">        value : int/float/str</span>
<span class="sd">            the value for the appropriate field</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">7</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">method</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;K&#39;</span><span class="p">,</span> <span class="s1">&#39;KE&#39;</span><span class="p">]:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">nvalue</span> <span class="o">=</span> <span class="n">value</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">method</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;PKS&#39;</span><span class="p">,</span> <span class="s1">&#39;PKNLS&#39;</span><span class="p">]:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">omax</span> <span class="o">=</span> <span class="n">value</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">nvalue</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s1">&#39;Field </span><span class="si">%r</span><span class="s1">=</span><span class="si">%r</span><span class="s1"> is an invalid FLUTTER entry.&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sid</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">density</span><span class="p">,</span> <span class="n">mach</span><span class="p">,</span> <span class="n">reduced_freq_velocity</span><span class="p">,</span>
                 <span class="n">imethod</span><span class="o">=</span><span class="s1">&#39;L&#39;</span><span class="p">,</span> <span class="n">nvalue</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">omax</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="mf">1.0e-3</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a FLUTTER card, which is required for a flutter (SOL 145)</span>
<span class="sd">        analysis.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        sid : int</span>
<span class="sd">            flutter id</span>
<span class="sd">        method : str</span>
<span class="sd">            valid methods = [K, KE,</span>
<span class="sd">                             PKS, PKNLS, PKNL, PKE]</span>
<span class="sd">        density : int</span>
<span class="sd">            defines a series of air densities in units of mass/volume</span>
<span class="sd">            PARAM,WTMASS does not affect this</span>
<span class="sd">            AERO affects this</span>
<span class="sd">            references an FLFACT id</span>
<span class="sd">        mach : int</span>
<span class="sd">            defines a series of the mach numbers</span>
<span class="sd">            references an FLFACT id</span>
<span class="sd">        reduced_freq_velocity : int</span>
<span class="sd">            Defines a series of either:</span>
<span class="sd">               1) reduced frequencies - K, KE</span>
<span class="sd">               2) velocities - PK, PKNL, PKS, PKNLS</span>
<span class="sd">            depending on the method chosen.</span>
<span class="sd">            references an FLFACT id</span>
<span class="sd">        imethod : str; default=&#39;L&#39;</span>
<span class="sd">            Choice of interpolation method for aerodynamic matrix interpolation.</span>
<span class="sd">            imethods :</span>
<span class="sd">               1) L - linear</span>
<span class="sd">               2) S - surface</span>
<span class="sd">               3) TCUB - termwise cubic</span>
<span class="sd">        nvalue : int</span>
<span class="sd">            Number of eigenvalues beginning with the first eigenvalue for</span>
<span class="sd">            output and plots</span>
<span class="sd">        omax : float</span>
<span class="sd">            For the PKS and PKNLS methods, OMAX specifies the maximum frequency, in</span>
<span class="sd">            Hz., to be used in he flutter sweep.</span>
<span class="sd">            MSC only.</span>
<span class="sd">        epsilon : float; default=1.0e-3</span>
<span class="sd">            Convergence parameter for k. Used in the PK and PKNL methods only</span>
<span class="sd">        comment : str; default=&#39;&#39;</span>
<span class="sd">            a comment for the card</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">BaseCard</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">comment</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">=</span> <span class="n">comment</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sid</span> <span class="o">=</span> <span class="n">sid</span>
        <span class="k">if</span> <span class="n">method</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;PK&#39;</span><span class="p">,</span> <span class="s1">&#39;PKNL&#39;</span><span class="p">,</span> <span class="s1">&#39;PKNLS&#39;</span><span class="p">]:</span>
            <span class="n">imethod</span> <span class="o">=</span> <span class="s1">&#39;L&#39;</span>
        <span class="c1">#else:</span>
            <span class="c1">#assert imethod in [&#39;S&#39;, &#39;L&#39;, None], imethod</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">method</span> <span class="o">=</span> <span class="n">method</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">density</span> <span class="o">=</span> <span class="n">density</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mach</span> <span class="o">=</span> <span class="n">mach</span>

        <span class="c1"># KFREQ - K, KE</span>
        <span class="c1"># VEL - PK, PKNL, PKS, PKNLS</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reduced_freq_velocity</span> <span class="o">=</span> <span class="n">reduced_freq_velocity</span>

        <span class="c1">#</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imethod</span> <span class="o">=</span> <span class="n">imethod</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nvalue</span> <span class="o">=</span> <span class="n">nvalue</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">omax</span> <span class="o">=</span> <span class="n">omax</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">epsilon</span> <span class="o">=</span> <span class="n">epsilon</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">density_ref</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mach_ref</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reduced_freq_velocity_ref</span> <span class="o">=</span> <span class="kc">None</span>

<div class="viewcode-block" id="FLUTTER.validate"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.FLUTTER.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">method</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;K&#39;</span><span class="p">,</span> <span class="s1">&#39;KE&#39;</span><span class="p">,</span> <span class="s1">&#39;PK&#39;</span><span class="p">,</span> <span class="s1">&#39;PKNL&#39;</span><span class="p">,</span> <span class="s1">&#39;PKS&#39;</span><span class="p">,</span> <span class="s1">&#39;PKNLS&#39;</span><span class="p">]:</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;method = </span><span class="si">%r</span><span class="s1">; allowed=[K, KE, PKS, PKNLS, PKNL, PK]</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">method</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">imethod</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;L&#39;</span><span class="p">,</span> <span class="s1">&#39;S&#39;</span><span class="p">,</span> <span class="s1">&#39;TCUB&#39;</span><span class="p">]:</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;imethod = </span><span class="si">%r</span><span class="s1">; allowed=[L, S, TCUB]</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">imethod</span>
        <span class="k">if</span> <span class="n">msg</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span></div>

<div class="viewcode-block" id="FLUTTER.add_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.FLUTTER.add_card">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">add_card</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">card</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a FLUTTER card from ``BDF.add_card(...)``</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        card : BDFCard()</span>
<span class="sd">            a BDFCard object</span>
<span class="sd">        comment : str; default=&#39;&#39;</span>
<span class="sd">            a comment for the card</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">sid</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;sid&#39;</span><span class="p">)</span>
        <span class="n">method</span> <span class="o">=</span> <span class="n">string</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;method (K, KE, PKS, PKNLS, PKNL, PK)&#39;</span><span class="p">)</span>
        <span class="n">density_id</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;density&#39;</span><span class="p">)</span>
        <span class="n">mach_id</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;mach&#39;</span><span class="p">)</span>
        <span class="n">reduced_freq_velocity_id</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;reduced_freq_velocity&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">method</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;K&#39;</span><span class="p">,</span> <span class="s1">&#39;KE&#39;</span><span class="p">]:</span>
            <span class="n">imethod</span> <span class="o">=</span> <span class="n">string_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;imethod&#39;</span><span class="p">,</span> <span class="s1">&#39;L&#39;</span><span class="p">)</span>
            <span class="n">nvalue</span> <span class="o">=</span> <span class="n">integer_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;nvalue&#39;</span><span class="p">)</span>
            <span class="n">omax</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">assert</span> <span class="n">imethod</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;L&#39;</span><span class="p">,</span> <span class="s1">&#39;S&#39;</span><span class="p">,</span> <span class="s1">&#39;TCUB&#39;</span><span class="p">],</span> <span class="s1">&#39;imethod = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">imethod</span>  <span class="c1"># linear-surface</span>
        <span class="k">elif</span> <span class="n">method</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;PKS&#39;</span><span class="p">,</span> <span class="s1">&#39;PKNLS&#39;</span><span class="p">]:</span>
            <span class="n">imethod</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">nvalue</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">omax</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;omax&#39;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;PKNL&#39;</span><span class="p">:</span>
            <span class="n">nvalue</span> <span class="o">=</span> <span class="n">integer_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;nvalue&#39;</span><span class="p">)</span>
            <span class="n">omax</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">imethod</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">elif</span> <span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;PK&#39;</span><span class="p">:</span>
            <span class="n">nvalue</span> <span class="o">=</span> <span class="n">integer_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;nvalue&#39;</span><span class="p">)</span>
            <span class="n">omax</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">imethod</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s1">&#39;FLUTTER method=</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">method</span><span class="p">)</span>

        <span class="k">assert</span> <span class="n">method</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;K&#39;</span><span class="p">,</span> <span class="s1">&#39;KE&#39;</span><span class="p">,</span> <span class="s1">&#39;PK&#39;</span><span class="p">,</span> <span class="s1">&#39;PKS&#39;</span><span class="p">,</span> <span class="s1">&#39;PKNL&#39;</span><span class="p">,</span> <span class="s1">&#39;PKNLS&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">],</span> <span class="n">method</span>
        <span class="n">epsilon</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;epsilon&#39;</span><span class="p">,</span> <span class="mf">1e-3</span><span class="p">)</span>  <span class="c1"># not defined in QRG</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">card</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">9</span><span class="p">,</span> <span class="s1">&#39;len(FLUTTER card) = </span><span class="si">%i</span><span class="se">\n</span><span class="s1">card=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">card</span><span class="p">),</span> <span class="n">card</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">FLUTTER</span><span class="p">(</span><span class="n">sid</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">density_id</span><span class="p">,</span> <span class="n">mach_id</span><span class="p">,</span> <span class="n">reduced_freq_velocity_id</span><span class="p">,</span>
                       <span class="n">imethod</span><span class="o">=</span><span class="n">imethod</span><span class="p">,</span> <span class="n">nvalue</span><span class="o">=</span><span class="n">nvalue</span><span class="p">,</span> <span class="n">omax</span><span class="o">=</span><span class="n">omax</span><span class="p">,</span>
                       <span class="n">epsilon</span><span class="o">=</span><span class="n">epsilon</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span></div>

<div class="viewcode-block" id="FLUTTER.make_flfacts_eas_sweep"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.FLUTTER.make_flfacts_eas_sweep">[docs]</a>    <span class="k">def</span> <span class="nf">make_flfacts_eas_sweep</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">BDF</span><span class="p">,</span>
                               <span class="n">alt</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">eass</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span>
                               <span class="n">alt_units</span><span class="p">:</span> <span class="nb">str</span><span class="o">=</span><span class="s1">&#39;m&#39;</span><span class="p">,</span>
                               <span class="n">velocity_units</span><span class="p">:</span> <span class="nb">str</span><span class="o">=</span><span class="s1">&#39;m/s&#39;</span><span class="p">,</span>
                               <span class="n">density_units</span><span class="p">:</span> <span class="nb">str</span><span class="o">=</span><span class="s1">&#39;kg/m^3&#39;</span><span class="p">,</span>
                               <span class="n">eas_units</span><span class="p">:</span> <span class="nb">str</span><span class="o">=</span><span class="s1">&#39;m/s&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Makes a sweep across equivalent airspeed for a constant altitude.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        model : BDF</span>
<span class="sd">            the BDF model object</span>
<span class="sd">        alt : float</span>
<span class="sd">            Altitude in alt_units</span>
<span class="sd">        eass : List[float]</span>
<span class="sd">            Equivalent airspeed in eas_units</span>
<span class="sd">        alt_units : str; default=&#39;m&#39;</span>
<span class="sd">            the altitude units; ft, kft, m</span>
<span class="sd">        velocity_units : str; default=&#39;m/s&#39;</span>
<span class="sd">            the velocity units; ft/s, m/s, in/s, knots</span>
<span class="sd">        density_units : str; default=&#39;kg/m^3&#39;</span>
<span class="sd">            the density units; slug/ft^3, slinch/in^3, kg/m^3</span>
<span class="sd">        eas_units : str; default=&#39;m/s&#39;</span>
<span class="sd">            the equivalent airspeed units; ft/s, m/s, in/s, knots</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">eass</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
        <span class="n">rho</span><span class="p">,</span> <span class="n">mach</span><span class="p">,</span> <span class="n">velocity</span> <span class="o">=</span> <span class="n">make_flfacts_eas_sweep</span><span class="p">(</span>
            <span class="n">alt</span><span class="p">,</span> <span class="n">eass</span><span class="p">,</span>
            <span class="n">alt_units</span><span class="o">=</span><span class="n">alt_units</span><span class="p">,</span> <span class="n">velocity_units</span><span class="o">=</span><span class="n">velocity_units</span><span class="p">,</span>
            <span class="n">density_units</span><span class="o">=</span><span class="n">density_units</span><span class="p">,</span> <span class="n">eas_units</span><span class="o">=</span><span class="n">eas_units</span><span class="p">)</span>
        <span class="n">flfact_rho</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sid</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="n">flfact_mach</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sid</span> <span class="o">+</span> <span class="mi">2</span>
        <span class="n">flfact_velocity</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sid</span> <span class="o">+</span> <span class="mi">3</span>
        <span class="n">flfact_eas</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sid</span> <span class="o">+</span> <span class="mi">4</span>

        <span class="n">comment</span> <span class="o">=</span> <span class="s1">&#39; density: min=</span><span class="si">%.3e</span><span class="s1"> max=</span><span class="si">%.3e</span><span class="s1"> </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span>
            <span class="n">rho</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">rho</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="n">density_units</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">model</span><span class="o">.</span><span class="n">add_flfact</span><span class="p">(</span><span class="n">flfact_rho</span><span class="p">,</span> <span class="n">rho</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span>
        <span class="n">model</span><span class="o">.</span><span class="n">add_flfact</span><span class="p">(</span><span class="n">flfact_mach</span><span class="p">,</span> <span class="n">mach</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39; Mach: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">mach</span><span class="o">.</span><span class="n">min</span><span class="p">())</span>
        <span class="n">comment</span> <span class="o">=</span> <span class="s1">&#39; velocity: min=</span><span class="si">%.3f</span><span class="s1"> max=</span><span class="si">%.3f</span><span class="s1"> </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span>
            <span class="n">velocity</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">velocity</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="n">velocity_units</span><span class="p">)</span>
        <span class="n">model</span><span class="o">.</span><span class="n">add_flfact</span><span class="p">(</span><span class="n">flfact_velocity</span><span class="p">,</span> <span class="n">velocity</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span>

        <span class="c1"># eas in velocity units</span>
        <span class="n">comment</span> <span class="o">=</span> <span class="s1">&#39; EAS: min=</span><span class="si">%.3f</span><span class="s1"> max=</span><span class="si">%.3f</span><span class="s1"> </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span>
            <span class="n">eass</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">eass</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="n">eas_units</span><span class="p">)</span>
        <span class="n">model</span><span class="o">.</span><span class="n">add_flfact</span><span class="p">(</span><span class="n">flfact_eas</span><span class="p">,</span> <span class="n">eass</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span></div>

<div class="viewcode-block" id="FLUTTER.make_flfacts_alt_sweep"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.FLUTTER.make_flfacts_alt_sweep">[docs]</a>    <span class="k">def</span> <span class="nf">make_flfacts_alt_sweep</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">BDF</span><span class="p">,</span> <span class="n">mach</span><span class="p">,</span> <span class="n">alts</span><span class="p">,</span> <span class="n">eas_limit</span><span class="p">:</span> <span class="nb">float</span><span class="o">=</span><span class="mf">1000.</span><span class="p">,</span>
                               <span class="n">alt_units</span><span class="p">:</span> <span class="nb">str</span><span class="o">=</span><span class="s1">&#39;m&#39;</span><span class="p">,</span>
                               <span class="n">velocity_units</span><span class="p">:</span> <span class="nb">str</span><span class="o">=</span><span class="s1">&#39;m/s&#39;</span><span class="p">,</span>
                               <span class="n">density_units</span><span class="p">:</span> <span class="nb">str</span><span class="o">=</span><span class="s1">&#39;kg/m^3&#39;</span><span class="p">,</span>
                               <span class="n">eas_units</span><span class="p">:</span> <span class="nb">str</span><span class="o">=</span><span class="s1">&#39;m/s&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;makes an altitude sweep&quot;&quot;&quot;</span>
        <span class="n">alts</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
        <span class="n">alts</span> <span class="o">=</span> <span class="n">alts</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">rho</span><span class="p">,</span> <span class="n">mach</span><span class="p">,</span> <span class="n">velocity</span> <span class="o">=</span> <span class="n">make_flfacts_alt_sweep</span><span class="p">(</span>
            <span class="n">mach</span><span class="p">,</span> <span class="n">alts</span><span class="p">,</span> <span class="n">eas_limit</span><span class="o">=</span><span class="n">eas_limit</span><span class="p">,</span>
            <span class="n">alt_units</span><span class="o">=</span><span class="n">alt_units</span><span class="p">,</span>
            <span class="n">velocity_units</span><span class="o">=</span><span class="n">velocity_units</span><span class="p">,</span>
            <span class="n">density_units</span><span class="o">=</span><span class="n">density_units</span><span class="p">,</span>
            <span class="n">eas_units</span><span class="o">=</span><span class="n">eas_units</span><span class="p">)</span>
        <span class="n">flfact_rho</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sid</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="n">flfact_mach</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sid</span> <span class="o">+</span> <span class="mi">2</span>
        <span class="n">flfact_velocity</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sid</span> <span class="o">+</span> <span class="mi">3</span>
        <span class="n">flfact_eas</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sid</span> <span class="o">+</span> <span class="mi">4</span>
        <span class="n">flfact_alt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sid</span> <span class="o">+</span> <span class="mi">5</span>

        <span class="n">alts2</span> <span class="o">=</span> <span class="n">alts</span><span class="p">[:</span><span class="nb">len</span><span class="p">(</span><span class="n">rho</span><span class="p">)]</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">rho</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">alts2</span><span class="p">)</span>
        <span class="n">comment</span> <span class="o">=</span> <span class="s1">&#39; density: min=</span><span class="si">%.3e</span><span class="s1"> max=</span><span class="si">%.3e</span><span class="s1"> </span><span class="si">%s</span><span class="s1">; alt min=</span><span class="si">%.0f</span><span class="s1"> max=</span><span class="si">%.0f</span><span class="s1"> </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span>
            <span class="n">rho</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">rho</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="n">density_units</span><span class="p">,</span>
            <span class="n">alts2</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">alts2</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="n">alt_units</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">model</span><span class="o">.</span><span class="n">add_flfact</span><span class="p">(</span><span class="n">flfact_rho</span><span class="p">,</span> <span class="n">rho</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span>
        <span class="n">model</span><span class="o">.</span><span class="n">add_flfact</span><span class="p">(</span><span class="n">flfact_mach</span><span class="p">,</span> <span class="n">mach</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39; Mach: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">mach</span><span class="o">.</span><span class="n">min</span><span class="p">())</span>
        <span class="n">comment</span> <span class="o">=</span> <span class="s1">&#39; velocity: min=</span><span class="si">%.3f</span><span class="s1"> max=</span><span class="si">%.3f</span><span class="s1"> </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span>
            <span class="n">velocity</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">velocity</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="n">velocity_units</span><span class="p">)</span>
        <span class="n">model</span><span class="o">.</span><span class="n">add_flfact</span><span class="p">(</span><span class="n">flfact_velocity</span><span class="p">,</span> <span class="n">velocity</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span>

        <span class="c1"># eas in velocity units</span>
        <span class="n">rho0</span> <span class="o">=</span> <span class="n">atm_density</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="n">alt_units</span><span class="o">=</span><span class="n">alt_units</span><span class="p">,</span> <span class="n">density_units</span><span class="o">=</span><span class="n">density_units</span><span class="p">)</span>
        <span class="n">eas</span> <span class="o">=</span> <span class="n">velocity</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">rho</span> <span class="o">/</span> <span class="n">rho0</span><span class="p">)</span>
        <span class="n">kvel</span> <span class="o">=</span> <span class="n">_velocity_factor</span><span class="p">(</span><span class="n">velocity_units</span><span class="p">,</span> <span class="n">eas_units</span><span class="p">)</span>

        <span class="n">eas_in_eas_units</span> <span class="o">=</span> <span class="n">eas</span> <span class="o">*</span> <span class="n">kvel</span>
        <span class="n">comment</span> <span class="o">=</span> <span class="s1">&#39; EAS: min=</span><span class="si">%.3f</span><span class="s1"> max=</span><span class="si">%.3f</span><span class="s1"> </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span>
            <span class="n">eas_in_eas_units</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">eas_in_eas_units</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="n">eas_units</span><span class="p">)</span>
        <span class="n">model</span><span class="o">.</span><span class="n">add_flfact</span><span class="p">(</span><span class="n">flfact_eas</span><span class="p">,</span> <span class="n">eas_in_eas_units</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span>

        <span class="n">comment</span> <span class="o">=</span> <span class="s1">&#39; Alt: min=</span><span class="si">%.3f</span><span class="s1"> max=</span><span class="si">%.3f</span><span class="s1"> </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">alts2</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">alts2</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="n">alt_units</span><span class="p">)</span>
        <span class="n">model</span><span class="o">.</span><span class="n">add_flfact</span><span class="p">(</span><span class="n">flfact_alt</span><span class="p">,</span> <span class="n">alts2</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span></div>

<div class="viewcode-block" id="FLUTTER.make_flfacts_mach_sweep"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.FLUTTER.make_flfacts_mach_sweep">[docs]</a>    <span class="k">def</span> <span class="nf">make_flfacts_mach_sweep</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">alt</span><span class="p">,</span> <span class="n">machs</span><span class="p">,</span> <span class="n">eas_limit</span><span class="o">=</span><span class="mf">1000.</span><span class="p">,</span> <span class="n">alt_units</span><span class="o">=</span><span class="s1">&#39;m&#39;</span><span class="p">,</span>
                                <span class="n">velocity_units</span><span class="o">=</span><span class="s1">&#39;m/s&#39;</span><span class="p">,</span>
                                <span class="n">density_units</span><span class="o">=</span><span class="s1">&#39;kg/m^3&#39;</span><span class="p">,</span>
                                <span class="n">eas_units</span><span class="o">=</span><span class="s1">&#39;m/s&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;makes a mach sweep&quot;&quot;&quot;</span>
        <span class="n">machs</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
        <span class="n">machs</span> <span class="o">=</span> <span class="n">machs</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">rho</span><span class="p">,</span> <span class="n">mach</span><span class="p">,</span> <span class="n">velocity</span> <span class="o">=</span> <span class="n">make_flfacts_mach_sweep</span><span class="p">(</span>
            <span class="n">alt</span><span class="p">,</span> <span class="n">machs</span><span class="p">,</span> <span class="n">eas_limit</span><span class="o">=</span><span class="n">eas_limit</span><span class="p">,</span>
            <span class="n">alt_units</span><span class="o">=</span><span class="n">alt_units</span><span class="p">,</span>
            <span class="n">velocity_units</span><span class="o">=</span><span class="n">velocity_units</span><span class="p">,</span>
            <span class="n">density_units</span><span class="o">=</span><span class="n">density_units</span><span class="p">,</span>
            <span class="n">eas_units</span><span class="o">=</span><span class="n">eas_units</span><span class="p">)</span>

        <span class="n">machs2</span> <span class="o">=</span> <span class="n">machs</span><span class="p">[:</span><span class="nb">len</span><span class="p">(</span><span class="n">rho</span><span class="p">)]</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">rho</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">machs2</span><span class="p">)</span>

        <span class="n">flfact_rho</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sid</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="n">flfact_mach</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sid</span> <span class="o">+</span> <span class="mi">2</span>
        <span class="n">flfact_velocity</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sid</span> <span class="o">+</span> <span class="mi">3</span>
        <span class="n">flfact_eas</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sid</span> <span class="o">+</span> <span class="mi">4</span>

        <span class="n">comment</span> <span class="o">=</span> <span class="s1">&#39; density: min=</span><span class="si">%.3e</span><span class="s1"> max=</span><span class="si">%.3e</span><span class="s1"> </span><span class="si">%s</span><span class="s1">; alt </span><span class="si">%.0f</span><span class="s1"> </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span>
            <span class="n">rho</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">rho</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="n">density_units</span><span class="p">,</span>
            <span class="n">alt</span><span class="p">,</span> <span class="n">alt_units</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">model</span><span class="o">.</span><span class="n">add_flfact</span><span class="p">(</span><span class="n">flfact_rho</span><span class="p">,</span> <span class="n">rho</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span>
        <span class="n">comment</span> <span class="o">=</span> <span class="s1">&#39; Mach: min=</span><span class="si">%s</span><span class="s1"> max=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">mach</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">mach</span><span class="o">.</span><span class="n">max</span><span class="p">())</span>
        <span class="n">model</span><span class="o">.</span><span class="n">add_flfact</span><span class="p">(</span><span class="n">flfact_mach</span><span class="p">,</span> <span class="n">mach</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span>
        <span class="n">comment</span> <span class="o">=</span> <span class="s1">&#39; velocity: min=</span><span class="si">%.3f</span><span class="s1"> max=</span><span class="si">%.3f</span><span class="s1"> </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span>
            <span class="n">velocity</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">velocity</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="n">velocity_units</span><span class="p">)</span>
        <span class="n">model</span><span class="o">.</span><span class="n">add_flfact</span><span class="p">(</span><span class="n">flfact_velocity</span><span class="p">,</span> <span class="n">velocity</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span>

        <span class="c1"># eas in velocity units</span>
        <span class="n">rho0</span> <span class="o">=</span> <span class="n">atm_density</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="n">alt_units</span><span class="o">=</span><span class="n">alt_units</span><span class="p">,</span> <span class="n">density_units</span><span class="o">=</span><span class="n">density_units</span><span class="p">)</span>
        <span class="n">eas</span> <span class="o">=</span> <span class="n">velocity</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">rho</span> <span class="o">/</span> <span class="n">rho0</span><span class="p">)</span>
        <span class="n">kvel</span> <span class="o">=</span> <span class="n">_velocity_factor</span><span class="p">(</span><span class="n">velocity_units</span><span class="p">,</span> <span class="n">eas_units</span><span class="p">)</span>

        <span class="n">eas_in_eas_units</span> <span class="o">=</span> <span class="n">eas</span> <span class="o">*</span> <span class="n">kvel</span>
        <span class="n">comment</span> <span class="o">=</span> <span class="s1">&#39; EAS: min=</span><span class="si">%.3f</span><span class="s1"> max=</span><span class="si">%.3f</span><span class="s1"> </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span>
            <span class="n">eas_in_eas_units</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">eas_in_eas_units</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="n">eas_units</span><span class="p">)</span>
        <span class="n">model</span><span class="o">.</span><span class="n">add_flfact</span><span class="p">(</span><span class="n">flfact_eas</span><span class="p">,</span> <span class="n">eas_in_eas_units</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">headers</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">headers</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;density&#39;</span><span class="p">,</span> <span class="s1">&#39;mach&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">method</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;PK&#39;</span><span class="p">,</span> <span class="s1">&#39;PKS&#39;</span><span class="p">,</span> <span class="s1">&#39;PKNL&#39;</span><span class="p">,</span> <span class="s1">&#39;PKNLS&#39;</span><span class="p">]:</span>
            <span class="n">headers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;velocity&#39;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">method</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;K&#39;</span><span class="p">,</span> <span class="s1">&#39;KE&#39;</span><span class="p">]:</span>
            <span class="n">headers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;reduced_frequency&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s1">&#39;FLUTTER method=</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">method</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">headers</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">add_op2_data</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">==</span> <span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;FLUTTER = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">data</span>
        <span class="n">sid</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">method</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">density</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">mach</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
        <span class="n">reduced_freq_velocity</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
        <span class="n">method</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
        <span class="n">imethod</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span>
        <span class="n">nvalue</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span>
        <span class="n">omax</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span>
        <span class="n">epsilon</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">FLUTTER</span><span class="p">(</span><span class="n">sid</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">density</span><span class="p">,</span> <span class="n">mach</span><span class="p">,</span> <span class="n">reduced_freq_velocity</span><span class="p">,</span>
                       <span class="n">imethod</span><span class="p">,</span> <span class="n">nvalue</span><span class="p">,</span> <span class="n">omax</span><span class="p">,</span>
                       <span class="n">epsilon</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span>

<div class="viewcode-block" id="FLUTTER.cross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.FLUTTER.cross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">cross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">BDF</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Cross links the card so referenced cards can be extracted directly</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        model : BDF()</span>
<span class="sd">            the BDF object</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;, which is required by FLUTTER sid=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">sid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">density_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">FLFACT</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">density</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mach_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">FLFACT</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mach</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reduced_freq_velocity_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">FLFACT</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">reduced_freq_velocity</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span></div>

<div class="viewcode-block" id="FLUTTER.safe_cross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.FLUTTER.safe_cross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">safe_cross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">):</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;, which is required by FLUTTER sid=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">sid</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">density_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">FLFACT</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">density</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">mach_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">FLFACT</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mach</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">reduced_freq_velocity_ref</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">FLFACT</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">reduced_freq_velocity</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">pass</span></div>

<div class="viewcode-block" id="FLUTTER.uncross_reference"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.FLUTTER.uncross_reference">[docs]</a>    <span class="k">def</span> <span class="nf">uncross_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Removes cross-reference links&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">density</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_density</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mach</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_mach</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reduced_freq_velocity</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_rfreq_vel</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">density_ref</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mach_ref</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reduced_freq_velocity_ref</span> <span class="o">=</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="FLUTTER.get_density"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.FLUTTER.get_density">[docs]</a>    <span class="k">def</span> <span class="nf">get_density</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">density_ref</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">density_ref</span><span class="o">.</span><span class="n">sid</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">density</span></div>

<div class="viewcode-block" id="FLUTTER.get_mach"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.FLUTTER.get_mach">[docs]</a>    <span class="k">def</span> <span class="nf">get_mach</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mach_ref</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">mach_ref</span><span class="o">.</span><span class="n">sid</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">mach</span></div>

<div class="viewcode-block" id="FLUTTER.get_rfreq_vel"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.FLUTTER.get_rfreq_vel">[docs]</a>    <span class="k">def</span> <span class="nf">get_rfreq_vel</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">reduced_freq_velocity_ref</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">reduced_freq_velocity_ref</span><span class="o">.</span><span class="n">sid</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">reduced_freq_velocity</span></div>

<div class="viewcode-block" id="FLUTTER._get_raw_nvalue_omax"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.FLUTTER._get_raw_nvalue_omax">[docs]</a>    <span class="k">def</span> <span class="nf">_get_raw_nvalue_omax</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">method</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;K&#39;</span><span class="p">,</span> <span class="s1">&#39;KE&#39;</span><span class="p">]:</span>
            <span class="c1">#assert self.imethod in [&#39;L&#39;, &#39;S&#39;], &#39;imethod = %s&#39; % self.imethod</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">imethod</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nvalue</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">method</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;PKS&#39;</span><span class="p">,</span> <span class="s1">&#39;PKNLS&#39;</span><span class="p">]:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">imethod</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">omax</span>
        <span class="c1"># PK, PKNL</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">imethod</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nvalue</span></div>

<div class="viewcode-block" id="FLUTTER._get_repr_nvalue_omax"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.FLUTTER._get_repr_nvalue_omax">[docs]</a>    <span class="k">def</span> <span class="nf">_get_repr_nvalue_omax</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">method</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;K&#39;</span><span class="p">,</span> <span class="s1">&#39;KE&#39;</span><span class="p">]:</span>
            <span class="n">imethod</span> <span class="o">=</span> <span class="n">set_blank_if_default</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">imethod</span><span class="p">,</span> <span class="s1">&#39;L&#39;</span><span class="p">)</span>
            <span class="c1">#assert self.imethod in [&#39;L&#39;, &#39;S&#39;], &#39;imethod = %s&#39; % self.imethods</span>
            <span class="k">return</span> <span class="n">imethod</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nvalue</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">method</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;PKS&#39;</span><span class="p">,</span> <span class="s1">&#39;PKNLS&#39;</span><span class="p">]:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">imethod</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">omax</span>
        <span class="c1"># PK, PKNL</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">imethod</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nvalue</span></div>

<div class="viewcode-block" id="FLUTTER.raw_fields"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.FLUTTER.raw_fields">[docs]</a>    <span class="k">def</span> <span class="nf">raw_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the fields in their unmodified form</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        fields : list[varies]</span>
<span class="sd">            the fields that define the card</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="p">(</span><span class="n">imethod</span><span class="p">,</span> <span class="n">nvalue</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_raw_nvalue_omax</span><span class="p">()</span>
        <span class="n">list_fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;FLUTTER&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">sid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">method</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_density</span><span class="p">(),</span>
                       <span class="bp">self</span><span class="o">.</span><span class="n">get_mach</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_rfreq_vel</span><span class="p">(),</span> <span class="n">imethod</span><span class="p">,</span> <span class="n">nvalue</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">epsilon</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">list_fields</span></div>

<div class="viewcode-block" id="FLUTTER.repr_fields"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.FLUTTER.repr_fields">[docs]</a>    <span class="k">def</span> <span class="nf">repr_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="p">(</span><span class="n">imethod</span><span class="p">,</span> <span class="n">nvalue</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_repr_nvalue_omax</span><span class="p">()</span>
        <span class="n">epsilon</span> <span class="o">=</span> <span class="n">set_blank_if_default</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">epsilon</span><span class="p">,</span> <span class="mf">0.001</span><span class="p">)</span>
        <span class="n">list_fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;FLUTTER&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">sid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">method</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_density</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_mach</span><span class="p">(),</span>
                       <span class="bp">self</span><span class="o">.</span><span class="n">get_rfreq_vel</span><span class="p">(),</span> <span class="n">imethod</span><span class="p">,</span> <span class="n">nvalue</span><span class="p">,</span> <span class="n">epsilon</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">list_fields</span></div>

<div class="viewcode-block" id="FLUTTER.write_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.FLUTTER.write_card">[docs]</a>    <span class="k">def</span> <span class="nf">write_card</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">is_double</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">card</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">repr_fields</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">print_card_8</span><span class="p">(</span><span class="n">card</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="GUST"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.GUST">[docs]</a><span class="k">class</span> <span class="nc">GUST</span><span class="p">(</span><span class="n">BaseCard</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Defines a stationary vertical gust for use in aeroelastic response</span>
<span class="sd">    analysis.</span>

<span class="sd">    +------+-----+-------+-----+-----+------+</span>
<span class="sd">    |   1  |  2  |   3   |  4  |  5  |  6   |</span>
<span class="sd">    +======+=====+=======+=====+=====+======+</span>
<span class="sd">    | GUST | SID | DLOAD | WG  | X0  |  V   |</span>
<span class="sd">    +------+-----+-------+-----+-----+------+</span>
<span class="sd">    | GUST | 133 |   61  | 1.0 | 0.  | 1.+4 |</span>
<span class="sd">    +------+-----+-------+-----+-----+------+</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">type</span> <span class="o">=</span> <span class="s1">&#39;GUST&#39;</span>
    <span class="n">_field_map</span> <span class="o">=</span> <span class="p">{</span>
        <span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;sid&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span><span class="s1">&#39;dload&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span><span class="s1">&#39;wg&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span><span class="s1">&#39;x0&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">:</span><span class="s1">&#39;V&#39;</span><span class="p">,</span>
    <span class="p">}</span>

<div class="viewcode-block" id="GUST._init_from_empty"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.GUST._init_from_empty">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_init_from_empty</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="n">sid</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">dload</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">wg</span> <span class="o">=</span> <span class="mf">1.</span>
        <span class="n">x0</span> <span class="o">=</span> <span class="mf">0.</span>
        <span class="k">return</span> <span class="n">GUST</span><span class="p">(</span><span class="n">sid</span><span class="p">,</span> <span class="n">dload</span><span class="p">,</span> <span class="n">wg</span><span class="p">,</span> <span class="n">x0</span><span class="p">,</span> <span class="n">V</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sid</span><span class="p">,</span> <span class="n">dload</span><span class="p">,</span> <span class="n">wg</span><span class="p">,</span> <span class="n">x0</span><span class="p">,</span> <span class="n">V</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a GUST card, which defines a stationary vertical gust</span>
<span class="sd">        for use in aeroelastic response analysis.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        sid : int</span>
<span class="sd">            gust load id</span>
<span class="sd">        dload : int</span>
<span class="sd">            TLOADx or RLOADx entry that defines the time/frequency</span>
<span class="sd">            dependence</span>
<span class="sd">        wg : float</span>
<span class="sd">            Scale factor (gust velocity/forward velocity) for gust</span>
<span class="sd">            velocity</span>
<span class="sd">        x0 : float</span>
<span class="sd">            Streamwise location in the aerodynamic coordinate system of</span>
<span class="sd">            the gust reference point.</span>
<span class="sd">        V : float; default=None</span>
<span class="sd">            float : velocity of the vehicle (must be the same as the</span>
<span class="sd">                    velocity on the AERO card)</span>
<span class="sd">            None : ???</span>
<span class="sd">        comment : str; default=&#39;&#39;</span>
<span class="sd">            a comment for the card</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">BaseCard</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">comment</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">=</span> <span class="n">comment</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sid</span> <span class="o">=</span> <span class="n">sid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dload</span> <span class="o">=</span> <span class="n">dload</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wg</span> <span class="o">=</span> <span class="n">wg</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x0</span> <span class="o">=</span> <span class="n">x0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">V</span> <span class="o">=</span> <span class="n">V</span>

<div class="viewcode-block" id="GUST.add_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.GUST.add_card">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">add_card</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">card</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a GUST card from ``BDF.add_card(...)``</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        card : BDFCard()</span>
<span class="sd">            a BDFCard object</span>
<span class="sd">        comment : str; default=&#39;&#39;</span>
<span class="sd">            a comment for the card</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">sid</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;sid&#39;</span><span class="p">)</span>
        <span class="n">dload</span> <span class="o">=</span> <span class="n">integer</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;dload&#39;</span><span class="p">)</span>
        <span class="n">wg</span> <span class="o">=</span> <span class="n">double</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;wg&#39;</span><span class="p">)</span>
        <span class="n">x0</span> <span class="o">=</span> <span class="n">double</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;x0&#39;</span><span class="p">)</span>
        <span class="n">V</span> <span class="o">=</span> <span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;V&#39;</span><span class="p">)</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">card</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;len(GUST card) = </span><span class="si">%i</span><span class="se">\n</span><span class="s1">card=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">card</span><span class="p">),</span> <span class="n">card</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">GUST</span><span class="p">(</span><span class="n">sid</span><span class="p">,</span> <span class="n">dload</span><span class="p">,</span> <span class="n">wg</span><span class="p">,</span> <span class="n">x0</span><span class="p">,</span> <span class="n">V</span><span class="o">=</span><span class="n">V</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span></div>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">add_op2_data</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="n">sid</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">dload</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">wg</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">x0</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
        <span class="n">V</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">==</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;data = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">data</span>
        <span class="k">return</span> <span class="n">GUST</span><span class="p">(</span><span class="n">sid</span><span class="p">,</span> <span class="n">dload</span><span class="p">,</span> <span class="n">wg</span><span class="p">,</span> <span class="n">x0</span><span class="p">,</span> <span class="n">V</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span>

    <span class="c1">#def Angle(self):</span>
        <span class="c1">#angle = self.wg * self.t * (t-(x-self.x0) / self.V) # T is the tabular</span>
        <span class="c1">#return angle</span>

    <span class="c1">#def uncross_reference(self) -&gt; None:</span>
        <span class="c1">#pass</span>

    <span class="k">def</span> <span class="nf">_verify</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">xref</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">model</span><span class="o">.</span><span class="n">aero</span><span class="p">:</span>
            <span class="k">pass</span>
            <span class="c1">#assert model.aero.V == self.V</span>

<div class="viewcode-block" id="GUST.raw_fields"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.GUST.raw_fields">[docs]</a>    <span class="k">def</span> <span class="nf">raw_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the fields in their unmodified form</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        fields : list[varies]</span>
<span class="sd">            the fields that define the card</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">list_fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;GUST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">sid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dload</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">wg</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">x0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">V</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">list_fields</span></div>

<div class="viewcode-block" id="GUST.write_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.GUST.write_card">[docs]</a>    <span class="k">def</span> <span class="nf">write_card</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">is_double</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">card</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">repr_fields</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">print_card_8</span><span class="p">(</span><span class="n">card</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="MKAERO1"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.MKAERO1">[docs]</a><span class="k">class</span> <span class="nc">MKAERO1</span><span class="p">(</span><span class="n">BaseCard</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Provides a table of Mach numbers (m) and reduced frequencies (k) for</span>
<span class="sd">    aerodynamic matrix calculation.</span>

<span class="sd">    +---------+----+----+----+----+----+----+----+----+</span>
<span class="sd">    |    1    |  2 | 3  |  4 | 5  | 6  | 7  | 8  | 9  |</span>
<span class="sd">    +=========+====+====+====+====+====+====+====+====+</span>
<span class="sd">    | MKAERO1 | m1 | m2 | m3 | m4 | m5 | m6 | m7 | m8 |</span>
<span class="sd">    +---------+----+----+----+----+----+----+----+----+</span>
<span class="sd">    |         | k1 | k2 | k3 | k4 | k5 | k6 | k7 | k8 |</span>
<span class="sd">    +---------+----+----+----+----+----+----+----+----+</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">type</span> <span class="o">=</span> <span class="s1">&#39;MKAERO1&#39;</span>

<div class="viewcode-block" id="MKAERO1._init_from_empty"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.MKAERO1._init_from_empty">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_init_from_empty</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="n">machs</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.</span><span class="p">]</span>
        <span class="n">reduced_freqs</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">MKAERO1</span><span class="p">(</span><span class="n">machs</span><span class="p">,</span> <span class="n">reduced_freqs</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">machs</span><span class="p">,</span> <span class="n">reduced_freqs</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates an MKAERO1 card, which defines a set of mach and</span>
<span class="sd">        reduced frequencies.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        machs : List[float]</span>
<span class="sd">            series of Mach numbers</span>
<span class="sd">        reduced_freqs : List[float]</span>
<span class="sd">            series of reduced frequencies</span>
<span class="sd">        comment : str; default=&#39;&#39;</span>
<span class="sd">            a comment for the card</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">BaseCard</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">comment</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">=</span> <span class="n">comment</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">machs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">machs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reduced_freqs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">reduced_freqs</span><span class="p">)</span>

<div class="viewcode-block" id="MKAERO1.validate"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.MKAERO1.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="k">if</span> <span class="kc">None</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">machs</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;MKAERO1; None in machs=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">machs</span><span class="p">)</span>
        <span class="k">if</span> <span class="kc">None</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">reduced_freqs</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;MKAERO1; None in rfreqs=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">reduced_freqs</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">machs</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;MKAERO1; nmachs=</span><span class="si">%s</span><span class="s1"> machs=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">machs</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">machs</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">reduced_freqs</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;MKAERO1; nrfreqs=</span><span class="si">%s</span><span class="s1"> rfreqs=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">reduced_freqs</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">reduced_freqs</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">msg</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="o">.</span><span class="n">rstrip</span><span class="p">())</span></div>

<div class="viewcode-block" id="MKAERO1.add_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.MKAERO1.add_card">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">add_card</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">card</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds an MKAERO1 card from ``BDF.add_card(...)``</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        card : BDFCard()</span>
<span class="sd">            a BDFCard object</span>
<span class="sd">        comment : str; default=&#39;&#39;</span>
<span class="sd">            a comment for the card</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">list_fields</span> <span class="o">=</span> <span class="p">[</span><span class="n">interpret_value</span><span class="p">(</span><span class="n">field</span><span class="p">,</span> <span class="n">card</span><span class="p">)</span> <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">card</span><span class="p">[</span><span class="mi">1</span><span class="p">:]]</span>
        <span class="n">nfields</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">list_fields</span><span class="p">)</span> <span class="o">-</span> <span class="mi">8</span>
        <span class="n">machs</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">reduced_freqs</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">nfields</span><span class="p">):</span>
            <span class="n">machs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="s1">&#39;mach&#39;</span><span class="p">))</span>
            <span class="n">reduced_freqs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">double_or_blank</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;rFreq&#39;</span><span class="p">))</span>
        <span class="n">machs</span> <span class="o">=</span> <span class="n">wipe_empty_fields</span><span class="p">(</span><span class="n">machs</span><span class="p">)</span>
        <span class="n">reduced_freqs</span> <span class="o">=</span> <span class="n">wipe_empty_fields</span><span class="p">(</span><span class="n">reduced_freqs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">MKAERO1</span><span class="p">(</span><span class="n">machs</span><span class="p">,</span> <span class="n">reduced_freqs</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span></div>

<div class="viewcode-block" id="MKAERO1.mklist"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.MKAERO1.mklist">[docs]</a>    <span class="k">def</span> <span class="nf">mklist</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">mklist</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">mach</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">machs</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">kfreq</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">reduced_freqs</span><span class="p">:</span>
                <span class="n">mklist</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">mach</span><span class="p">,</span> <span class="n">kfreq</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">mklist</span></div>

<div class="viewcode-block" id="MKAERO1.raw_fields"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.MKAERO1.raw_fields">[docs]</a>    <span class="k">def</span> <span class="nf">raw_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the fields in their unmodified form</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        fields : list[varies]</span>
<span class="sd">            the fields that define the card</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1">#list_fields = [&#39;MKAERO1&#39;]</span>
        <span class="c1">#for (i, mach, rfreq) in zip(count(), self.machs, self.reduced_freqs):</span>
        <span class="c1">#    list_fields += [mach, rfreq]</span>

        <span class="c1"># kind of a hack because there isn&#39;t a good way to do this for</span>
        <span class="c1"># duplicately-defined MKAERO1s</span>
        <span class="n">machs</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="nb">max</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">machs</span><span class="p">))</span>
        <span class="n">freqs</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="nb">max</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">reduced_freqs</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">mach</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">machs</span><span class="p">):</span>
            <span class="n">machs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">mach</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">freq</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">reduced_freqs</span><span class="p">):</span>
            <span class="n">freqs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">freq</span>
        <span class="n">list_fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;MKAERO1&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">machs</span> <span class="o">+</span> <span class="n">freqs</span>
        <span class="k">return</span> <span class="n">list_fields</span></div>

<div class="viewcode-block" id="MKAERO1.write_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.MKAERO1.write_card">[docs]</a>    <span class="k">def</span> <span class="nf">write_card</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">is_double</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">nmachs</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">machs</span><span class="p">)</span>
        <span class="n">nreduced_freqs</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">reduced_freqs</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">nmachs</span> <span class="o">&gt;</span> <span class="mi">8</span> <span class="ow">or</span> <span class="n">nreduced_freqs</span> <span class="o">&gt;</span> <span class="mi">8</span><span class="p">:</span>
            <span class="n">mach_sets</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">rfreq_sets</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">imach</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">ifreq</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">while</span> <span class="n">imach</span> <span class="o">&lt;</span> <span class="n">nmachs</span><span class="p">:</span>
                <span class="n">mach_sets</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">machs</span><span class="p">[</span><span class="n">imach</span><span class="p">:</span><span class="n">imach</span><span class="o">+</span><span class="mi">8</span><span class="p">])</span>
                <span class="n">imach</span> <span class="o">+=</span> <span class="mi">8</span>
            <span class="k">while</span> <span class="n">ifreq</span> <span class="o">&lt;</span> <span class="n">nreduced_freqs</span><span class="p">:</span>
                <span class="n">rfreq_sets</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">reduced_freqs</span><span class="p">[</span><span class="n">ifreq</span><span class="p">:</span><span class="n">ifreq</span><span class="o">+</span><span class="mi">8</span><span class="p">])</span>
                <span class="n">ifreq</span> <span class="o">+=</span> <span class="mi">8</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span>

            <span class="c1">#print(&#39;mach_sets = %s&#39; % mach_sets)</span>
            <span class="c1">#print(&#39;rfreq_sets = %s&#39; % rfreq_sets)</span>
            <span class="k">for</span> <span class="n">mach_set</span> <span class="ow">in</span> <span class="n">mach_sets</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">rfreq_set</span> <span class="ow">in</span> <span class="n">rfreq_sets</span><span class="p">:</span>
                    <span class="n">msg</span> <span class="o">+=</span> <span class="n">MKAERO1</span><span class="p">(</span><span class="n">mach_set</span><span class="p">,</span> <span class="n">rfreq_set</span><span class="p">)</span><span class="o">.</span><span class="n">write_card</span><span class="p">(</span>
                        <span class="n">size</span><span class="o">=</span><span class="n">size</span><span class="p">,</span> <span class="n">is_double</span><span class="o">=</span><span class="n">is_double</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">msg</span>

        <span class="n">machs</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="mi">8</span>
        <span class="n">reduced_freqs</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="mi">8</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="mi">0</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">machs</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">8</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;MKAERO1; nmachs=</span><span class="si">%s</span><span class="s1"> machs=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">machs</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">machs</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="mi">0</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">reduced_freqs</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">8</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;MKAERO1; nrfreqs=</span><span class="si">%s</span><span class="s1"> rfreqs=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">reduced_freqs</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">reduced_freqs</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">mach</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">count</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">machs</span><span class="p">):</span>
            <span class="n">machs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">mach</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">rfreq</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">count</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">reduced_freqs</span><span class="p">):</span>
            <span class="n">reduced_freqs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">rfreq</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="n">print_card_8</span><span class="p">([</span><span class="s1">&#39;MKAERO1&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">machs</span> <span class="o">+</span> <span class="n">reduced_freqs</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">write_card</span><span class="p">()</span></div>


<div class="viewcode-block" id="MKAERO2"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.MKAERO2">[docs]</a><span class="k">class</span> <span class="nc">MKAERO2</span><span class="p">(</span><span class="n">BaseCard</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Provides a table of Mach numbers (m) and reduced frequencies (k) for</span>
<span class="sd">    aerodynamic matrix calculation.</span>

<span class="sd">    +---------+----+----+----+----+----+----+----+----+</span>
<span class="sd">    |    1    | 2  | 3  | 4  | 5  | 6  | 7  | 8  | 9  |</span>
<span class="sd">    +=========+====+====+====+====+====+====+====+====+</span>
<span class="sd">    | MKAERO2 | m1 | k1 | m2 | k2 | m3 | k3 | m4 | k4 |</span>
<span class="sd">    +---------+----+----+----+----+----+----+----+----+</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">type</span> <span class="o">=</span> <span class="s1">&#39;MKAERO2&#39;</span>

<div class="viewcode-block" id="MKAERO2._init_from_empty"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.MKAERO2._init_from_empty">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_init_from_empty</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="n">machs</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.</span><span class="p">]</span>
        <span class="n">reduced_freqs</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">MKAERO2</span><span class="p">(</span><span class="n">machs</span><span class="p">,</span> <span class="n">reduced_freqs</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">machs</span><span class="p">,</span> <span class="n">reduced_freqs</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates an MKAERO2 card, which defines a set of mach and</span>
<span class="sd">        reduced frequency pairs.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        machs : List[float]</span>
<span class="sd">            series of Mach numbers</span>
<span class="sd">        reduced_freqs : List[float]</span>
<span class="sd">            series of reduced frequencies</span>
<span class="sd">        comment : str; default=&#39;&#39;</span>
<span class="sd">            a comment for the card</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">BaseCard</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">comment</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">=</span> <span class="n">comment</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">machs</span> <span class="o">=</span> <span class="n">machs</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reduced_freqs</span> <span class="o">=</span> <span class="n">reduced_freqs</span>

<div class="viewcode-block" id="MKAERO2.validate"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.MKAERO2.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">machs</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;MKAERO2; nmachs=</span><span class="si">%s</span><span class="s1"> machs=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">machs</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">machs</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">reduced_freqs</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;MKAERO2; nrfreqs=</span><span class="si">%s</span><span class="s1"> rfreqs=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">reduced_freqs</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">reduced_freqs</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">machs</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">reduced_freqs</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;MKAERO2; len(machs)=</span><span class="si">%s</span><span class="s1"> len(rfreqs)=</span><span class="si">%s</span><span class="s1">; should be the same&#39;</span> <span class="o">%</span> <span class="p">(</span>
                <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">machs</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">reduced_freqs</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span></div>

<div class="viewcode-block" id="MKAERO2.add_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.MKAERO2.add_card">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">add_card</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">card</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds an MKAERO2 card from ``BDF.add_card(...)``</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        card : BDFCard()</span>
<span class="sd">            a BDFCard object</span>
<span class="sd">        comment : str; default=&#39;&#39;</span>
<span class="sd">            a comment for the card</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">list_fields</span> <span class="o">=</span> <span class="n">card</span><span class="o">.</span><span class="n">fields</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">nfields</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">list_fields</span><span class="p">)</span>
        <span class="n">machs</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">reduced_freqs</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">nfields</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
            <span class="n">machs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">double</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="s1">&#39;mach&#39;</span><span class="p">))</span>
            <span class="n">reduced_freqs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">double</span><span class="p">(</span><span class="n">card</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;rFreq&#39;</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">MKAERO2</span><span class="p">(</span><span class="n">machs</span><span class="p">,</span> <span class="n">reduced_freqs</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span></div>


<div class="viewcode-block" id="MKAERO2.mklist"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.MKAERO2.mklist">[docs]</a>    <span class="k">def</span> <span class="nf">mklist</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">mklist</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">mach</span><span class="p">,</span> <span class="n">kfreq</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">machs</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">reduced_freqs</span><span class="p">):</span>
            <span class="n">mklist</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">mach</span><span class="p">,</span> <span class="n">kfreq</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">mklist</span></div>

<div class="viewcode-block" id="MKAERO2.raw_fields"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.MKAERO2.raw_fields">[docs]</a>    <span class="k">def</span> <span class="nf">raw_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the fields in their unmodified form</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        fields : list[varies]</span>
<span class="sd">            the fields that define the card</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">list_fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;MKAERO2&#39;</span><span class="p">]</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">mach</span><span class="p">,</span> <span class="n">rfreq</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">machs</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">reduced_freqs</span><span class="p">):</span>
            <span class="n">list_fields</span> <span class="o">+=</span> <span class="p">[</span><span class="n">mach</span><span class="p">,</span> <span class="n">rfreq</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">list_fields</span></div>

<div class="viewcode-block" id="MKAERO2.write_card"><a class="viewcode-back" href="../../../../../reference/bdf/cards/aero/pyNastran.bdf.cards.aero.dynamic_loads.html#pyNastran.bdf.cards.aero.dynamic_loads.MKAERO2.write_card">[docs]</a>    <span class="k">def</span> <span class="nf">write_card</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">is_double</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">cards</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">list_fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;MKAERO2&#39;</span><span class="p">]</span>
        <span class="n">nvalues</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">mach</span><span class="p">,</span> <span class="n">rfreq</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">machs</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">reduced_freqs</span><span class="p">):</span>
            <span class="n">list_fields</span> <span class="o">+=</span> <span class="p">[</span><span class="n">mach</span><span class="p">,</span> <span class="n">rfreq</span><span class="p">]</span>
            <span class="n">nvalues</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="n">nvalues</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
                <span class="n">cards</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">print_card_8</span><span class="p">(</span><span class="n">list_fields</span><span class="p">))</span>
                <span class="n">list_fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;MKAERO2&#39;</span><span class="p">]</span>
                <span class="n">nvalues</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="n">nvalues</span><span class="p">:</span>
            <span class="n">cards</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">print_card_8</span><span class="p">(</span><span class="n">list_fields</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">machs</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">reduced_freqs</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">machs</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;MKAERO2: len(machs)=</span><span class="si">%s</span><span class="s1"> len(reduced_freqs)=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span>
                    <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">machs</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">reduced_freqs</span><span class="p">))</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">+</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">cards</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">write_card</span><span class="p">()</span></div>
</pre></div>

           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Steven Doyle.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>