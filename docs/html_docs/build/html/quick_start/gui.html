

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Graphical User Interface (GUI) &mdash; pyNastran 1.4-dev 1.4-dev documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/my_theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/my_theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Calling pyNastran from MATLAB" href="matlab.html" />
    <link rel="prev" title="OP4 Demo" href="op4_demo.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> pyNastran 1.4-dev
          

          
            
            <img src="../_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.4-dev
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation/index.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Quick Start</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="index.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#bdf">BDF</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#op2">OP2</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#op4">OP4</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html#gui">GUI</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Graphical User Interface (GUI)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#features-overview">Features Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#scripting">Scripting</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#other">Other</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../how_to/index.html">How To: pyNastran</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/pyNastran.html">pyNastran Package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual/index.html">pyNastran Manual</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">pyNastran 1.4-dev</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Quick Start</a> &raquo;</li>
        
      <li>Graphical User Interface (GUI)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/quick_start/gui.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="graphical-user-interface-gui">
<span id="xref-pynastran-gui"></span><h1>Graphical User Interface (GUI)<a class="headerlink" href="#graphical-user-interface-gui" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>The pyNastran GUI was originally developed to solve a data validation problem.
It’s hard to validate that things like coordinate systems were correct if you
can’t look at the geometry in a native format.  As time went on, niche features
that were needed (e.g., aero panels) that were not supported natively in
Patran 2005, were added.  The goal is not to replace a code like Patran or
FEMAP, but instead complement it.</p>
<p>Since the intial development, the GUI has become significantly more capable
by adding features such as displacements and forces, so the need for a code like
Patran has decreased, but will not be eliminated.</p>
<div class="section" id="introduction">
<h3>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h3>
<p>The Graphical User Interface (GUI) looks like:</p>
<img alt="../_images/qt.png" src="../_images/qt.png" />
<p>A somewhat messy, but more featured image:</p>
<img alt="../_images/eigenvectors_groups_legend.png" src="../_images/eigenvectors_groups_legend.png" />
<p>The GUI also has a sidebar and transient support.</p>
<div class="section" id="advantages-of-pynastrangui">
<h4>Advantages of pyNastranGUI<a class="headerlink" href="#advantages-of-pynastrangui" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><ul class="simple">
<li>command line interface for loading models</li>
<li>simple scripting</li>
<li>nice looking models</li>
<li>intuitive rotation</li>
<li>niche features
- aero panels
- aero splines
- aero spline points
- control surfaces</li>
<li>custom results from a CSV file</li>
<li>64 bit support
- Patran 2005 can’t read in models that pyNastranGUI can
- not an advantage for newer versions</li>
<li>animated gifs</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="advantages-of-patran-femap">
<h4>Advantages of Patran/FEMAP<a class="headerlink" href="#advantages-of-patran-femap" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><ul class="simple">
<li>CAD geometry support (e.g., IGES, Parasolid)</li>
<li>geometry creation (e.g., points, surfaces)</li>
<li>meshing</li>
<li>edit materials/properties</li>
<li>much better picking support</li>
<li>much better groups</li>
<li>better use of memory</li>
<li>grid point forces</li>
<li>many more…</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="purpose-of-additional-formats">
<h4>Purpose of additional formats<a class="headerlink" href="#purpose-of-additional-formats" title="Permalink to this headline">¶</a></h4>
<p>Over time, pyNastran has also added converter and GUI support for additional
formats.  Nastran is not the only piece of the analysis puzzle and there is
a need for niche engineering formats.</p>
<p>While, you could convert a Cart3d model (a simple triangulation) to another
format like Nastran, you would need to map the geometry/result quantity of
interest (e.g., Mach Number) to something like pressure.  That’s unintuitive
and also requires writing an ill-defined format converter.  It’s nice to load
it natively as you can also automatically create other quantities (e.g., the
bounding CFD box, free edges).</p>
<p>Finally, adding support for alternate formats drives GUI development.  The model
reload functionality was added to address loading the latest time step of a Usm3d
model.  It was repurposed to reload the geometry for other formats.  This is very
useful when creating aero panels and you want to see your changes.  The groups
functionality benefits all formats.</p>
<p>Additonal formats include:</p>
<blockquote>
<div><ul class="simple">
<li>panair</li>
<li>cart3d</li>
<li>stl</li>
<li>tecplot</li>
<li>AFLR</li>
</ul>
<blockquote>
<div><ul class="simple">
<li>bsurf</li>
<li>surf</li>
<li>ugrid</li>
</ul>
</div></blockquote>
<ul class="simple">
<li>usm3d</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="setup-note">
<h4>Setup Note<a class="headerlink" href="#setup-note" title="Permalink to this headline">¶</a></h4>
<p>Download the entire package from Github or just the <a class="reference external" href="https://sourceforge.net/projects/pynastran/files/?source=navbar/">GUI</a> executable.</p>
<p>If you download the source, make sure you follow the <span class="xref std std-ref">Installation</span> and use <strong>setup.py develop</strong> and not <strong>setup.py install</strong>.</p>
<dl class="docutils">
<dt>For the GUI, the master <strong>requires</strong>:</dt><dd><ul class="simple">
<li>Python 3.7-3.8</li>
<li>any version of numpy</li>
<li>any version of scipy</li>
<li><code class="docutils literal notranslate"><span class="pre">vtk==7</span></code> or <code class="docutils literal notranslate"><span class="pre">vtk==8</span></code> or <code class="docutils literal notranslate"><span class="pre">vtk==9</span></code> (best in 7 or 8)</li>
<li><code class="docutils literal notranslate"><span class="pre">PyQt5</span></code> or <code class="docutils literal notranslate"><span class="pre">PySide2</span></code></li>
<li>other minor packages</li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="running-the-gui">
<h4>Running the GUI<a class="headerlink" href="#running-the-gui" title="Permalink to this headline">¶</a></h4>
<p>On the command line:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">&gt;&gt;&gt; pyNastranGUI</span>
</pre></div>
</div>
<p>To view the options:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">&gt;&gt;&gt; pyNastranGUI --help</span>

<span class="go">  Usage:</span>
<span class="go">    pyNastranGUI [-f FORMAT] INPUT [-o OUTPUT]</span>
<span class="go">                 [-s SHOT] [-m MAGNIFY]</span>
<span class="go">                 [-g GSCRIPT] [-p PSCRIPT]</span>
<span class="go">                 [-u POINTS_FNAME...] [--user_geom GEOM_FNAME...]</span>
<span class="go">                 [-q] [--groups]</span>
<span class="go">    pyNastranGUI [-f FORMAT] INPUT OUTPUT [-o OUTPUT]</span>
<span class="go">                 [-s SHOT] [-m MAGNIFY]</span>
<span class="go">                 [-g GSCRIPT] [-p PSCRIPT]</span>
<span class="go">                 [-u POINTS_FNAME...] [--user_geom GEOM_FNAME...]</span>
<span class="go">                 [-q] [--groups]</span>
<span class="go">    pyNastranGUI [-f FORMAT] [-i INPUT] [-o OUTPUT...]</span>
<span class="go">                 [-s SHOT] [-m MAGNIFY]</span>
<span class="go">                 [-g GSCRIPT] [-p PSCRIPT]</span>
<span class="go">                 [-u POINTS_FNAME...] [--user_geom GEOM_FNAME...]</span>
<span class="go">                 [-q] [--groups]</span>
<span class="go">    pyNastranGUI -h | --help</span>
<span class="go">    pyNastranGUI -v | --version</span>

<span class="go">  Primary Options:</span>
<span class="go">    -f FORMAT, --format FORMAT  format type (avus, cart3d, lawgs, nastran, panair,</span>
<span class="go">                                             plot3d, stl, surf, tetgen, ugrid, usm3d)</span>
<span class="go">    -i INPUT, --input INPUT     path to input file</span>
<span class="go">    -o OUTPUT, --output OUTPUT  path to output file</span>

<span class="go">  Secondary Options:</span>
<span class="go">    -g GSCRIPT, --geomscript        path to geometry script file (runs before load geometry)</span>
<span class="go">    -p PSCRIPT, --postscript        path to post script file (runs after load geometry)</span>
<span class="go">    -s SHOT, --shots SHOT           path to screenshot (only 1 for now)</span>
<span class="go">    -m MAGNIFY, --magnify           how much should the resolution on a picture be magnified [default: 5]</span>
<span class="go">    --groups                        enables groups</span>
<span class="go">    --user_geom GEOM_FNAME          add user specified points to an alternate grid (repeatable)</span>
<span class="go">    -u POINTS_FNAME, --user_points  add user specified points to an alternate grid (repeatable)</span>

<span class="go">  Info:</span>
<span class="go">    -q, --quiet    prints debug messages (default=True)</span>
<span class="go">    -h, --help     show this help message and exit</span>
<span class="go">    -v, --version  show program&#39;s version number and exit</span>
</pre></div>
</div>
<p>The standard way to run the code is simply by launching the exe.
Alternatively, you can call it from the command line, which can directly
load a model:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">&gt;&gt;&gt; pyNastranGUI -f nastran -i model.bdf -o model1.op2 -o model2.op2</span>
</pre></div>
</div>
<p>The <strong>solid_bending.bdf</strong> and <strong>solid_bending.op2</strong> files have been included
as examples that work in the GUI.  They are inside the “models” folder
(at the same level as <code class="docutils literal notranslate"><span class="pre">setup.py</span></code>).</p>
<p>You can also run it like:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pyNastranGUI</span> <span class="n">model</span><span class="o">.</span><span class="n">bdf</span> <span class="n">model1</span><span class="o">.</span><span class="n">op2</span>
</pre></div>
</div>
<p>Here the code will guess based on your file extension what your file format is.
If you want to load a second OP2, you must use <code class="docutils literal notranslate"><span class="pre">-o</span> <span class="pre">model2.op2</span></code>.</p>
</div>
<div class="section" id="features">
<h4>Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><ul class="simple">
<li>fringe plot support<ul>
<li>elemental/nodal results</li>
<li>custom CSV results</li>
</ul>
</li>
<li>deflection results</li>
<li>force results</li>
<li>command line interface</li>
<li>scripting capability</li>
<li>high resolution screenshot</li>
<li>show/hide elements<ul>
<li>can edit properties (e.g. color/opacity/size) using <code class="docutils literal notranslate"><span class="pre">Edit</span> <span class="pre">Geometry</span> <span class="pre">Properties...</span></code> on the <code class="docutils literal notranslate"><span class="pre">View</span></code> menu</li>
</ul>
</li>
<li>legend menu</li>
<li>animation menu</li>
<li>save/load view menu</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="minor-features">
<h4>Minor Features<a class="headerlink" href="#minor-features" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><ul class="simple">
<li>snap to axis</li>
<li>clipping customization menu</li>
<li>edges flippable from menu</li>
<li>change label color/size menu</li>
<li>change background color</li>
<li>attach simplistic custom geometry with the <code class="docutils literal notranslate"><span class="pre">Load</span> <span class="pre">CSV</span> <span class="pre">User</span> <span class="pre">Geometry</span></code> or the <code class="docutils literal notranslate"><span class="pre">-user_geom</span></code> option</li>
<li>additional points may be added with the <code class="docutils literal notranslate"><span class="pre">Load</span> <span class="pre">CSV</span> <span class="pre">User</span> <span class="pre">Points</span></code> or the <code class="docutils literal notranslate"><span class="pre">--user_points</span></code> option</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="nastran-specific-features">
<h4>Nastran Specific Features<a class="headerlink" href="#nastran-specific-features" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><ul class="simple">
<li>attach multiple OP2 files</li>
<li>supports SPOINTs</li>
<li>displacement/eigenvectors/nodal force results<ul>
<li>scale/phase editable from legend menu</li>
<li>rotated into global frame</li>
</ul>
</li>
<li>Edit Geometry Properties<ul>
<li>SPC/MPC/RBE constraints</li>
<li>CAERO panel, subpanels</li>
<li>AEFACT control surfaces</li>
<li>SPLINE panels/points</li>
<li>bar/beam orientation vectors</li>
<li>CONM2</li>
</ul>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="bdf-requirements">
<h4>BDF Requirements<a class="headerlink" href="#bdf-requirements" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><ul class="simple">
<li>Entire model can be cross-referenced</li>
<li>Same requirements as BDF (include an executive/case control deck, define
all cross-referenced cards, etc.)</li>
</ul>
</div></blockquote>
<div class="section" id="versioning-note">
<h5>Versioning Note<a class="headerlink" href="#versioning-note" title="Permalink to this headline">¶</a></h5>
<p>The GUI download is typically newer than the latest release version.</p>
</div>
</div>
<div class="section" id="additional-formats">
<h4>Additional Formats<a class="headerlink" href="#additional-formats" title="Permalink to this headline">¶</a></h4>
<p>Some of the results include:</p>
<blockquote>
<div><ul>
<li><p class="first"><strong>Nastran</strong> ASCII input (*.bdf, *.nas, *.dat, *.pch, *.ecd); binary output (*.op2)</p>
<ul>
<li><p class="first">geometry</p>
<blockquote>
<div><ul class="simple">
<li>node ID</li>
<li>element ID</li>
<li>property ID</li>
<li>material ID</li>
<li>thickness</li>
<li>normal</li>
<li>shell offset</li>
<li>PBAR/PBEAM/PBARL/PBEAML type</li>
<li>element quality (min/max interior angle, skew angle, taper ratio, area ratio)</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">real results</p>
<blockquote>
<div><ul>
<li><p class="first">stress, strain</p>
</li>
<li><p class="first">displacement, eigenvector, temperature, SPC forces, MPC forces, load vector</p>
</li>
<li><p class="first">complex results</p>
<blockquote>
<div><ul class="simple">
<li>displacement, eigenvector</li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
</ul>
</li>
<li><p class="first"><strong>Cart3d</strong> ASCII/binary input (*.tri); ASCII output (*.triq)</p>
<ul class="simple">
<li>Node ID</li>
<li>Element ID</li>
<li>Region</li>
<li>Cp, p, U, V, W, E, rho, rhoU, rhoV, rhoW, rhoE, Mach</li>
<li>Normal</li>
</ul>
</li>
<li><p class="first"><strong>LaWGS</strong> input (*.wgs)</p>
</li>
<li><p class="first"><strong>Panair</strong> input (*.inp); output (agps, *.out)</p>
<ul class="simple">
<li>Patch ID</li>
<li>Normal X/Y/Z</li>
<li>Centroid X/Y/Z</li>
<li>Area</li>
<li>Node X/Y/Z</li>
<li>Cp</li>
</ul>
</li>
<li><p class="first"><strong>STL</strong> ASCII/binary input (*.stl)</p>
<ul class="simple">
<li>Normal X/Y/Z</li>
</ul>
</li>
<li><p class="first"><strong>Tetgen</strong> input (*.smesh)</p>
</li>
<li><p class="first"><strong>Usm3d</strong> surface input (*.front, *.cogsg); volume input (*.cogsg); volume output (*.flo)</p>
<ul class="simple">
<li>Boundary Condition Region</li>
<li>Node ID</li>
<li>Cp, Mach, T, U, V, W, p, rhoU</li>
</ul>
</li>
</ul>
</div></blockquote>
</div>
</div>
</div>
<div class="section" id="features-overview">
<h2>Features Overview<a class="headerlink" href="#features-overview" title="Permalink to this headline">¶</a></h2>
<p>The View -&gt; “Edit Geometry Properties” menu brings up:</p>
<img alt="../_images/edit_geometry_properties.png" src="../_images/edit_geometry_properties.png" />
<p>This menu allows you to edit the opacity, line width, point size, show/hide various
things associated with the model.  The geometry auto-updates when changes are made.</p>
<p>The View -&gt; “Modify Legend” menu brings up:</p>
<img alt="../_images/legend.png" src="../_images/legend.png" />
<p>This menu allows you to edit the max/min values of the legend as well as the orientation,
number format (e.g. float precision) and deflection scale.  Defaults are stored, so
they may always be gone back to.  The geometry will update when Apply/OK is clicked.
OK/Cancel will close the window.</p>
<p>The animation menu is a sub-menu found on the <code class="docutils literal notranslate"><span class="pre">legend</span> <span class="pre">menu</span></code>.
Hover over the cells for more information.</p>
<p>You must load the animation menu when a displacement-like result is active.
You may then change to a scalar result to show during the animation.  For the
following SOL 101 static deflection result, <strong>Animate Scale</strong> is used to scale
the current result (Displacement).  The <code class="docutils literal notranslate"><span class="pre">iCase</span></code> value corresponds to
case that is currently active (Displacement) and is automatically populated when
you click the <code class="docutils literal notranslate"><span class="pre">Create</span> <span class="pre">Animation</span></code> button from the Legend menu.</p>
<p>If you would like to plot a separate result (e.g., Node ID), switch to that
result.  The iCase value will not change.  When you click <code class="docutils literal notranslate"><span class="pre">Run</span> <span class="pre">All</span></code>, the <code class="docutils literal notranslate"><span class="pre">iCase</span></code>
value is pulled and the deflection shape is calculated.  Make sure you actually
have a deflected geometry.</p>
<img alt="../_images/animation_menu_scale.png" src="../_images/animation_menu_scale.png" />
<p>In your output folder, you will find:</p>
<img alt="../_images/solid_bending.gif" src="../_images/solid_bending.gif" />
<p>If the file is too big, shrink the size of the window.  Make the max deflection of
the image fill the screen.  Leave minimal whitespace.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If unclickling <code class="docutils literal notranslate"><span class="pre">Repeat?</span></code> doesn’t disable gif looping, upgrade <code class="docutils literal notranslate"><span class="pre">imageio</span></code>.</p>
</div>
<p>Complex Mode Shapes are simple and similar to the <code class="docutils literal notranslate"><span class="pre">Animate</span> <span class="pre">Scale</span></code> option.
Here, the phase angle sweeps from 0 to 360 degrees.  Note that this option only
shows up when you have a complex result for <code class="docutils literal notranslate"><span class="pre">iCase</span></code>.</p>
<img alt="../_images/animation_menu_freq.png" src="../_images/animation_menu_freq.png" />
<p>This option is recommended only for constant time/frequency/load step results.
It is now necessary to learn how to set <code class="docutils literal notranslate"><span class="pre">iCase</span></code>.  In the <code class="docutils literal notranslate"><span class="pre">Application</span> <span class="pre">log</span></code>, you’ll see:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">COMMAND: fname=gui_qt_common.pyc lineNo=316 cycle_results(case=10)</span>
</pre></div>
</div>
<p>Check your first (assume 10), second (assume 11), and final time step (assume 40)
for their <code class="docutils literal notranslate"><span class="pre">iCase</span></code> values.</p>
<p>For deflection results loaded from an OP2, the <code class="docutils literal notranslate"><span class="pre">iCase</span> <span class="pre">Delta</span></code> will be 1, but
depending on the frame rate and total time you want, you can skip steps.</p>
<img alt="../_images/animation_menu_time.png" src="../_images/animation_menu_time.png" />
<p>Note that there is currently no way to plot a transient result other than the deflection
unless you want to use scripting.</p>
<p>The preferences menu allows you to change various settings.  These will be remembered
when you load model again.  The menu looks like:</p>
<img alt="../_images/preferences_menu.png" src="../_images/preferences_menu.png" />
<p>Hover over the cells for more information.</p>
<p>Click on the <code class="docutils literal notranslate"><span class="pre">Probe</span></code> button to activate probing.  Now click on a node/element.
A label will appear .  This label will appear at the centroid of an elemental result
or the closest node to the selected location.  The value for the current result
quantity will appear on the model.  You can also press the <code class="docutils literal notranslate"><span class="pre">p</span></code> button.</p>
<img alt="../_images/picking_results.png" src="../_images/picking_results.png" />
<p>For “NodeID”, the xyz of the selcted point and the node in global XYZ space will be shown.
Labels may be cleared from the <code class="docutils literal notranslate"><span class="pre">View</span></code> menu.
Text color may also be changed from the <code class="docutils literal notranslate"><span class="pre">View</span> <span class="pre">-&gt;</span> <span class="pre">Preferences</span></code> menu.</p>
<p>Note that for line elements, you need to be very accurate with your picking.
Zooming in does not help with picking like it does for shells.</p>
<p>Click the following button and click on the rotation center point of the model.
The model will now rotate around that point.</p>
<img alt="../_images/trotation_center.png" src="../_images/trotation_center.png" />
<p>Alternatively, hover over the point and press the <code class="docutils literal notranslate"><span class="pre">f</span></code> key.</p>
<p>Clipping let’s you see “into” the model.</p>
<img alt="../_images/clipping.png" src="../_images/clipping.png" />
<p>Zoom in and hover over an element and press the <code class="docutils literal notranslate"><span class="pre">f</span></code> key.
The model will pan and now rotate around that point.
Continue to hold <code class="docutils literal notranslate"><span class="pre">f</span></code> while the model recenters.
Eventually, the frame will clip.
Reset the view by clicking the Undo-looking arrow at the top.</p>
<p><strong>Note that clipping currently doesn’t work…</strong></p>
<p>The View -&gt; “Modify Groups” menu brings up:</p>
<img alt="../_images/modify_groups1.png" src="../_images/modify_groups1.png" />
<p>Had you first clicked View -&gt; “Create Groups by Property ID”, you’d get:</p>
<img alt="../_images/modify_groups2.png" src="../_images/modify_groups2.png" />
<p>Add/Remove use the “Patran-style” syntax:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>elements <span class="m">1</span> to <span class="m">10</span> inclusive
<span class="go">1:10</span>

<span class="gp"># </span>elements <span class="m">100</span> to the end
<span class="go">100:#</span>

<span class="gp"># </span>every other element <span class="m">1</span> to <span class="m">11</span> - <span class="m">1</span>, <span class="m">3</span>, <span class="m">5</span>, <span class="m">7</span>, <span class="m">9</span>, <span class="m">11</span>
<span class="go">1:11:2</span>
</pre></div>
</div>
<p>The name of the group may also be changed, but duplicate names are not allowed.
The “main” group is the entire geometry.</p>
<p>The bolded/italicized text indicates the group that will be displayed to the screen.
The defaults will be updated when you click <code class="docutils literal notranslate"><span class="pre">Set</span> <span class="pre">As</span> <span class="pre">Main</span></code>.  This will also update
the bolded/italicided group.</p>
<p>The eyeball icon brings up a camera view.  You can set and save multiple camera views.
Additionally, views are written out for scripting.
You can script an external optimization process and take pictures every so many steps.</p>
<img alt="../_images/camera_views.png" src="../_images/camera_views.png" />
<p>User points allow you to load a CSV of xyz points.
These may be loaded from within the GUI or from the command line.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>x, y, z
<span class="go">1.0, 2.0, 3.0</span>
<span class="go">4.0, 5.0, 6.0</span>
</pre></div>
</div>
<p>These will show up as points in the GUI with your requested filename.</p>
<p>User geometry is an attempt at creating a simple file format for defining geometry.
This may be loaded from the command line.  The structure will probably change.</p>
<p>The geometry may be modified from the <code class="docutils literal notranslate"><span class="pre">Edit</span> <span class="pre">Geometry</span> <span class="pre">Properties</span></code> menu.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># all supported cards</span>
<span class="c1">#  - GRID</span>
<span class="c1">#  - BAR</span>
<span class="c1">#  - TRI</span>
<span class="c1">#  - QUAD</span>
<span class="c1">#</span>
<span class="c1"># doesn&#39;t support:</span>
<span class="c1">#  - solid elements</span>
<span class="c1">#  - element properties</span>
<span class="c1">#  - custom colors</span>
<span class="c1">#  - coordinate systems</span>
<span class="c1">#  - materials</span>
<span class="c1">#  - loads</span>
<span class="c1">#  - results</span>

<span class="c1">#    id  x    y    z</span>
<span class="n">GRID</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.3</span>
<span class="n">GRID</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mf">1.2</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.3</span>
<span class="n">GRID</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mf">2.2</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.3</span>
<span class="n">GRID</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mf">5.2</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.3</span>
<span class="n">grid</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mf">5.2</span><span class="p">,</span> <span class="mf">1.3</span><span class="p">,</span> <span class="mf">2.3</span>  <span class="c1"># case insensitive</span>

<span class="c1">#    ID, nodes</span>
<span class="n">BAR</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span>
<span class="n">TRI</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span>
<span class="c1"># this is a comment</span>

<span class="n">QUAD</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span>
<span class="n">QUAD</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span>  <span class="c1"># this is after a blank line</span>
</pre></div>
</div>
<p>Custom Elemental/Nodal CSV/TXT file results may be loaded.  The order and
length is important.  Results must be in nodal/elemental sorted order.
The following example has 3 scalar values with 2 locations.  The
corresponding model must have <strong>ONLY</strong> two nodes.  By default, all results
must be floatable (e.g., no NaN values).</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>element_id, x,   y, z
<span class="go">1,            1.0, 2, 3.0</span>
<span class="go">2,            4.0, 5, 6.0</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>element_id  x    y  z
<span class="go">1             1.0  2  3.0</span>
<span class="go">2             4.0  5  6.0</span>
</pre></div>
</div>
<p>You may also assign result types.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>element_id<span class="o">(</span>%i<span class="o">)</span>, x<span class="o">(</span>%f<span class="o">)</span>, y<span class="o">(</span>%i<span class="o">)</span>, z<span class="o">(</span>%f<span class="o">)</span>
<span class="go">1,                1.0,     2,     3.0</span>
<span class="go">2,                4.0,     5,     6.0</span>
</pre></div>
</div>
<p>Custom Elemental/Nodal CSV/TXT file results may be loaded.  The order and
length is important.  Results must be in nodal/elemental sorted order.
The following example has 3 scalar values with 2 locations.  The model must
have <strong>only</strong> two nodes.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>result_name
<span class="go">1.0     2     3.0</span>
<span class="go">2.0     5     6.0</span>
</pre></div>
</div>
<p>Nastran Static/Dynamic Aero solutions require custom cards that create
difficult to view, difficult to validate geometry.  The pyNastranGUI
aides in creating models.  The CAERO panels are seen when a model is loaded:</p>
<img alt="../_images/caero.png" src="../_images/caero.png" />
<p>Additionally, by clicking the <code class="docutils literal notranslate"><span class="pre">Toggle</span> <span class="pre">CAERO</span> <span class="pre">Subpanels</span></code> button,
the subpanels may be seen:</p>
<img alt="../_images/caero_subpanels.png" src="../_images/caero_subpanels.png" />
<p>Additionally, flaps are shown from within the GUI.  SPLINE surfaces
are also generated and may be seen on the <code class="docutils literal notranslate"><span class="pre">View</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Edit</span> <span class="pre">Geometry</span> <span class="pre">Properties</span></code>
menu.</p>
</div>
<div class="section" id="scripting">
<h2>Scripting<a class="headerlink" href="#scripting" title="Permalink to this headline">¶</a></h2>
<p>GUI commands are logged to the window with their call signature.
Scripting may be used to call any function in the GUI class.
Most of these commands are written to the <code class="docutils literal notranslate"><span class="pre">COMMAND</span></code> output.</p>
<p>For example, you can:</p>
<blockquote>
<div><ul class="simple">
<li>load geometry</li>
<li>load results</li>
<li>plot unsupported result types</li>
<li>custom animations of mode shapes</li>
<li>high resolution screenshots</li>
<li>model introspection</li>
<li>create custom annotations</li>
</ul>
</div></blockquote>
<p>The scripting menu allows for custom code and experimentation to be written
without loading a script from a file.  All valid Python is accepted.
Scripting commands should start with <code class="docutils literal notranslate"><span class="pre">self.</span></code> as they’re left off from the menu.
Local variables do not need this.</p>
<p><code class="docutils literal notranslate"><span class="pre">geomscript</span></code> runs after the load_geometry method, while
<code class="docutils literal notranslate"><span class="pre">postscript</span></code> runs after load_results has been performed</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="bp">self</span><span class="o">.</span><span class="n">on_take_screenshot</span><span class="p">(</span><span class="s1">&#39;solid_bending.png&#39;</span><span class="p">,</span> <span class="n">magnify</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">&gt;&gt;&gt; pyNastranGUI solid_bending.bdf solid_bending.op2 --postscript take_picture.py</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">on_take_screenshot</span><span class="p">(</span><span class="s1">&#39;solid_bending.png&#39;</span><span class="p">,</span> <span class="n">magnify</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
<p>On the <code class="docutils literal notranslate"><span class="pre">View</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Preferences</span></code> menu, change <strong>Screenshot Magnify</strong> and click <strong>Apply</strong>.
Now take a screenshot.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="matlab.html" class="btn btn-neutral float-right" title="Calling pyNastran from MATLAB" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="op4_demo.html" class="btn btn-neutral float-left" title="OP4 Demo" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Steven Doyle.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>